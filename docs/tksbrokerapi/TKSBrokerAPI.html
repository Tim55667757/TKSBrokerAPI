<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 12.3.1"/>
    <title>tksbrokerapi.TKSBrokerAPI API documentation</title>
            <link rel="icon" href="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/docs/media/favicon-128x128.png?raw=true"/>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#49483e}.pdoc-code{background:#272822; color:#f8f8f2}.pdoc-code .c{color:#75715e}.pdoc-code .err{color:#960050; background-color:#1e0010}.pdoc-code .esc{color:#f8f8f2}.pdoc-code .g{color:#f8f8f2}.pdoc-code .k{color:#66d9ef}.pdoc-code .l{color:#ae81ff}.pdoc-code .n{color:#f8f8f2}.pdoc-code .o{color:#f92672}.pdoc-code .x{color:#f8f8f2}.pdoc-code .p{color:#f8f8f2}.pdoc-code .ch{color:#75715e}.pdoc-code .cm{color:#75715e}.pdoc-code .cp{color:#75715e}.pdoc-code .cpf{color:#75715e}.pdoc-code .c1{color:#75715e}.pdoc-code .cs{color:#75715e}.pdoc-code .gd{color:#f92672}.pdoc-code .ge{color:#f8f8f2; font-style:italic}.pdoc-code .gr{color:#f8f8f2}.pdoc-code .gh{color:#f8f8f2}.pdoc-code .gi{color:#a6e22e}.pdoc-code .go{color:#66d9ef}.pdoc-code .gp{color:#f92672; font-weight:bold}.pdoc-code .gs{color:#f8f8f2; font-weight:bold}.pdoc-code .gu{color:#75715e}.pdoc-code .gt{color:#f8f8f2}.pdoc-code .kc{color:#66d9ef}.pdoc-code .kd{color:#66d9ef}.pdoc-code .kn{color:#f92672}.pdoc-code .kp{color:#66d9ef}.pdoc-code .kr{color:#66d9ef}.pdoc-code .kt{color:#66d9ef}.pdoc-code .ld{color:#e6db74}.pdoc-code .m{color:#ae81ff}.pdoc-code .s{color:#e6db74}.pdoc-code .na{color:#a6e22e}.pdoc-code .nb{color:#f8f8f2}.pdoc-code .nc{color:#a6e22e}.pdoc-code .no{color:#66d9ef}.pdoc-code .nd{color:#a6e22e}.pdoc-code .ni{color:#f8f8f2}.pdoc-code .ne{color:#a6e22e}.pdoc-code .nf{color:#a6e22e}.pdoc-code .nl{color:#f8f8f2}.pdoc-code .nn{color:#f8f8f2}.pdoc-code .nx{color:#a6e22e}.pdoc-code .py{color:#f8f8f2}.pdoc-code .nt{color:#f92672}.pdoc-code .nv{color:#f8f8f2}.pdoc-code .ow{color:#f92672}.pdoc-code .w{color:#f8f8f2}.pdoc-code .mb{color:#ae81ff}.pdoc-code .mf{color:#ae81ff}.pdoc-code .mh{color:#ae81ff}.pdoc-code .mi{color:#ae81ff}.pdoc-code .mo{color:#ae81ff}.pdoc-code .sa{color:#e6db74}.pdoc-code .sb{color:#e6db74}.pdoc-code .sc{color:#e6db74}.pdoc-code .dl{color:#e6db74}.pdoc-code .sd{color:#e6db74}.pdoc-code .s2{color:#e6db74}.pdoc-code .se{color:#ae81ff}.pdoc-code .sh{color:#e6db74}.pdoc-code .si{color:#e6db74}.pdoc-code .sx{color:#e6db74}.pdoc-code .sr{color:#e6db74}.pdoc-code .s1{color:#e6db74}.pdoc-code .ss{color:#e6db74}.pdoc-code .bp{color:#f8f8f2}.pdoc-code .fm{color:#a6e22e}.pdoc-code .vc{color:#f8f8f2}.pdoc-code .vg{color:#f8f8f2}.pdoc-code .vi{color:#f8f8f2}.pdoc-code .vm{color:#f8f8f2}</style>
    <style>/*! theme.css */:root{--pdoc-background:#212529;}.pdoc{--text:#f7f7f7;--muted:#9d9d9d;--link:#58a6ff;--link-hover:#3989ff;--code:#333;--active:#555;--accent:#343434;--accent2:#555;--nav-hover:rgba(0, 0, 0, 0.1);--name:#77C1FF;--def:#0cdd0c;--annotation:#00c037;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent }nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .pdoc-alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:1rem center;margin-bottom:1rem;}.pdoc .pdoc-alert > *:last-child{margin-bottom:0;}.pdoc .pdoc-alert-note {color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .pdoc-alert-danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--code);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div>            <a class="pdoc-button module-list-button" href="../tksbrokerapi.html">
<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
  <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
  <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
</svg>                &nbsp;tksbrokerapi</a>

            <img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/docs/media/TKSBrokerAPI-Logo-text-only.png?raw=true" class="logo" alt="project logo"/>

            <input type="search" placeholder="Search..." role="searchbox" aria-label="search"
                   pattern=".+" required>



        <h2>API Documentation</h2>
            <ul class="memberlist">
            <li>
                    <a class="class" href="#TinkoffBrokerServer">TinkoffBrokerServer</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.__init__">TinkoffBrokerServer</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.version">version</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.aliases">aliases</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.depth">depth</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.server">server</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.timeout">timeout</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.retry">retry</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.pause">pause</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.headers">headers</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.body">body</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.moreDebug">moreDebug</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.useHTMLReports">useHTMLReports</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.historyFile">historyFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.htmlHistoryFile">htmlHistoryFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.instrumentsFile">instrumentsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.searchResultsFile">searchResultsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.pricesFile">pricesFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.infoFile">infoFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.bondsXLSXFile">bondsXLSXFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.calendarFile">calendarFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewFile">overviewFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewDigestFile">overviewDigestFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewPositionsFile">overviewPositionsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewOrdersFile">overviewOrdersFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewAnalyticsFile">overviewAnalyticsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.overviewBondsCalendarFile">overviewBondsCalendarFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.reportFile">reportFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.withdrawalLimitsFile">withdrawalLimitsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.userInfoFile">userInfoFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.userAccountsFile">userAccountsFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.iListDumpFile">iListDumpFile</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.iList">iList</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.priceModel">priceModel</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.tag">tag</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.ticker">ticker</a>
                        </li>
                        <li>
                                <a class="variable" href="#TinkoffBrokerServer.figi">figi</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Listing">Listing</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.DumpInstrumentsAsXLSX">DumpInstrumentsAsXLSX</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.DumpInstruments">DumpInstruments</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SearchByTicker">SearchByTicker</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SearchByFIGI">SearchByFIGI</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetCurrentPrices">GetCurrentPrices</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ShowInstrumentsInfo">ShowInstrumentsInfo</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SearchInstruments">SearchInstruments</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetUniqueFIGIs">GetUniqueFIGIs</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetListOfPrices">GetListOfPrices</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ShowListOfPrices">ShowListOfPrices</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestTradingStatus">RequestTradingStatus</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestPortfolio">RequestPortfolio</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestPositions">RequestPositions</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestPendingOrders">RequestPendingOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestStopOrders">RequestStopOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Overview">Overview</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Deals">Deals</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.History">History</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.LoadHistory">LoadHistory</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ShowHistoryChart">ShowHistoryChart</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Trade">Trade</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Buy">Buy</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Sell">Sell</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseTrades">CloseTrades</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseAllTrades">CloseAllTrades</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.Order">Order</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.BuyLimit">BuyLimit</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.BuyStop">BuyStop</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SellLimit">SellLimit</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.SellStop">SellStop</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseOrders">CloseOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseAllOrders">CloseAllOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseAll">CloseAll</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseAllByTicker">CloseAllByTicker</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CloseAllByFIGI">CloseAllByFIGI</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ParseOrderParameters">ParseOrderParameters</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.IsInPortfolio">IsInPortfolio</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetInstrumentFromPortfolio">GetInstrumentFromPortfolio</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.IsInLimitOrders">IsInLimitOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetLimitOrderIDs">GetLimitOrderIDs</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.IsInStopOrders">IsInStopOrders</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.GetStopOrderIDs">GetStopOrderIDs</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestLimits">RequestLimits</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.OverviewLimits">OverviewLimits</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestUserInfo">RequestUserInfo</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestMarginStatus">RequestMarginStatus</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestTariffLimits">RequestTariffLimits</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.CreateBondsCalendar">CreateBondsCalendar</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.ShowBondsCalendar">ShowBondsCalendar</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.OverviewAccounts">OverviewAccounts</a>
                        </li>
                        <li>
                                <a class="function" href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#Args">Args</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#Args.__init__">Args</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#ParseArgs">ParseArgs</a>
            </li>
            <li>
                    <a class="function" href="#Main">Main</a>
            </li>
    </ul>


            <footer>⚙ Technologies · Knowledge · Science</footer>

        <a class="attribution" title="pdoc: Python API documentation generator" href="https://pdoc.dev" target="_blank">
            built with <span class="visually-hidden">pdoc</span><img
                alt="pdoc logo"
                src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20role%3D%22img%22%20aria-label%3D%22pdoc%20logo%22%20width%3D%22300%22%20height%3D%22150%22%20viewBox%3D%22-1%200%2060%2030%22%3E%3Ctitle%3Epdoc%3C/title%3E%3Cpath%20d%3D%22M29.621%2021.293c-.011-.273-.214-.475-.511-.481a.5.5%200%200%200-.489.503l-.044%201.393c-.097.551-.695%201.215-1.566%201.704-.577.428-1.306.486-2.193.182-1.426-.617-2.467-1.654-3.304-2.487l-.173-.172a3.43%203.43%200%200%200-.365-.306.49.49%200%200%200-.286-.196c-1.718-1.06-4.931-1.47-7.353.191l-.219.15c-1.707%201.187-3.413%202.131-4.328%201.03-.02-.027-.49-.685-.141-1.763.233-.721.546-2.408.772-4.076.042-.09.067-.187.046-.288.166-1.347.277-2.625.241-3.351%201.378-1.008%202.271-2.586%202.271-4.362%200-.976-.272-1.935-.788-2.774-.057-.094-.122-.18-.184-.268.033-.167.052-.339.052-.516%200-1.477-1.202-2.679-2.679-2.679-.791%200-1.496.352-1.987.9a6.3%206.3%200%200%200-1.001.029c-.492-.564-1.207-.929-2.012-.929-1.477%200-2.679%201.202-2.679%202.679A2.65%202.65%200%200%200%20.97%206.554c-.383.747-.595%201.572-.595%202.41%200%202.311%201.507%204.29%203.635%205.107-.037.699-.147%202.27-.423%203.294l-.137.461c-.622%202.042-2.515%208.257%201.727%2010.643%201.614.908%203.06%201.248%204.317%201.248%202.665%200%204.492-1.524%205.322-2.401%201.476-1.559%202.886-1.854%206.491.82%201.877%201.393%203.514%201.753%204.861%201.068%202.223-1.713%202.811-3.867%203.399-6.374.077-.846.056-1.469.054-1.537zm-4.835%204.313c-.054.305-.156.586-.242.629-.034-.007-.131-.022-.307-.157-.145-.111-.314-.478-.456-.908.221.121.432.25.675.355.115.039.219.051.33.081zm-2.251-1.238c-.05.33-.158.648-.252.694-.022.001-.125-.018-.307-.157-.217-.166-.488-.906-.639-1.573.358.344.754.693%201.198%201.036zm-3.887-2.337c-.006-.116-.018-.231-.041-.342.635.145%201.189.368%201.599.625.097.231.166.481.174.642-.03.049-.055.101-.067.158-.046.013-.128.026-.298.004-.278-.037-.901-.57-1.367-1.087zm-1.127-.497c.116.306.176.625.12.71-.019.014-.117.045-.345.016-.206-.027-.604-.332-.986-.695.41-.051.816-.056%201.211-.031zm-4.535%201.535c.209.22.379.47.358.598-.006.041-.088.138-.351.234-.144.055-.539-.063-.979-.259a11.66%2011.66%200%200%200%20.972-.573zm.983-.664c.359-.237.738-.418%201.126-.554.25.237.479.548.457.694-.006.042-.087.138-.351.235-.174.064-.694-.105-1.232-.375zm-3.381%201.794c-.022.145-.061.29-.149.401-.133.166-.358.248-.69.251h-.002c-.133%200-.306-.26-.45-.621.417.091.854.07%201.291-.031zm-2.066-8.077a4.78%204.78%200%200%201-.775-.584c.172-.115.505-.254.88-.378l-.105.962zm-.331%202.302a10.32%2010.32%200%200%201-.828-.502c.202-.143.576-.328.984-.49l-.156.992zm-.45%202.157l-.701-.403c.214-.115.536-.249.891-.376a11.57%2011.57%200%200%201-.19.779zm-.181%201.716c.064.398.194.702.298.893-.194-.051-.435-.162-.736-.398.061-.119.224-.3.438-.495zM8.87%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zm-.735-.389a1.15%201.15%200%200%200-.314.783%201.16%201.16%200%200%200%201.162%201.162c.457%200%20.842-.27%201.032-.653.026.117.042.238.042.362a1.68%201.68%200%200%201-1.679%201.679%201.68%201.68%200%200%201-1.679-1.679c0-.843.626-1.535%201.436-1.654zM5.059%205.406A1.68%201.68%200%200%201%203.38%207.085a1.68%201.68%200%200%201-1.679-1.679c0-.037.009-.072.011-.109.21.3.541.508.935.508a1.16%201.16%200%200%200%201.162-1.162%201.14%201.14%200%200%200-.474-.912c.015%200%20.03-.005.045-.005.926.001%201.679.754%201.679%201.68zM3.198%204.141c0%20.152-.123.276-.276.276s-.275-.124-.275-.276.123-.276.276-.276.275.124.275.276zM1.375%208.964c0-.52.103-1.035.288-1.52.466.394%201.06.64%201.717.64%201.144%200%202.116-.725%202.499-1.738.383%201.012%201.355%201.738%202.499%201.738.867%200%201.631-.421%202.121-1.062.307.605.478%201.267.478%201.942%200%202.486-2.153%204.51-4.801%204.51s-4.801-2.023-4.801-4.51zm24.342%2019.349c-.985.498-2.267.168-3.813-.979-3.073-2.281-5.453-3.199-7.813-.705-1.315%201.391-4.163%203.365-8.423.97-3.174-1.786-2.239-6.266-1.261-9.479l.146-.492c.276-1.02.395-2.457.444-3.268a6.11%206.11%200%200%200%201.18.115%206.01%206.01%200%200%200%202.536-.562l-.006.175c-.802.215-1.848.612-2.021%201.25-.079.295.021.601.274.837.219.203.415.364.598.501-.667.304-1.243.698-1.311%201.179-.02.144-.022.507.393.787.213.144.395.26.564.365-1.285.521-1.361.96-1.381%201.126-.018.142-.011.496.427.746l.854.489c-.473.389-.971.914-.999%201.429-.018.278.095.532.316.713.675.556%201.231.721%201.653.721.059%200%20.104-.014.158-.02.207.707.641%201.64%201.513%201.64h.013c.8-.008%201.236-.345%201.462-.626.173-.216.268-.457.325-.692.424.195.93.374%201.372.374.151%200%20.294-.021.423-.068.732-.27.944-.704.993-1.021.009-.061.003-.119.002-.179.266.086.538.147.789.147.15%200%20.294-.021.423-.069.542-.2.797-.489.914-.754.237.147.478.258.704.288.106.014.205.021.296.021.356%200%20.595-.101.767-.229.438.435%201.094.992%201.656%201.067.106.014.205.021.296.021a1.56%201.56%200%200%200%20.323-.035c.17.575.453%201.289.866%201.605.358.273.665.362.914.362a.99.99%200%200%200%20.421-.093%201.03%201.03%200%200%200%20.245-.164c.168.428.39.846.68%201.068.358.273.665.362.913.362a.99.99%200%200%200%20.421-.093c.317-.148.512-.448.639-.762.251.157.495.257.726.257.127%200%20.25-.024.37-.071.427-.17.706-.617.841-1.314.022-.015.047-.022.068-.038.067-.051.133-.104.196-.159-.443%201.486-1.107%202.761-2.086%203.257zM8.66%209.925a.5.5%200%201%200-1%200c0%20.653-.818%201.205-1.787%201.205s-1.787-.552-1.787-1.205a.5.5%200%201%200-1%200c0%201.216%201.25%202.205%202.787%202.205s2.787-.989%202.787-2.205zm4.4%2015.965l-.208.097c-2.661%201.258-4.708%201.436-6.086.527-1.542-1.017-1.88-3.19-1.844-4.198a.4.4%200%200%200-.385-.414c-.242-.029-.406.164-.414.385-.046%201.249.367%203.686%202.202%204.896.708.467%201.547.7%202.51.7%201.248%200%202.706-.392%204.362-1.174l.185-.086a.4.4%200%200%200%20.205-.527c-.089-.204-.326-.291-.527-.206zM9.547%202.292c.093.077.205.114.317.114a.5.5%200%200%200%20.318-.886L8.817.397a.5.5%200%200%200-.703.068.5.5%200%200%200%20.069.703l1.364%201.124zm-7.661-.065c.086%200%20.173-.022.253-.068l1.523-.893a.5.5%200%200%200-.506-.863l-1.523.892a.5.5%200%200%200-.179.685c.094.158.261.247.432.247z%22%20transform%3D%22matrix%28-1%200%200%201%2058%200%29%22%20fill%3D%22%233bb300%22/%3E%3Cpath%20d%3D%22M.3%2021.86V10.18q0-.46.02-.68.04-.22.18-.5.28-.54%201.34-.54%201.06%200%201.42.28.38.26.44.78.76-1.04%202.38-1.04%201.64%200%203.1%201.54%201.46%201.54%201.46%203.58%200%202.04-1.46%203.58-1.44%201.54-3.08%201.54-1.64%200-2.38-.92v4.04q0%20.46-.04.68-.02.22-.18.5-.14.3-.5.42-.36.12-.98.12-.62%200-1-.12-.36-.12-.52-.4-.14-.28-.18-.5-.02-.22-.02-.68zm3.96-9.42q-.46.54-.46%201.18%200%20.64.46%201.18.48.52%201.2.52.74%200%201.24-.52.52-.52.52-1.18%200-.66-.48-1.18-.48-.54-1.26-.54-.76%200-1.22.54zm14.741-8.36q.16-.3.54-.42.38-.12%201-.12.64%200%201.02.12.38.12.52.42.16.3.18.54.04.22.04.68v11.94q0%20.46-.04.7-.02.22-.18.5-.3.54-1.7.54-1.38%200-1.54-.98-.84.96-2.34.96-1.8%200-3.28-1.56-1.48-1.58-1.48-3.66%200-2.1%201.48-3.68%201.5-1.58%203.28-1.58%201.48%200%202.3%201v-4.2q0-.46.02-.68.04-.24.18-.52zm-3.24%2010.86q.52.54%201.26.54.74%200%201.22-.54.5-.54.5-1.18%200-.66-.48-1.22-.46-.56-1.26-.56-.8%200-1.28.56-.48.54-.48%201.2%200%20.66.52%201.2zm7.833-1.2q0-2.4%201.68-3.96%201.68-1.56%203.84-1.56%202.16%200%203.82%201.56%201.66%201.54%201.66%203.94%200%201.66-.86%202.96-.86%201.28-2.1%201.9-1.22.6-2.54.6-1.32%200-2.56-.64-1.24-.66-2.1-1.92-.84-1.28-.84-2.88zm4.18%201.44q.64.48%201.3.48.66%200%201.32-.5.66-.5.66-1.48%200-.98-.62-1.46-.62-.48-1.34-.48-.72%200-1.34.5-.62.5-.62%201.48%200%20.96.64%201.46zm11.412-1.44q0%20.84.56%201.32.56.46%201.18.46.64%200%201.18-.36.56-.38.9-.38.6%200%201.46%201.06.46.58.46%201.04%200%20.76-1.1%201.42-1.14.8-2.8.8-1.86%200-3.58-1.34-.82-.64-1.34-1.7-.52-1.08-.52-2.36%200-1.3.52-2.34.52-1.06%201.34-1.7%201.66-1.32%203.54-1.32.76%200%201.48.22.72.2%201.06.4l.32.2q.36.24.56.38.52.4.52.92%200%20.5-.42%201.14-.72%201.1-1.38%201.1-.38%200-1.08-.44-.36-.34-1.04-.34-.66%200-1.24.48-.58.48-.58%201.34z%22%20fill%3D%22green%22/%3E%3C/svg%3E"/>
        </a>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
<a href="./../tksbrokerapi.html">tksbrokerapi</a><wbr>.TKSBrokerAPI    </h1>

                        <div class="docstring"><p><a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md" target="_blank"><img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/docs/media/TKSBrokerAPI-Logo.png?raw=true" alt="TKSBrokerAPI-Logo" width="780" /></a></p>

<p><strong>T</strong>echnologies · <strong>K</strong>nowledge · <strong>S</strong>cience</p>

<p><a href="https://yoomoney.ru/fundraise/4WOyAgNgb7M.230111"><img src="https://badgen.net/badge/gift/donate/green" alt="gift" /></a></p>

<p><strong>TKSBrokerAPI</strong> is the trading platform for automation and simplifying the implementation of trading scenarios,
as well as working with Tinkoff Invest API server via the REST protocol. The TKSBrokerAPI platform may be used in two ways:
from the console, it has a rich keys and commands, or you can use it as Python module with <code>python import</code>.</p>

<p>TKSBrokerAPI allows you to automate routine trading operations and implement your trading scenarios, or just receive
the necessary information from the broker. It is easy enough to integrate into various CI/CD automation systems.</p>

<p>See also:</p>

<ul>
<li><strong>Open account for trading:</strong> <a href="https://tinkoff.ru/sl/AaX1Et1omnH">https://tinkoff.ru/sl/AaX1Et1omnH</a></li>
<li><strong>TKSBrokerAPI module documentation:</strong> <a href="https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html">https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html</a></li>
<li><strong>CLI examples:</strong> <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Usage-examples">https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Usage-examples</a></li>
<li><strong>Used constants are in the TKSEnums module:</strong> <a href="https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSEnums.html">https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSEnums.html</a></li>
<li><strong>About Tinkoff Invest API:</strong> <a href="https://tinkoff.github.io/investAPI/">https://tinkoff.github.io/investAPI/</a></li>
<li><strong>Tinkoff Invest API documentation:</strong> <a href="https://tinkoff.github.io/investAPI/swagger-ui/">https://tinkoff.github.io/investAPI/swagger-ui/</a></li>
<li><strong>How to implement trading scenario in Python:</strong> <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Module-import">https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Module-import</a></li>
</ul>

<p><a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Module-import">Using the TKSBrokerAPI module</a>,
you can implement any trading scenario in Python. Many system used for making trading decisions about buying or selling
(technical analysis, neural networks, parsing reports or tracking other traders’ transactions), but you still need
to perform trading operations: place orders, open and close transactions. The <code>TKSBrokerAPI</code> module will act as an
intermediary between the code with the trading logic and services infrastructure of the Tinkoff Investments broker,
as well as perform routine tasks on your behalf in <a href="https://tinkoff.ru/sl/AaX1Et1omnH">brokerage account</a>.</p>

<p><a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md" target="_blank"><img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/docs/media/TKSBrokerAPI-flow.png?raw=true" alt="TKSBrokerAPI-flow" width="780" /></a></p>

<p>The scheme of trade scenario automation with TKSBrokerAPI is very simple:</p>

<ol>
<li>You come up with a brilliant trading algorithm.</li>
<li>Write it down step by step in the form of some kind of plan or trading scenario.</li>
<li>Automate scenario as a Python script using TKSBrokerAPI.</li>
<li>TKSBrokerAPI takes care of all the work with the Tinkoff Investments broker infrastructure.</li>
<li>Profit!</li>
</ol>

<p>But where to get this "brilliant trading algorithm"? The TKSBrokerAPI platform will also help you solve the problem
of obtaining primary, "raw" data on trading instruments (shares, bonds, funds, futures and currencies) from the broker
server, for their future analysis in any analytical tool convenient for you. To do this, the methods of the TKSBrokerAPI
module provide the ability to extend and save data in classic formats: XLSX and CSV (for analysis in spreadsheet editors),
Markdown (for readability), and Pandas DataFrame (for data scientists and stock analysts).</p>

<p>The "raw" data can be anything that <a href="https://tinkoff.github.io/investAPI/swagger-ui/">can be obtained</a> from the broker's
server. After extends, this data can be used to build, for example, a <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Build-a-bond-payment-calendar">consolidated payment calendar</a>
for bonds and calculate their <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Get-extended-bonds-data">coupon and current yields</a>,
or you can generate analytics about the status of the user's portfolio and the <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Get-the-current-portfolio-and-asset-allocation-statistics">distribution of assets</a>
by types, companies, industries, currencies, and countries. In addition, you can download <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Download-historical-data-in-OHLCV-candles-format">historical data</a>
on the prices of any instrument as OHLCV-candlesticks.</p>

<p><a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md" target="_blank"><img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/docs/media/TKSBrokerAPI-extend-data-flow.png?raw=true" alt="TKSBrokerAPI-extend-data-flow" width="780" /></a></p>

<p>How data is extended and used in TKSBrokerAPI:</p>

<ol>
<li>You request the data you need from the Tinkoff Investments broker server using the TKSBrokerAPI module:
<ul>
<li>in this module, almost all methods return "raw" data from the server in the form of a Python dictionary.</li>
</ul></li>
<li>Then they are processed and extended:
<ul>
<li>with various statistics, parameters and some analytical reports.</li>
</ul></li>
<li>After that, the data is stored in a form suitable for further analysis:
<ul>
<li>most of the methods return extended data in the form of a Python dictionary or Pandas DataFrame;</li>
<li>if you launched the TKSBrokerAPI platform in the console, then the data will be saved in XLSX, CSV or Markdown formats.</li>
</ul></li>
<li>Next, you can load the data into analytical system and use various data analysis methods to find and highlight
dependencies, correlations, make predictions and suggest hypothesis.</li>
<li>Further, based on data analysis, you come up with the same "brilliant trading algorithm".</li>
<li>Automate the trading scenario (according to the previous scheme).</li>
<li>Profit!</li>
</ol>
</div>

                
                
                
            </section>
                <section id="TinkoffBrokerServer">
                    <div class="attr class">
            
    <span class="def">class</span>
    <span class="name">TinkoffBrokerServer</span>:

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer"></a>
    
            <div class="docstring"><p>This class implements methods to work with Tinkoff broker server.</p>

<p>Examples to work with API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/">https://tinkoff.github.io/investAPI/swagger-ui/</a></p>

<p>About <code>token</code>: <a href="https://tinkoff.github.io/investAPI/token/">https://tinkoff.github.io/investAPI/token/</a></p>
</div>


                            <div id="TinkoffBrokerServer.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">TinkoffBrokerServer</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">token</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">accountId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">useCache</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">defaultCache</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;dump.json&#39;</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.__init__"></a>
    
            <div class="docstring"><p>Main class init.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>token</strong>:  Bearer token for Tinkoff Invest API. It can be set from environment variable <code>TKS_API_TOKEN</code>.</li>
<li><strong>accountId</strong>:  string with numeric user account ID in Tinkoff Broker. It can be found in broker's reports.
Also, this variable can be set from environment variable <code>TKS_ACCOUNT_ID</code>.</li>
<li><strong>useCache</strong>:  use default cache file with raw data to use instead of <code><a href="#TinkoffBrokerServer.iList">iList</a></code>.
True by default. Cache is auto-update if new day has come.
If you don't want to use cache and always updates raw data then set <code>useCache=False</code>.</li>
<li><strong>defaultCache</strong>:  path to default cache file. <code>dump.json</code> by default.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.version" class="classattr">
                                <div class="attr variable">
            <span class="name">version</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.version"></a>
    
            <div class="docstring"><p>Current TKSBrokerAPI version: major.minor, but the build number define at the build-server only.</p>

<p>Latest version: <a href="https://pypi.org/project/tksbrokerapi/">https://pypi.org/project/tksbrokerapi/</a></p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.aliases" class="classattr">
                                <div class="attr variable">
            <span class="name">aliases</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.aliases"></a>
    
            <div class="docstring"><p>Some aliases instead official tickers.</p>

<p>See also: <code>TKSEnums.TKS_TICKER_ALIASES</code></p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.depth" class="classattr">
                                <div class="attr variable">
            <span class="name">depth</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.depth"></a>
    
            <div class="docstring"><p>Depth of Market (DOM) can be &gt;= 1. Default: 1. It used with <code>--price</code> key to showing DOM with current prices for givens ticker or FIGI.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.GetCurrentPrices">GetCurrentPrices()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.server" class="classattr">
                                <div class="attr variable">
            <span class="name">server</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.server"></a>
    
            <div class="docstring"><p>Tinkoff REST API server for real trade operations. Default: <a href="https://invest-public-api.tinkoff.ru/rest">https://invest-public-api.tinkoff.ru/rest</a></p>

<p>See also: API method <a href="https://tinkoff.github.io/investAPI/#tinkoff-invest-api_1">https://tinkoff.github.io/investAPI/#tinkoff-invest-api_1</a> and <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.timeout" class="classattr">
                                <div class="attr variable">
            <span class="name">timeout</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.timeout"></a>
    
            <div class="docstring"><p>Server operations timeout in seconds. Default: <code>15</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.retry" class="classattr">
                                <div class="attr variable">
            <span class="name">retry</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.retry"></a>
    
            <div class="docstring"><p>How many times retry after first request if a 5xx server errors occurred. If set to 0, then only first main
request will be sent without retries. This allows you to reduce the number of calls to the server API for all methods.</p>

<p>3 times of retries by default.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.pause" class="classattr">
                                <div class="attr variable">
            <span class="name">pause</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.pause"></a>
    
            <div class="docstring"><p>Sleep time in seconds between retries, in all network requests 5 seconds by default.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.headers" class="classattr">
                                <div class="attr variable">
            <span class="name">headers</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.headers"></a>
    
            <div class="docstring"><p>Headers which send in every request to broker server. Please, do not change it!
Default: <code>{"Content-Type": "application/json", "accept": "application/json", "Authorization": "Bearer {your_token}", "x-app-name": "Tim55667757.TKSBrokerAPI"}</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.body" class="classattr">
                                <div class="attr variable">
            <span class="name">body</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.body"></a>
    
            <div class="docstring"><p>Request body which send to broker server. Default: <code>None</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SendAPIRequest">SendAPIRequest()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.moreDebug" class="classattr">
                                <div class="attr variable">
            <span class="name">moreDebug</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.moreDebug"></a>
    
            <div class="docstring"><p>Enables more debug information in this class, such as net request and response headers in all methods. <code>False</code> by default.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.useHTMLReports" class="classattr">
                                <div class="attr variable">
            <span class="name">useHTMLReports</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.useHTMLReports"></a>
    
            <div class="docstring"><p>If <code>True</code> then TKSBrokerAPI generate also HTML reports from Markdown. <code>False</code> by default.</p>

<p>See also: Mako Templates for Python (https://www.makotemplates.org/). Mako is a template library provides simple syntax and maximum performance.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.historyFile" class="classattr">
                                <div class="attr variable">
            <span class="name">historyFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.historyFile"></a>
    
            <div class="docstring"><p>Full path to the output file where history candles will be saved or updated. Default: <code>None</code>, it mean that returns only Pandas DataFrame.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.History">History()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.htmlHistoryFile" class="classattr">
                                <div class="attr variable">
            <span class="name">htmlHistoryFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.htmlHistoryFile"></a>
    
            <div class="docstring"><p>Full path to the html file where rendered candles chart stored. Default: <code>index.html</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowHistoryChart">ShowHistoryChart()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.instrumentsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">instrumentsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.instrumentsFile"></a>
    
            <div class="docstring"><p>Filename where full available to user instruments list will be saved. Default: <code>instruments.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowInstrumentsInfo">ShowInstrumentsInfo()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.searchResultsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">searchResultsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.searchResultsFile"></a>
    
            <div class="docstring"><p>Filename with all found instruments searched by part of its ticker, FIGI or name. Default: <code>search-results.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SearchInstruments">SearchInstruments()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.pricesFile" class="classattr">
                                <div class="attr variable">
            <span class="name">pricesFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.pricesFile"></a>
    
            <div class="docstring"><p>Filename where prices of selected instruments will be saved. Default: <code>prices.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.GetListOfPrices">GetListOfPrices()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.infoFile" class="classattr">
                                <div class="attr variable">
            <span class="name">infoFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.infoFile"></a>
    
            <div class="docstring"><p>Filename where prices of selected instruments will be saved. Default: <code>prices.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowInstrumentsInfo">ShowInstrumentsInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons()</a></code> and <code><a href="#TinkoffBrokerServer.RequestTradingStatus">RequestTradingStatus()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.bondsXLSXFile" class="classattr">
                                <div class="attr variable">
            <span class="name">bondsXLSXFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.bondsXLSXFile"></a>
    
            <div class="docstring"><p>Filename where wider Pandas DataFrame with more information about bonds: main info, current prices, 
bonds payment calendar, some statistics will be stored. Default: <code>ext-bonds.xlsx</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.calendarFile" class="classattr">
                                <div class="attr variable">
            <span class="name">calendarFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.calendarFile"></a>
    
            <div class="docstring"><p>Filename where bonds payment calendar will be saved. Default: <code>calendar.md</code>.</p>

<p>Pandas dataframe with only bonds payment calendar also will be stored to default file <code>calendar.xlsx</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.CreateBondsCalendar">CreateBondsCalendar()</a></code>, <code><a href="#TinkoffBrokerServer.ShowBondsCalendar">ShowBondsCalendar()</a></code>, <code><a href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons()</a></code> and <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewFile"></a>
    
            <div class="docstring"><p>Filename where current portfolio, open trades and orders will be saved. Default: <code>overview.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code>, <code><a href="#TinkoffBrokerServer.RequestPortfolio">RequestPortfolio()</a></code>, <code><a href="#TinkoffBrokerServer.RequestPositions">RequestPositions()</a></code>, <code><a href="#TinkoffBrokerServer.RequestPendingOrders">RequestPendingOrders()</a></code> and <code><a href="#TinkoffBrokerServer.RequestStopOrders">RequestStopOrders()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewDigestFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewDigestFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewDigestFile"></a>
    
            <div class="docstring"><p>Filename where short digest of the portfolio status will be saved. Default: <code>overview-digest.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> with parameter <code>details="digest"</code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewPositionsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewPositionsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewPositionsFile"></a>
    
            <div class="docstring"><p>Filename where only open positions, without everything else will be saved. Default: <code>overview-positions.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> with parameter <code>details="positions"</code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewOrdersFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewOrdersFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewOrdersFile"></a>
    
            <div class="docstring"><p>Filename where open limits and stop orders will be saved. Default: <code>overview-orders.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> with parameter <code>details="orders"</code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewAnalyticsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewAnalyticsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewAnalyticsFile"></a>
    
            <div class="docstring"><p>Filename where only the analytics section and the distribution of the portfolio by various categories will be saved. Default: <code>overview-analytics.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> with parameter <code>details="analytics"</code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.overviewBondsCalendarFile" class="classattr">
                                <div class="attr variable">
            <span class="name">overviewBondsCalendarFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.overviewBondsCalendarFile"></a>
    
            <div class="docstring"><p>Filename where only the bonds calendar section will be saved. Default: <code>overview-calendar.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> with parameter <code>details="calendar"</code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.reportFile" class="classattr">
                                <div class="attr variable">
            <span class="name">reportFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.reportFile"></a>
    
            <div class="docstring"><p>Filename where history of deals and trade statistics will be saved. Default: <code>deals.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Deals">Deals()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.withdrawalLimitsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">withdrawalLimitsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.withdrawalLimitsFile"></a>
    
            <div class="docstring"><p>Filename where table of funds available for withdrawal will be saved. Default: <code>limits.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.OverviewLimits">OverviewLimits()</a></code> and <code><a href="#TinkoffBrokerServer.RequestLimits">RequestLimits()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.userInfoFile" class="classattr">
                                <div class="attr variable">
            <span class="name">userInfoFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.userInfoFile"></a>
    
            <div class="docstring"><p>Filename where all available user's data (<code>accountId</code>s, common user information, margin status and tariff connections limit) will be saved. Default: <code>user-info.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts()</a></code>, <code><a href="#TinkoffBrokerServer.RequestUserInfo">RequestUserInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestMarginStatus">RequestMarginStatus()</a></code> and <code><a href="#TinkoffBrokerServer.RequestTariffLimits">RequestTariffLimits()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.userAccountsFile" class="classattr">
                                <div class="attr variable">
            <span class="name">userAccountsFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.userAccountsFile"></a>
    
            <div class="docstring"><p>Filename where simple table with all available user accounts (<code>accountId</code>s) will be saved. Default: <code>accounts.md</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.OverviewAccounts">OverviewAccounts()</a></code>, <code><a href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.iListDumpFile" class="classattr">
                                <div class="attr variable">
            <span class="name">iListDumpFile</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.iListDumpFile"></a>
    
            <div class="docstring"><p>Filename where raw data about shares, currencies, bonds, etfs and futures will be stored. Default: <code>dump.json</code>.</p>

<p>Pandas dataframe with raw instruments data also will be stored to default file <code>dump.xlsx</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.DumpInstruments">DumpInstruments()</a></code> and <code><a href="#TinkoffBrokerServer.DumpInstrumentsAsXLSX">DumpInstrumentsAsXLSX()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.iList" class="classattr">
                                <div class="attr variable">
            <span class="name">iList</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.iList"></a>
    
            <div class="docstring"><p>Dictionary with raw data about shares, currencies, bonds, etfs and futures from broker server. Auto-updating and saving dump to the <code><a href="#TinkoffBrokerServer.iListDumpFile">iListDumpFile</a></code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code>, <code><a href="#TinkoffBrokerServer.DumpInstruments">DumpInstruments()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.priceModel" class="classattr">
                                <div class="attr variable">
            <span class="name">priceModel</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.priceModel"></a>
    
            <div class="docstring"><p>PriceGenerator object to work with candles data: load, render interact and non-interact charts and so on.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.LoadHistory">LoadHistory()</a></code>, <code><a href="#TinkoffBrokerServer.ShowHistoryChart">ShowHistoryChart()</a></code> and the PriceGenerator project: <a href="https://github.com/Tim55667757/PriceGenerator">https://github.com/Tim55667757/PriceGenerator</a></p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.tag" class="classattr">
                                <div class="attr variable">
            <span class="name">tag</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.tag"></a>
    
            <div class="docstring"><p>Setter for Identification TKSBrokerAPI tag in log messages to simplify debugging when platform instances runs in parallel mode. Default: <code>""</code> (empty string).</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ticker" class="classattr">
                                <div class="attr variable">
            <span class="name">ticker</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ticker"></a>
    
            <div class="docstring"><p>Setter for string with ticker, e.g. <code>GOOGL</code>. Tickers may be upper case only.</p>

<p>Use alias for <code>USD000UTSTOM</code> simple as <code>USD</code>, <code>EUR_RUB__TOM</code> as <code>EUR</code> etc.
More tickers aliases here: <code>TKSEnums.TKS_TICKER_ALIASES</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SearchByTicker">SearchByTicker()</a></code>, <code><a href="#TinkoffBrokerServer.SearchInstruments">SearchInstruments()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.figi" class="classattr">
                                <div class="attr variable">
            <span class="name">figi</span><span class="annotation">: str</span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.figi"></a>
    
            <div class="docstring"><p>Setter for string with FIGI, e.g. ticker <code>GOOGL</code> has FIGI <code>BBG009S39JX6</code>. FIGIs may be upper case only.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SearchByFIGI">SearchByFIGI()</a></code>, <code><a href="#TinkoffBrokerServer.SearchInstruments">SearchInstruments()</a></code>.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SendAPIRequest" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SendAPIRequest</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">url</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">reqType</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;GET&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SendAPIRequest"></a>
    
            <div class="docstring"><p>Send GET or POST request to broker server and receive JSON object.</p>

<p>self.header: must be defining with dictionary of headers.
self.body: if define then used as request body. None by default.
self.timeout: global request timeout, 15 seconds by default.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>url</strong>:  url with REST request.</li>
<li><strong>reqType</strong>:  send "GET" or "POST" request. "GET" by default.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>response JSON (dictionary) from broker.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Listing" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Listing</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Listing"></a>
    
            <div class="docstring"><p>Gets JSON with raw data about shares, currencies, bonds, etfs and futures from broker server.</p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Dictionary with all available broker instruments: currencies, shares, bonds, etfs and futures.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.DumpInstrumentsAsXLSX" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">DumpInstrumentsAsXLSX</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">forceUpdate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.DumpInstrumentsAsXLSX"></a>
    
            <div class="docstring"><p>Creates XLSX-formatted dump file with raw data of instruments to further used by data scientists or stock analytics.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.DumpInstruments">DumpInstruments()</a></code>, <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>forceUpdate</strong>:  if <code>True</code> then at first updates data with <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code> method,
otherwise just saves exist <code><a href="#TinkoffBrokerServer.iList">iList</a></code> as XLSX-file (default: <code>dump.xlsx</code>) .</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.DumpInstruments" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">DumpInstruments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">forceUpdate</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.DumpInstruments"></a>
    
            <div class="docstring"><p>Receives and returns actual raw data about shares, currencies, bonds, etfs and futures from broker server
using <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code> method. If <code><a href="#TinkoffBrokerServer.iListDumpFile">iListDumpFile</a></code> string is not empty then also save information to this file.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.DumpInstrumentsAsXLSX">DumpInstrumentsAsXLSX()</a></code>, <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>forceUpdate</strong>:  if <code>True</code> then at first updates data with <code><a href="#TinkoffBrokerServer.Listing">Listing()</a></code> method,
otherwise just saves exist <code><a href="#TinkoffBrokerServer.iList">iList</a></code> as JSON-file (default: <code>dump.json</code>).</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>serialized JSON formatted <code>str</code> with full data of instruments, also saved to the <code>--output</code> JSON-file.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ShowInstrumentInfo" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ShowInstrumentInfo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">iJSON</span><span class="p">:</span> <span class="nb">dict</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ShowInstrumentInfo"></a>
    
            <div class="docstring"><p>Show information about one instrument defined by json data and prints it in Markdown format.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.SearchByTicker">SearchByTicker()</a></code>, <code><a href="#TinkoffBrokerServer.SearchByFIGI">SearchByFIGI()</a></code>, <code><a href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons()</a></code>, <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>, <code><a href="#TinkoffBrokerServer.ShowBondsCalendar">ShowBondsCalendar()</a></code> and <code><a href="#TinkoffBrokerServer.RequestTradingStatus">RequestTradingStatus()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>iJSON: json data of instrument, example</strong>:  <code>iJSON = self.iList["Shares"][self._ticker]</code></li>
<li><strong>show</strong>:  if <code>True</code> then also printing information about instrument and its current price.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>multilines text in Markdown format with information about one instrument.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SearchByTicker" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SearchByTicker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">requestPrice</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SearchByTicker"></a>
    
            <div class="docstring"><p>Search and return raw broker's information about instrument by its ticker. Variable <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> must be defined!</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>requestPrice</strong>:  if <code>False</code> then do not request current price of instrument (because this is long operation).</li>
<li><strong>show</strong>:  if <code>False</code> then do not run <code><a href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo()</a></code> method and do not print info to the console.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON formatted data with information about instrument.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SearchByFIGI" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SearchByFIGI</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">requestPrice</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SearchByFIGI"></a>
    
            <div class="docstring"><p>Search and return raw broker's information about instrument by its FIGI. Variable <code><a href="#TinkoffBrokerServer.figi">figi</a></code> must be defined!</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>requestPrice</strong>:  if <code>False</code> then do not request current price of instrument (it's long operation).</li>
<li><strong>show</strong>:  if <code>False</code> then do not run <code><a href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo()</a></code> method and do not print info to the console.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON formatted data with information about instrument.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetCurrentPrices" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetCurrentPrices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetCurrentPrices"></a>
    
            <div class="docstring"><p>Get and show Depth of Market with current prices of the instrument as dictionary. Result example with <code><a href="#TinkoffBrokerServer.depth">depth</a></code> 5:
<code>{"buy": [{"price": 1243.8, "quantity": 193},
          {"price": 1244.0, "quantity": 168},
          {"price": 1244.8, "quantity": 5},
          {"price": 1245.0, "quantity": 61},
          {"price": 1245.4, "quantity": 60}],
  "sell": [{"price": 1243.6, "quantity": 8},
           {"price": 1242.6, "quantity": 10},
           {"price": 1242.4, "quantity": 18},
           {"price": 1242.2, "quantity": 50},
           {"price": 1242.0, "quantity": 113}],
  "limitUp": 1619.0, "limitDown": 903.4, "lastPrice": 1243.8, "closePrice": 1263.0}</code>, where parameters mean:</p>

<ul>
<li>buy: list of dicts with Sellers prices, see also: <a href="https://tinkoff.github.io/investAPI/marketdata/#order">https://tinkoff.github.io/investAPI/marketdata/#order</a></li>
<li>sell: list of dicts with Buyers prices,
<ul>
<li>price: price of 1 instrument (to get the cost of the lot, you need to multiply it by the lot of size of the instrument),</li>
<li>quantity: volume value by current price in lots,</li>
</ul></li>
<li>limitUp: current trade session limit price, maximum,</li>
<li>limitDown: current trade session limit price, minimum,</li>
<li>lastPrice: last deal price of the instrument,</li>
<li>closePrice: previous trade session close price of the instrument.</li>
</ul>

<p>See also: <code><a href="#TinkoffBrokerServer.SearchByTicker">SearchByTicker()</a></code> and <code><a href="#TinkoffBrokerServer.SearchByFIGI">SearchByFIGI()</a></code>.
REST API for request: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/MarketDataService/MarketDataService_GetOrderBook">https://tinkoff.github.io/investAPI/swagger-ui/#/MarketDataService/MarketDataService_GetOrderBook</a>
Response fields: <a href="https://tinkoff.github.io/investAPI/marketdata/#getorderbookresponse">https://tinkoff.github.io/investAPI/marketdata/#getorderbookresponse</a></p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>True</code> then print DOM to log and console.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>orders book dict with lists of current buy and sell prices: <code>{"buy": [{"price": x1, "quantity": y1, ...}], "sell": [....]}</code>.
           If an error occurred then returns an empty record:
           <code>{"buy": [], "sell": [], "limitUp": None, "limitDown": None, "lastPrice": None, "closePrice": None}</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ShowInstrumentsInfo" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ShowInstrumentsInfo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ShowInstrumentsInfo"></a>
    
            <div class="docstring"><p>This method get and show information about all available broker instruments for current user account.
If <code><a href="#TinkoffBrokerServer.instrumentsFile">instrumentsFile</a></code> string is not empty then also save information to this file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>True</code> then print results to console, if <code>False</code> — print only to file.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>multi-lines string with all available broker instruments.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SearchInstruments" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SearchInstruments</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">pattern</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SearchInstruments"></a>
    
            <div class="docstring"><p>This method search and show information about instruments by part of its ticker, FIGI or name.
If <code><a href="#TinkoffBrokerServer.searchResultsFile">searchResultsFile</a></code> string is not empty then also save information to this file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>pattern</strong>:  string with part of ticker, FIGI or instrument's name.</li>
<li><strong>show</strong>:  if <code>True</code> then print results to console, if <code>False</code> — return list of result only.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of dictionaries with all found instruments.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetUniqueFIGIs" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetUniqueFIGIs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instruments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span></span><span class="return-annotation">) -> <span class="nb">list</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetUniqueFIGIs"></a>
    
            <div class="docstring"><p>Creating list with unique instrument FIGIs from input list of tickers (priority) or FIGIs.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instruments</strong>:  list of strings with tickers or FIGIs.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list with unique instrument FIGIs only.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetListOfPrices" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetListOfPrices</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">instruments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetListOfPrices"></a>
    
            <div class="docstring"><p>This method get, maybe show and return prices of list of instruments. WARNING! This is potential long operation!</p>

<p>See limits: <a href="https://tinkoff.github.io/investAPI/limits/">https://tinkoff.github.io/investAPI/limits/</a></p>

<p>If <code><a href="#TinkoffBrokerServer.pricesFile">pricesFile</a></code> string is not empty then also save information to this file.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instruments</strong>:  list of strings with tickers or FIGIs.</li>
<li><strong>show</strong>:  if <code>True</code> then prints prices to console, if <code>False</code> — prints only to file <code><a href="#TinkoffBrokerServer.pricesFile">pricesFile</a></code>.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of instruments looks like <code>[{some ticker info, "currentPrice": {current prices}}, {...}, ...]</code>.
           One item is dict returned by <code><a href="#TinkoffBrokerServer.SearchByTicker">SearchByTicker()</a></code> or <code><a href="#TinkoffBrokerServer.SearchByFIGI">SearchByFIGI()</a></code> methods.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ShowListOfPrices" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ShowListOfPrices</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">iList</span><span class="p">:</span> <span class="nb">list</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ShowListOfPrices"></a>
    
            <div class="docstring"><p>Show table contains current prices of given instruments.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li>**iList: list of instruments looks like <code>[{some ticker info, "currentPrice"**:  {current prices}}, {...}, ...]</code>.
One item is dict returned by <code>SearchByTicker(requestPrice=True)</code> or by <code>SearchByFIGI(requestPrice=True)</code> methods.</li>
<li><strong>show</strong>:  if <code>True</code> then prints prices to console, if <code>False</code> — prints only to file <code><a href="#TinkoffBrokerServer.pricesFile">pricesFile</a></code>.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>multilines text in Markdown format as a table contains current prices.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestTradingStatus" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestTradingStatus</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestTradingStatus"></a>
    
            <div class="docstring"><p>Requesting trading status for the instrument defined by <code><a href="#TinkoffBrokerServer.figi">figi</a></code> variable.</p>

<p>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/MarketDataService/MarketDataService_GetTradingStatus">https://tinkoff.github.io/investAPI/swagger-ui/#/MarketDataService/MarketDataService_GetTradingStatus</a></p>

<p>Documentation: <a href="https://tinkoff.github.io/investAPI/marketdata/#gettradingstatusrequest">https://tinkoff.github.io/investAPI/marketdata/#gettradingstatusrequest</a></p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dictionary with trading status attributes. Response example:
           <code>{"figi": "TCS00A103X66", "tradingStatus": "SECURITY_TRADING_STATUS_NOT_AVAILABLE_FOR_TRADING",
          "limitOrderAvailableFlag": false, "marketOrderAvailableFlag": false, "apiTradeAvailableFlag": true}</code></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestPortfolio" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestPortfolio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestPortfolio"></a>
    
            <div class="docstring"><p>Requesting actual user's portfolio for current <code>accountId</code>.</p>

<p>REST API for user portfolio: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetPortfolio">https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetPortfolio</a></p>

<p>Documentation: <a href="https://tinkoff.github.io/investAPI/operations/#portfoliorequest">https://tinkoff.github.io/investAPI/operations/#portfoliorequest</a></p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dictionary with user's portfolio.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestPositions" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestPositions</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestPositions"></a>
    
            <div class="docstring"><p>Requesting open positions by currencies and instruments for current <code>accountId</code>.</p>

<p>REST API for open positions: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetPositions">https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetPositions</a></p>

<p>Documentation: <a href="https://tinkoff.github.io/investAPI/operations/#positionsrequest">https://tinkoff.github.io/investAPI/operations/#positionsrequest</a></p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dictionary with open positions by instruments.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestPendingOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestPendingOrders</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestPendingOrders"></a>
    
            <div class="docstring"><p>Requesting current actual pending limit orders for current <code>accountId</code>.</p>

<p>REST API for pending (market) orders: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/OrdersService/OrdersService_GetOrders">https://tinkoff.github.io/investAPI/swagger-ui/#/OrdersService/OrdersService_GetOrders</a></p>

<p>Documentation: <a href="https://tinkoff.github.io/investAPI/orders/#getordersrequest">https://tinkoff.github.io/investAPI/orders/#getordersrequest</a></p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of dictionaries with pending limit orders.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestStopOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestStopOrders</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">list</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestStopOrders"></a>
    
            <div class="docstring"><p>Requesting current actual stop orders for current <code>accountId</code>.</p>

<p>REST API for opened stop-orders: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/StopOrdersService/StopOrdersService_GetStopOrders">https://tinkoff.github.io/investAPI/swagger-ui/#/StopOrdersService/StopOrdersService_GetStopOrders</a></p>

<p>Documentation: <a href="https://tinkoff.github.io/investAPI/stoporders/#getstopordersrequest">https://tinkoff.github.io/investAPI/stoporders/#getstopordersrequest</a></p>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of dictionaries with stop orders.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Overview" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Overview</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">details</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;full&#39;</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Overview"></a>
    
            <div class="docstring"><p>Get portfolio: all open positions, orders and some statistics for current <code>accountId</code>.
If <code><a href="#TinkoffBrokerServer.overviewFile">overviewFile</a></code>, <code><a href="#TinkoffBrokerServer.overviewDigestFile">overviewDigestFile</a></code>, <code><a href="#TinkoffBrokerServer.overviewPositionsFile">overviewPositionsFile</a></code>, <code><a href="#TinkoffBrokerServer.overviewOrdersFile">overviewOrdersFile</a></code>, <code><a href="#TinkoffBrokerServer.overviewAnalyticsFile">overviewAnalyticsFile</a></code>
and <code><a href="#TinkoffBrokerServer.overviewBondsCalendarFile">overviewBondsCalendarFile</a></code> are defined then also save information to file.</p>

<p>WARNING! It is not recommended to run this method too many times in a loop! The server receives
many requests about the state of the portfolio, and then, based on the received data, a large number
of calculation and statistics are collected.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>False</code> then only dictionary returns, if <code>True</code> then show more debug information.</li>
<li><strong>details</strong>:  how detailed should the information be?
<ul>
<li><code>full</code> — shows full available information about portfolio status (by default),</li>
<li><code>positions</code> — shows only open positions,</li>
<li><code>orders</code> — shows only sections of open limits and stop orders.</li>
<li><code>digest</code> — show a short digest of the portfolio status,</li>
<li><code>analytics</code> — shows only the analytics section and the distribution of the portfolio by various categories,</li>
<li><code>calendar</code> — shows only the bonds calendar section (if these present in portfolio).</li>
</ul></li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dictionary with client's raw portfolio and some statistics.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Deals" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Deals</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">end</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">showCancelled</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">tuple</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="nb">dict</span><span class="p">],</span> <span class="nb">dict</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Deals"></a>
    
            <div class="docstring"><p>Returns history operations between two given dates for current <code>accountId</code>.
If <code><a href="#TinkoffBrokerServer.reportFile">reportFile</a></code> string is not empty then also save human-readable report.
Shows some statistical data of closed positions.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>start</strong>:  see docstring in <code>TradeRoutines.GetDatesAsString()</code> method.</li>
<li><strong>end</strong>:  see docstring in <code>TradeRoutines.GetDatesAsString()</code> method.</li>
<li><strong>show</strong>:  if <code>True</code> then also prints all records to the console.</li>
<li><strong>showCancelled</strong>:  if <code>False</code> then remove information about cancelled operations from the deals report.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>original list of dictionaries with history of deals records from API ("operations" key):
           <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetOperations">https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetOperations</a>
           and dictionary with custom stats: operations in different currencies, withdrawals, incomes etc.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.History" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">History</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">start</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">end</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">interval</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;hour&#39;</span>,</span><span class="param">	<span class="n">onlyMissing</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>,</span><span class="param">	<span class="n">csvSep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span>,</span><span class="param">	<span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.History"></a>
    
            <div class="docstring"><p>This method returns last history candles of the current instrument defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> or <code><a href="#TinkoffBrokerServer.figi">figi</a></code> (FIGI id).</p>

<p>History returned between two given dates: <code>start</code> and <code>end</code>. Minimum requested date in the past is <code>1970-01-01</code>.
Warning! Broker server used ISO UTC time by default.</p>

<p>If <code><a href="#TinkoffBrokerServer.historyFile">historyFile</a></code> is not <code>None</code> then method save history to file, otherwise return only Pandas DataFrame.
Also, <code><a href="#TinkoffBrokerServer.historyFile">historyFile</a></code> used to update history with <code>onlyMissing</code> parameter.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.LoadHistory">LoadHistory()</a></code> and <code><a href="#TinkoffBrokerServer.ShowHistoryChart">ShowHistoryChart()</a></code> methods.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>start</strong>:  see docstring in <code>TradeRoutines.GetDatesAsString()</code> method.</li>
<li><strong>end</strong>:  see docstring in <code>TradeRoutines.GetDatesAsString()</code> method.</li>
<li><strong>interval</strong>:  this is a candle interval. Current available values are <code>"1min"</code>, <code>"5min"</code>, <code>"15min"</code>,
<code>"hour"</code>, <code>"day"</code>. Default: <code>"hour"</code>.</li>
<li><strong>onlyMissing</strong>:  if <code>True</code> then add only last missing candles, do not request all history length from <code>start</code>.
False by default. Warning! History appends only from last candle to current time
with always update last candle!</li>
<li><strong>csvSep</strong>:  separator if csv-file is used, <code>,</code> by default.</li>
<li><strong>show</strong>:  if <code>True</code> then also prints Pandas DataFrame to the console.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Pandas DataFrame with prices history. Headers of columns are defined by default:
           <code>["date", "time", "open", "high", "low", "close", "volume"]</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.LoadHistory" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">LoadHistory</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">filePath</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.LoadHistory"></a>
    
            <div class="docstring"><p>Load candles history from csv-file and return Pandas DataFrame object.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.History">History()</a></code> and <code><a href="#TinkoffBrokerServer.ShowHistoryChart">ShowHistoryChart()</a></code> methods.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>filePath</strong>:  path to csv-file to open.</li>
<li><strong>show</strong>:  if <code>True</code> then also prints Pandas DataFrame to the console.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Pandas DataFrame with prices history. Headers of columns are defined by default:
           <code>["date", "time", "open", "high", "low", "close", "volume"]</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ShowHistoryChart" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ShowHistoryChart</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">candles</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">interact</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">openInBrowser</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ShowHistoryChart"></a>
    
            <div class="docstring"><p>Render an HTML-file with interact or non-interact candlesticks chart. Candles may be path to the csv-file.</p>

<p>Self variable <code><a href="#TinkoffBrokerServer.htmlHistoryFile">htmlHistoryFile</a></code> can be use as html-file name to save interaction or non-interaction chart.
Default: <code>index.html</code> (both for interact and non-interact candlesticks chart).</p>

<p>See also: <code><a href="#TinkoffBrokerServer.History">History()</a></code> and <code><a href="#TinkoffBrokerServer.LoadHistory">LoadHistory()</a></code> methods.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>candles</strong>:  string to csv-file with candles in OHLCV-model or like Pandas Dataframe object.</li>
<li><strong>interact</strong>:  if True (default) then chain of candlesticks will render as interactive Bokeh chart.
See examples: <a href="https://github.com/Tim55667757/PriceGenerator#overriding-parameters">https://github.com/Tim55667757/PriceGenerator#overriding-parameters</a>
If False then chain of candlesticks will render as not interactive Google Candlestick chart.
See examples: <a href="https://github.com/Tim55667757/PriceGenerator#statistics-and-chart-on-a-simple-template">https://github.com/Tim55667757/PriceGenerator#statistics-and-chart-on-a-simple-template</a></li>
<li><strong>openInBrowser</strong>:  if True then immediately open chart in default browser, otherwise only path to
html-file prints to console. False by default, to avoid issues with <code>permissions denied</code> to html-file.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Trade" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Trade</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">operation</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">tp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">sl</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Trade"></a>
    
            <div class="docstring"><p>Universal method to create market order and make deal at the current price for current <code>accountId</code>. Returns JSON data with response.
If <code>tp</code> or <code>sl</code> &gt; 0, then in additional will open stop-orders with "TP" and "SL" flags for <code>stopType</code> parameter.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> docstring. More simple methods than <code><a href="#TinkoffBrokerServer.Trade">Trade()</a></code> are <code><a href="#TinkoffBrokerServer.Buy">Buy()</a></code> and <code><a href="#TinkoffBrokerServer.Sell">Sell()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>operation</strong>:  string "Buy" or "Sell".</li>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>tp</strong>:  float &gt; 0, target price for stop-order with "TP" type. It used as take profit parameter <code>targetPrice</code> in <code>self.Order()</code>.</li>
<li><strong>sl</strong>:  float &gt; 0, target price for stop-order with "SL" type. It used as stop loss parameter <code>targetPrice</code> in <code>self.Order()</code>.</li>
<li><strong>expDate</strong>:  string "Undefined" by default or local date in the future,
it is a string with format <code>%Y-%m-%d %H:%M:%S</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Buy" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Buy</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">tp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">sl</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Buy"></a>
    
            <div class="docstring"><p>More simple method than <code><a href="#TinkoffBrokerServer.Trade">Trade()</a></code>. Create <code><a href="#TinkoffBrokerServer.Buy">Buy</a></code> market order and make deal at the current price. Returns JSON data with response.
If <code>tp</code> or <code>sl</code> &gt; 0, then in additional will open stop-orders with "TP" and "SL" flags for <code>stopType</code> parameter.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> and <code><a href="#TinkoffBrokerServer.Trade">Trade()</a></code> docstrings.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>tp</strong>:  float &gt; 0, take profit price of stop-order.</li>
<li><strong>sl</strong>:  float &gt; 0, stop loss price of stop-order.</li>
<li><strong>expDate</strong>:  it's a local date in the future.
String has a format like this: <code>%Y-%m-%d %H:%M:%S</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Sell" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Sell</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1</span>,</span><span class="param">	<span class="n">tp</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">sl</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Sell"></a>
    
            <div class="docstring"><p>More simple method than <code><a href="#TinkoffBrokerServer.Trade">Trade()</a></code>. Create <code><a href="#TinkoffBrokerServer.Sell">Sell</a></code> market order and make deal at the current price. Returns JSON data with response.
If <code>tp</code> or <code>sl</code> &gt; 0, then in additional will open stop-orders with "TP" and "SL" flags for <code>stopType</code> parameter.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> and <code><a href="#TinkoffBrokerServer.Trade">Trade()</a></code> docstrings.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>tp</strong>:  float &gt; 0, take profit price of stop-order.</li>
<li><strong>sl</strong>:  float &gt; 0, stop loss price of stop-order.</li>
<li><strong>expDate</strong>:  it's a local date in the future.
String has a format like this: <code>%Y-%m-%d %H:%M:%S</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseTrades" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseTrades</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instruments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseTrades"></a>
    
            <div class="docstring"><p>Close position of given instruments.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instruments</strong>:  list of instruments defined by tickers or FIGIs that must be closed.</li>
<li><strong>portfolio</strong>:  pre-received dictionary with open trades, returned by <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.
This avoids unnecessary downloading data from the server.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseAllTrades" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseAllTrades</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">iType</span><span class="p">:</span> <span class="nb">str</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseAllTrades"></a>
    
            <div class="docstring"><p>Close all positions of given instruments with defined type.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>iType</strong>:  type of the instruments that be closed, it must be one of supported types in <code>TKS_INSTRUMENTS</code> list.</li>
<li><strong>portfolio</strong>:  pre-received dictionary with open trades, returned by <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.
This avoids unnecessary downloading data from the server.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.Order" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Order</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">operation</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">orderType</span><span class="p">:</span> <span class="nb">str</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">targetPrice</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">limitPrice</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">stopType</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Limit&#39;</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.Order"></a>
    
            <div class="docstring"><p>Universal method to create market or limit orders with all available parameters for current <code>accountId</code>.
See more simple methods: <code><a href="#TinkoffBrokerServer.BuyLimit">BuyLimit()</a></code>, <code><a href="#TinkoffBrokerServer.BuyStop">BuyStop()</a></code>, <code><a href="#TinkoffBrokerServer.SellLimit">SellLimit()</a></code>, <code><a href="#TinkoffBrokerServer.SellStop">SellStop()</a></code>.</p>

<p>If orderType is "Limit" then create pending limit-order below current price if operation is "Buy" and above
current price if operation is "Sell". A limit order has no expiration date, it lasts until the end of the trading day.</p>

<p>Warning! If you try to create limit-order above current price if "Buy" or below current price if "Sell"
then broker immediately open market order as you can do simple --buy or --sell operations!</p>

<p>If orderType is "Stop" then creates stop-order with any direction "Buy" or "Sell".
When current price will go up or down to target price value then broker opens a limit order.
Stop-order is opened with unlimited expiration date by default, or you can define expiration date with expDate parameter.</p>

<p>Only one attempt without retries recommended for opens order, set <code>self.retry = 0</code>. If network issue occurred you can create new request.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>operation</strong>:  string "Buy" or "Sell".</li>
<li><strong>orderType</strong>:  string "Limit" or "Stop".</li>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>targetPrice</strong>:  target price &gt; 0. This is open trade price for limit order.</li>
<li><strong>limitPrice</strong>:  limit price &gt;= 0. This parameter only makes sense for stop-order. If limitPrice = 0, then it set as targetPrice.
Broker will create limit-order with price equal to limitPrice, when current price goes to target price of stop-order.</li>
<li><strong>stopType</strong>:  string "Limit" by default. This parameter only makes sense for stop-order. There are 3 stop-order types
"SL", "TP", "Limit" for "Stop loss", "Take profit" and "Stop limit" types accordingly.
Stop loss order always executed by market price.</li>
<li><strong>expDate</strong>:  string "Undefined" by default or local date in the future.
String has a format like this: <code>%Y-%m-%d %H:%M:%S</code>.
This date is converting to UTC format for server. This parameter only makes sense for stop-order.
A limit order has no expiration date, it lasts until the end of the trading day.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.BuyLimit" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">BuyLimit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">lots</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">targetPrice</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.BuyLimit"></a>
    
            <div class="docstring"><p>Create pending <code><a href="#TinkoffBrokerServer.Buy">Buy</a></code> limit-order (below current price). You must specify only 2 parameters:
<code>lots</code> and <code>target price</code> to open buy limit-order. If you try to create buy limit-order above current price then
broker immediately open <code><a href="#TinkoffBrokerServer.Buy">Buy</a></code> market order, such as if you do simple <code>--buy</code> operation!
See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> docstring.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>targetPrice</strong>:  target price &gt; 0. This is open trade price for limit order.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.BuyStop" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">BuyStop</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">targetPrice</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">limitPrice</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">stopType</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Limit&#39;</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.BuyStop"></a>
    
            <div class="docstring"><p>Create <code><a href="#TinkoffBrokerServer.Buy">Buy</a></code> stop-order. You must specify at least 2 parameters: <code>lots</code> <code>target price</code> to open buy stop-order.
In additional you can specify 3 parameters for buy stop-order: <code>limit price</code> &gt;=0, <code>stop type</code> = Limit|SL|TP,
<code>expiration date</code> = Undefined|<code>%%Y-%%m-%%d %%H:%%M:%%S</code>. When current price will go up or down to
target price value then broker opens a limit order. See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> docstring.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>targetPrice</strong>:  target price &gt; 0. This is trigger price for buy stop-order.</li>
<li><strong>limitPrice</strong>:  limit price &gt;= 0 (limitPrice = targetPrice if limitPrice is 0). Broker will create limit-order
with price equal to limitPrice, when current price goes to target price of buy stop-order.</li>
<li><strong>stopType</strong>:  string "Limit" by default. There are 3 stop-order types "SL", "TP", "Limit"
for "Stop loss", "Take profit" and "Stop limit" types accordingly.</li>
<li><strong>expDate</strong>:  string "Undefined" by default or local date in the future.
String has a format like this: <code>%Y-%m-%d %H:%M:%S</code>.
This date is converting to UTC format for server.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SellLimit" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SellLimit</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">lots</span><span class="p">:</span> <span class="nb">int</span>, </span><span class="param"><span class="n">targetPrice</span><span class="p">:</span> <span class="nb">float</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SellLimit"></a>
    
            <div class="docstring"><p>Create pending <code><a href="#TinkoffBrokerServer.Sell">Sell</a></code> limit-order (above current price). You must specify only 2 parameters:
<code>lots</code> and <code>target price</code> to open sell limit-order. If you try to create sell limit-order below current price then
broker immediately open <code><a href="#TinkoffBrokerServer.Sell">Sell</a></code> market order, such as if you do simple <code>--sell</code> operation!
See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> docstring.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>targetPrice</strong>:  target price &gt; 0. This is open trade price for limit order.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.SellStop" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">SellStop</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">lots</span><span class="p">:</span> <span class="nb">int</span>,</span><span class="param">	<span class="n">targetPrice</span><span class="p">:</span> <span class="nb">float</span>,</span><span class="param">	<span class="n">limitPrice</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>,</span><span class="param">	<span class="n">stopType</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Limit&#39;</span>,</span><span class="param">	<span class="n">expDate</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;Undefined&#39;</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.SellStop"></a>
    
            <div class="docstring"><p>Create <code><a href="#TinkoffBrokerServer.Sell">Sell</a></code> stop-order. You must specify at least 2 parameters: <code>lots</code> <code>target price</code> to open sell stop-order.
In addition, you can specify 3 parameters in sell stop-order: <code>limit price</code> &gt;=0, <code>stop type</code> = Limit|SL|TP,
<code>expiration date</code> = Undefined|<code>%%Y-%%m-%%d %%H:%%M:%%S</code>. When current price will go up or down to
target price value then broker opens a limit order. See also: <code><a href="#TinkoffBrokerServer.Order">Order()</a></code> docstring.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>lots</strong>:  volume, integer count of lots &gt;= 1.</li>
<li><strong>targetPrice</strong>:  target price &gt; 0. This is trigger price in sell stop-order.</li>
<li><strong>limitPrice</strong>:  limit price &gt;= 0 (limitPrice = targetPrice if limitPrice is 0). Broker will create limit-order
with price equal to limitPrice, when current price goes to target price of sell stop-order.</li>
<li><strong>stopType</strong>:  string "Limit" by default. There are 3 stop-order types "SL", "TP", "Limit"
for "Stop loss", "Take profit" and "Stop limit" types accordingly.</li>
<li><strong>expDate</strong>:  string "Undefined" by default or local date in the future.
String has a format like this: <code>%Y-%m-%d %H:%M:%S</code>.
This date is converting to UTC format for server.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>JSON with response from broker server.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseOrders</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">orderIDs</span><span class="p">:</span> <span class="nb">list</span>,</span><span class="param">	<span class="n">allOrdersIDs</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">allStopOrdersIDs</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseOrders"></a>
    
            <div class="docstring"><p>Cancel order or list of orders by its <code>orderId</code> or <code>stopOrderId</code> for current <code>accountId</code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>orderIDs</strong>:  list of integers with <code>orderId</code> or <code>stopOrderId</code>.</li>
<li><strong>allOrdersIDs</strong>:  pre-received lists of all active pending limit orders.
This avoids unnecessary downloading data from the server.</li>
<li><strong>allStopOrdersIDs</strong>:  pre-received lists of all active stop orders.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseAllOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseAllOrders</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseAllOrders"></a>
    
            <div class="docstring"><p>Gets a list of open pending and stop orders and cancel it all.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseAll" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseAll</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="o">*</span><span class="n">args</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseAll"></a>
    
            <div class="docstring"><p>Close all available (not blocked) opened trades and orders.</p>

<p>Also, you can select one or more keywords case-insensitive:
<code>orders</code>, <code>shares</code>, <code>bonds</code>, <code>etfs</code> and <code>futures</code> from <code>TKS_INSTRUMENTS</code> enum to specify trades type.</p>

<p>Currency positions you must close manually using buy or sell operations, <code><a href="#TinkoffBrokerServer.CloseTrades">CloseTrades()</a></code> or <code><a href="#TinkoffBrokerServer.CloseAllTrades">CloseAllTrades()</a></code> methods.</p>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseAllByTicker" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseAllByTicker</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseAllByTicker"></a>
    
            <div class="docstring"><p>Close all available (not blocked) opened trades and orders for one instrument defined by its ticker.</p>

<p>This method searches opened trade and orders of instrument throw all portfolio and then use
<code><a href="#TinkoffBrokerServer.CloseTrades">CloseTrades()</a></code> and <code><a href="#TinkoffBrokerServer.CloseOrders">CloseOrders()</a></code> methods to close trade and cancel all orders for that instrument.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.IsInLimitOrders">IsInLimitOrders()</a></code>, <code><a href="#TinkoffBrokerServer.GetLimitOrderIDs">GetLimitOrderIDs()</a></code>, <code><a href="#TinkoffBrokerServer.IsInStopOrders">IsInStopOrders()</a></code>, <code><a href="#TinkoffBrokerServer.GetStopOrderIDs">GetStopOrderIDs()</a></code>, <code><a href="#TinkoffBrokerServer.CloseTrades">CloseTrades()</a></code> and <code><a href="#TinkoffBrokerServer.CloseOrders">CloseOrders()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instrument</strong>:  string with ticker.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CloseAllByFIGI" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CloseAllByFIGI</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">instrument</span><span class="p">:</span> <span class="nb">str</span></span><span class="return-annotation">) -> <span class="kc">None</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CloseAllByFIGI"></a>
    
            <div class="docstring"><p>Close all available (not blocked) opened trades and orders for one instrument defined by its FIGI id.</p>

<p>This method searches opened trade and orders of instrument throw all portfolio and then use
<code><a href="#TinkoffBrokerServer.CloseTrades">CloseTrades()</a></code> and <code><a href="#TinkoffBrokerServer.CloseOrders">CloseOrders()</a></code> methods to close trade and cancel all orders for that instrument.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.IsInLimitOrders">IsInLimitOrders()</a></code>, <code><a href="#TinkoffBrokerServer.GetLimitOrderIDs">GetLimitOrderIDs()</a></code>, <code><a href="#TinkoffBrokerServer.IsInStopOrders">IsInStopOrders()</a></code>, <code><a href="#TinkoffBrokerServer.GetStopOrderIDs">GetStopOrderIDs()</a></code>, <code><a href="#TinkoffBrokerServer.CloseTrades">CloseTrades()</a></code> and <code><a href="#TinkoffBrokerServer.CloseOrders">CloseOrders()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instrument</strong>:  string with FIGI id.</li>
</ul>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ParseOrderParameters" class="classattr">
                                <div class="attr function">
                    <div class="decorator">@staticmethod</div>

        <span class="def">def</span>
        <span class="name">ParseOrderParameters</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">operation</span>, </span><span class="param"><span class="o">**</span><span class="n">inputParameters</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ParseOrderParameters"></a>
    
            <div class="docstring"><p>Parse input dictionary of strings with order parameters and return dictionary with parameters to open all orders.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>operation</strong>:  string "Buy" or "Sell".</li>
<li><strong>inputParameters</strong>:  this is dict of strings that looks like this
<code>{"lots": "L_int,...", "prices": "P_float,..."}</code> where
"lots" key: one or more lot values (integer numbers) to open with every limit-order
"prices" key: one or more prices to open limit-orders
Counts of values in lots and prices lists must be equals!</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list of dictionaries with all lots and prices to open orders that looks like this <code>[{"lot": lots_1, "price": price_1}, {...}, ...]</code></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.IsInPortfolio" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">IsInPortfolio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.IsInPortfolio"></a>
    
            <div class="docstring"><p>Checks if instrument is in the user's portfolio. Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><code>True</code> if portfolio contains open position with given instrument, <code>False</code> otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetInstrumentFromPortfolio" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetInstrumentFromPortfolio</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetInstrumentFromPortfolio"></a>
    
            <div class="docstring"><p>Returns instrument from the user's portfolio if it presents there.
Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with instrument if portfolio contains open position with this instrument, <code>None</code> otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.IsInLimitOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">IsInLimitOrders</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.IsInLimitOrders"></a>
    
            <div class="docstring"><p>Checks if instrument is in the limit orders list. Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.CloseAllByTicker">CloseAllByTicker()</a></code> and <code><a href="#TinkoffBrokerServer.CloseAllByFIGI">CloseAllByFIGI()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><code>True</code> if limit orders list contains some limit orders for the instrument, <code>False</code> otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetLimitOrderIDs" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetLimitOrderIDs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetLimitOrderIDs"></a>
    
            <div class="docstring"><p>Returns list with all <code>orderID</code>s of opened pending limit orders for the instrument.
Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.CloseAllByTicker">CloseAllByTicker()</a></code> and <code><a href="#TinkoffBrokerServer.CloseAllByFIGI">CloseAllByFIGI()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list with <code>orderID</code>s of limit orders.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.IsInStopOrders" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">IsInStopOrders</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">bool</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.IsInStopOrders"></a>
    
            <div class="docstring"><p>Checks if instrument is in the stop orders list. Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.CloseAllByTicker">CloseAllByTicker()</a></code> and <code><a href="#TinkoffBrokerServer.CloseAllByFIGI">CloseAllByFIGI()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p><code>True</code> if stop orders list contains some stop orders for the instrument, <code>False</code> otherwise.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.GetStopOrderIDs" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">GetStopOrderIDs</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">portfolio</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.GetStopOrderIDs"></a>
    
            <div class="docstring"><p>Returns list with all <code>orderID</code>s of opened stop orders for the instrument.
Instrument must be defined by <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> (highly priority) or <code><a href="#TinkoffBrokerServer.figi">figi</a></code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.CloseAllByTicker">CloseAllByTicker()</a></code> and <code><a href="#TinkoffBrokerServer.CloseAllByFIGI">CloseAllByFIGI()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>portfolio</strong>:  dict with user's portfolio data. If <code>None</code>, then requests portfolio from <code><a href="#TinkoffBrokerServer.Overview">Overview()</a></code> method.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>list with <code>orderID</code>s of stop orders.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestLimits" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestLimits</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestLimits"></a>
    
            <div class="docstring"><p>Method for obtaining the available funds for withdrawal for current <code>accountId</code>.</p>

<p>See also:</p>

<ul>
<li>REST API for limits: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetWithdrawLimits">https://tinkoff.github.io/investAPI/swagger-ui/#/OperationsService/OperationsService_GetWithdrawLimits</a></li>
<li><code><a href="#TinkoffBrokerServer.OverviewLimits">OverviewLimits()</a></code> method</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw data from server that contains free funds for withdrawal. Example of dict:
           <code>{"money": [{"currency": "rub", "units": "100", "nano": 290000000}, {...}], "blocked": [...], "blockedGuarantee": [...]}</code>.
           Here <code>money</code> is an array of portfolio currency positions, <code>blocked</code> is an array of blocked currency
           positions of the portfolio and <code>blockedGuarantee</code> is locked money under collateral for futures.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.OverviewLimits" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">OverviewLimits</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.OverviewLimits"></a>
    
            <div class="docstring"><p>Method for parsing and show table with available funds for withdrawal for current <code>accountId</code>.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.RequestLimits">RequestLimits()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>False</code> then only dictionary returns, if <code>True</code> then also print withdrawal limits to log.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw parsed data from server and some calculated statistics about it.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestAccounts" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestAccounts</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestAccounts"></a>
    
            <div class="docstring"><p>Method for requesting all brokerage accounts (<code>accountId</code>s) of current user detected by <code>token</code>.</p>

<p>See also:</p>

<ul>
<li>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetAccounts">https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetAccounts</a></li>
<li>What does account fields mean: <a href="https://tinkoff.github.io/investAPI/users/#account">https://tinkoff.github.io/investAPI/users/#account</a></li>
<li><code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code> method</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw data from server that contains accounts info. Example of dict:
           <code>{"accounts": [{"id": "20000xxxxx", "type": "ACCOUNT_TYPE_TINKOFF", "name": "TKSBrokerAPI account",
           "status": "ACCOUNT_STATUS_OPEN", "openedDate": "2018-05-23T00:00:00Z",
           "closedDate": "1970-01-01T00:00:00Z", "accessLevel": "ACCOUNT_ACCESS_LEVEL_FULL_ACCESS"}, ...]}</code>.
           If <code>closedDate="1970-01-01T00:00:00Z"</code> it means that account is active now.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestUserInfo" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestUserInfo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestUserInfo"></a>
    
            <div class="docstring"><p>Method for requesting common user's information.</p>

<p>See also:</p>

<ul>
<li>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetInfo">https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetInfo</a></li>
<li>What does user info fields mean: <a href="https://tinkoff.github.io/investAPI/users/#getinforequest">https://tinkoff.github.io/investAPI/users/#getinforequest</a></li>
<li>What does <code>qualified_for_work_with</code> field mean: <a href="https://tinkoff.github.io/investAPI/faq_users/#qualified_for_work_with">https://tinkoff.github.io/investAPI/faq_users/#qualified_for_work_with</a></li>
<li><code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code> method</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw data from server that contains user's information. Example of dict:
           <code>{"premStatus": true, "qualStatus": false, "qualifiedForWorkWith": ["bond", "foreign_shares", "leverage",
           "russian_shares", "structured_income_bonds"], "tariff": "premium"}</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestMarginStatus" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestMarginStatus</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">accountId</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestMarginStatus"></a>
    
            <div class="docstring"><p>Method for requesting margin calculation for defined account ID.</p>

<p>See also:</p>

<ul>
<li>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetMarginAttributes">https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetMarginAttributes</a></li>
<li>What does margin fields mean: <a href="https://tinkoff.github.io/investAPI/users/#getmarginattributesresponse">https://tinkoff.github.io/investAPI/users/#getmarginattributesresponse</a></li>
<li><code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code> method</li>
</ul>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>accountId</strong>:  string with numeric account ID. If <code>None</code>, then used class field <code>accountId</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw data from server that contains margin calculation. If margin is disabled then returns empty dict.
           Example of responses:
           status code 400: <code>{"code": 3, "message": "account margin status is disabled", "description": "30051" }</code>, returns: <code>{}</code>.
           status code 200: <code>{"liquidPortfolio": {"currency": "rub", "units": "7175", "nano": 560000000},
                            "startingMargin": {"currency": "rub", "units": "6311", "nano": 840000000},
                            "minimalMargin": {"currency": "rub", "units": "3155", "nano": 920000000},
                            "fundsSufficiencyLevel": {"units": "1", "nano": 280000000},
                            "amountOfMissingFunds": {"currency": "rub", "units": "-863", "nano": -720000000}}</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestTariffLimits" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestTariffLimits</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestTariffLimits"></a>
    
            <div class="docstring"><p>Method for requesting limits of current tariff (connections, API methods etc.) of current user detected by <code>token</code>.</p>

<p>See also:</p>

<ul>
<li>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetUserTariff">https://tinkoff.github.io/investAPI/swagger-ui/#/UsersService/UsersService_GetUserTariff</a></li>
<li>What does fields in tariff mean: <a href="https://tinkoff.github.io/investAPI/users/#getusertariffrequest">https://tinkoff.github.io/investAPI/users/#getusertariffrequest</a></li>
<li>Unary limit: <a href="https://tinkoff.github.io/investAPI/users/#unarylimit">https://tinkoff.github.io/investAPI/users/#unarylimit</a></li>
<li>Stream limit: <a href="https://tinkoff.github.io/investAPI/users/#streamlimit">https://tinkoff.github.io/investAPI/users/#streamlimit</a></li>
<li><code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code> method</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw data from server that contains limits of current tariff. Example of dict:
           <code>{"unaryLimits": [{"limitPerMinute": 0, "methods": ["methods", "methods"]}, ...],
           "streamLimits": [{"streams": ["streams", "streams"], "limit": 6}, ...]}</code>.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.RequestBondCoupons" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">RequestBondCoupons</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">iJSON</span><span class="p">:</span> <span class="nb">dict</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.RequestBondCoupons"></a>
    
            <div class="docstring"><p>Requesting bond payment calendar from official placement date to maturity date. If these dates are unknown
then requesting dates <code>"from": "1970-01-01T00:00:00.000Z"</code> and <code>"to": "2099-12-31T23:59:59.000Z"</code>.
All dates are in UTC timezone.</p>

<p>REST API: <a href="https://tinkoff.github.io/investAPI/swagger-ui/#/InstrumentsService/InstrumentsService_GetBondCoupons">https://tinkoff.github.io/investAPI/swagger-ui/#/InstrumentsService/InstrumentsService_GetBondCoupons</a>
Documentation:</p>

<ul>
<li>request: <a href="https://tinkoff.github.io/investAPI/instruments/#getbondcouponsrequest">https://tinkoff.github.io/investAPI/instruments/#getbondcouponsrequest</a></li>
<li>response: <a href="https://tinkoff.github.io/investAPI/instruments/#coupon">https://tinkoff.github.io/investAPI/instruments/#coupon</a></li>
</ul>

<p>See also: <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>iJSON</strong>:  raw json data of a bond from broker server, example <code>iJSON = self.iList["Bonds"][self._ticker]</code>
If raw iJSON is not data of bond then server returns an error [400] with message:
<code>{"code": 3, "message": "instrument type is not bond", "description": "30048"}</code>.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dictionary with bond payment calendar. Response example
           <code>{"events": [{"figi": "TCS00A101YV8", "couponDate": "2023-07-26T00:00:00Z", "couponNumber": "12",
           "fixDate": "2023-07-25T00:00:00Z", "payOneBond": {"currency": "rub", "units": "7", "nano": 170000000},
           "couponType": "COUPON_TYPE_CONSTANT", "couponStartDate": "2023-04-26T00:00:00Z",
           "couponEndDate": "2023-07-26T00:00:00Z", "couponPeriod": 91}, {...}, ...]}</code></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ExtendBondsData" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ExtendBondsData</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">instruments</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>,</span><span class="param">	<span class="n">xlsx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ExtendBondsData"></a>
    
            <div class="docstring"><p>Requests jsons with raw bonds data for every ticker or FIGI in instruments list and transform it to the wider
Pandas DataFrame with more information about bonds: main info, current prices, bond payment calendar,
coupon yields, current yields and some statistics etc.</p>

<p>WARNING! This is too long operation if a lot of bonds requested from broker server.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo()</a></code>, <code><a href="#TinkoffBrokerServer.CreateBondsCalendar">CreateBondsCalendar()</a></code>, <code><a href="#TinkoffBrokerServer.ShowBondsCalendar">ShowBondsCalendar()</a></code>, <code><a href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>instruments</strong>:  list of strings with tickers or FIGIs.</li>
<li><strong>xlsx</strong>:  if True then also exports Pandas DataFrame to xlsx-file <code><a href="#TinkoffBrokerServer.bondsXLSXFile">bondsXLSXFile</a></code>, default <code>ext-bonds.xlsx</code>,
for further used by data scientists or stock analytics.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>wider Pandas DataFrame with more full and calculated data about bonds, than raw response from broker.
           In XLSX-file and Pandas DataFrame fields mean:
           - main info about bond: <a href="https://tinkoff.github.io/investAPI/instruments/#bond">https://tinkoff.github.io/investAPI/instruments/#bond</a>
           - info about coupon: <a href="https://tinkoff.github.io/investAPI/instruments/#coupon">https://tinkoff.github.io/investAPI/instruments/#coupon</a></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.CreateBondsCalendar" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">CreateBondsCalendar</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">extBonds</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">xlsx</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></span><span class="return-annotation">) -> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.CreateBondsCalendar"></a>
    
            <div class="docstring"><p>Creates bond payments calendar as Pandas DataFrame, and also save it to the XLSX-file, <code>calendar.xlsx</code> by default.</p>

<p>WARNING! This is too long operation if a lot of bonds requested from broker server.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowBondsCalendar">ShowBondsCalendar()</a></code>, <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>extBonds</strong>:  Pandas DataFrame object returns by <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code> method and contains
extended information about bonds: main info, current prices, bond payment calendar,
coupon yields, current yields and some statistics etc.
If this parameter is <code>None</code> then used <code><a href="#TinkoffBrokerServer.figi">figi</a></code> or <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> as bond name and then calculate <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</li>
<li><strong>xlsx</strong>:  if True then also exports Pandas DataFrame to file <code><a href="#TinkoffBrokerServer.calendarFile">calendarFile</a></code> + <code>".xlsx"</code>, <code>calendar.xlsx</code> by default,
for further used by data scientists or stock analytics.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>Pandas DataFrame with only bond payments calendar data. Fields mean: <a href="https://tinkoff.github.io/investAPI/instruments/#coupon">https://tinkoff.github.io/investAPI/instruments/#coupon</a></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.ShowBondsCalendar" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ShowBondsCalendar</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="bp">self</span>,</span><span class="param">	<span class="n">extBonds</span><span class="p">:</span> <span class="n">pandas</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">frame</span><span class="o">.</span><span class="n">DataFrame</span>,</span><span class="param">	<span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>,</span><span class="param">	<span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.ShowBondsCalendar"></a>
    
            <div class="docstring"><p>Show bond payments calendar as a table. One row in input <code>bonds</code> dataframe contains one bond.
Also, creates Markdown file with calendar data, <code>calendar.md</code> by default.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.ShowInstrumentInfo">ShowInstrumentInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestBondCoupons">RequestBondCoupons()</a></code>, <code><a href="#TinkoffBrokerServer.CreateBondsCalendar">CreateBondsCalendar()</a></code> and <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>extBonds</strong>:  Pandas DataFrame object returns by <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code> method and contains
extended information about bonds: main info, current prices, bond payment calendar,
coupon yields, current yields and some statistics etc.
If this parameter is <code>None</code> then used <code><a href="#TinkoffBrokerServer.figi">figi</a></code> or <code><a href="#TinkoffBrokerServer.ticker">ticker</a></code> as bond name and then calculate <code><a href="#TinkoffBrokerServer.ExtendBondsData">ExtendBondsData()</a></code>.</li>
<li><strong>show</strong>:  if <code>True</code> then also printing bonds payment calendar to the console,
otherwise save to file <code><a href="#TinkoffBrokerServer.calendarFile">calendarFile</a></code> only. <code>False</code> by default.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>multilines text in Markdown format with bonds payment calendar as a table.</p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.OverviewAccounts" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">OverviewAccounts</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.OverviewAccounts"></a>
    
            <div class="docstring"><p>Method for parsing and show simple table with all available user accounts.</p>

<p>See also: <code><a href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts()</a></code> and <code><a href="#TinkoffBrokerServer.OverviewUserInfo">OverviewUserInfo()</a></code> methods.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>False</code> then only dictionary with accounts data returns, if <code>True</code> then also print it to log.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with parsed accounts data received from <code><a href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts()</a></code> method. Example of dict:
           <code>view = {"rawAccounts": {rawAccounts from RequestAccounts() method...},
                  "stat": {"accountId string": {"type": "Tinkoff brokerage account", "name": "Test - 1",
                                                "status": "Opened and active account", "opened": "2018-05-23 00:00:00",
                                                "closed": "—", "access": "Full access" }, ...}}</code></p>
</blockquote>
</div>


                            </div>
                            <div id="TinkoffBrokerServer.OverviewUserInfo" class="classattr">
                                <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">OverviewUserInfo</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">show</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>, </span><span class="param"><span class="n">onlyFiles</span><span class="o">=</span><span class="kc">False</span></span><span class="return-annotation">) -> <span class="nb">dict</span>:</span></span>

        
    </div>
    <a class="headerlink" href="#TinkoffBrokerServer.OverviewUserInfo"></a>
    
            <div class="docstring"><p>Method for parsing and show all available user's data (<code>accountId</code>s, common user information, margin status and tariff connections limit).</p>

<p>See also: <code><a href="#TinkoffBrokerServer.OverviewAccounts">OverviewAccounts()</a></code>, <code><a href="#TinkoffBrokerServer.RequestAccounts">RequestAccounts()</a></code>, <code><a href="#TinkoffBrokerServer.RequestUserInfo">RequestUserInfo()</a></code>, <code><a href="#TinkoffBrokerServer.RequestMarginStatus">RequestMarginStatus()</a></code> and <code><a href="#TinkoffBrokerServer.RequestTariffLimits">RequestTariffLimits()</a></code> methods.</p>

<h6 id="parameters">Parameters</h6>

<ul>
<li><strong>show</strong>:  if <code>False</code> then only dictionary returns, if <code>True</code> then also print user's data to log.</li>
<li><strong>onlyFiles</strong>:  if <code>True</code> then do not show Markdown table in the console, but only generates report files.</li>
</ul>

<h6 id="returns">Returns</h6>

<blockquote>
  <p>dict with raw parsed data from server and some calculated statistics about it.</p>
</blockquote>
</div>


                            </div>
                </section>
                <section id="Args">
                    <div class="attr class">
            
    <span class="def">class</span>
    <span class="name">Args</span>:

        
    </div>
    <a class="headerlink" href="#Args"></a>
    
            <div class="docstring"><p>If <code><a href="#Main">Main()</a></code> function is imported as module, then this class used to convert arguments from **kwargs as object.</p>
</div>


                            <div id="Args.__init__" class="classattr">
                                <div class="attr function">
            
        <span class="name">Args</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span></span>)</span>

        
    </div>
    <a class="headerlink" href="#Args.__init__"></a>
    
    

                            </div>
                </section>
                <section id="ParseArgs">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">ParseArgs</span><span class="signature pdoc-code condensed">(<span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#ParseArgs"></a>
    
            <div class="docstring"><p>This function get and parse command line keys.</p>
</div>


                </section>
                <section id="Main">
                    <div class="attr function">
            
        <span class="def">def</span>
        <span class="name">Main</span><span class="signature pdoc-code condensed">(<span class="param"><span class="o">**</span><span class="n">kwargs</span></span><span class="return-annotation">):</span></span>

        
    </div>
    <a class="headerlink" href="#Main"></a>
    
            <div class="docstring"><p>Main function for work with TKSBrokerAPI in the console.</p>

<p>See examples:</p>

<ul>
<li>in english: <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md">https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md</a></li>
<li>in russian: <a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README.md">https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README.md</a></li>
</ul>

<p><a href="https://yoomoney.ru/fundraise/4WOyAgNgb7M.230111"><img src="https://badgen.net/badge/gift/donate/green" alt="gift" /></a></p>
</div>


                </section>
    </main>
<script>
    function escapeHTML(html) {
        return document.createElement('div').appendChild(document.createTextNode(html)).parentNode.innerHTML;
    }

    const originalContent = document.querySelector("main.pdoc");
    let currentContent = originalContent;

    function setContent(innerHTML) {
        let elem;
        if (innerHTML) {
            elem = document.createElement("main");
            elem.classList.add("pdoc");
            elem.innerHTML = innerHTML;
        } else {
            elem = originalContent;
        }
        if (currentContent !== elem) {
            currentContent.replaceWith(elem);
            currentContent = elem;
        }
    }

    function getSearchTerm() {
        return (new URL(window.location)).searchParams.get("search");
    }

    const searchBox = document.querySelector(".pdoc input[type=search]");
    searchBox.addEventListener("input", function () {
        let url = new URL(window.location);
        if (searchBox.value.trim()) {
            url.hash = "";
            url.searchParams.set("search", searchBox.value);
        } else {
            url.searchParams.delete("search");
        }
        history.replaceState("", "", url.toString());
        onInput();
    });
    window.addEventListener("popstate", onInput);


    let search, searchErr;

    async function initialize() {
        try {
            search = await new Promise((resolve, reject) => {
                const script = document.createElement("script");
                script.type = "text/javascript";
                script.async = true;
                script.onload = () => resolve(window.pdocSearch);
                script.onerror = (e) => reject(e);
                script.src = "../search.js";
                document.getElementsByTagName("head")[0].appendChild(script);
            });
        } catch (e) {
            console.error("Cannot fetch pdoc search index");
            searchErr = "Cannot fetch search index.";
        }
        onInput();

        document.querySelector("nav.pdoc").addEventListener("click", e => {
            if (e.target.hash) {
                searchBox.value = "";
                searchBox.dispatchEvent(new Event("input"));
            }
        });
    }

    function onInput() {
        setContent((() => {
            const term = getSearchTerm();
            if (!term) {
                return null
            }
            if (searchErr) {
                return `<h3>Error: ${searchErr}</h3>`
            }
            if (!search) {
                return "<h3>Searching...</h3>"
            }

            window.scrollTo({top: 0, left: 0, behavior: 'auto'});

            const results = search(term);

            let html;
            if (results.length === 0) {
                html = `No search results for '${escapeHTML(term)}'.`
            } else {
                html = `<h4>${results.length} search result${results.length > 1 ? "s" : ""} for '${escapeHTML(term)}'.</h4>`;
            }
            for (let result of results.slice(0, 10)) {
                let doc = result.doc;
                let url = `../${doc.modulename.replaceAll(".", "/")}.html`;
                if (doc.qualname) {
                    url += `#${doc.qualname}`;
                }

                let heading;
                switch (result.doc.kind) {
                    case "function":
                        if (doc.fullname.endsWith(".__init__")) {
                            heading = `<span class="name">${doc.fullname.replace(/\.__init__$/, "")}</span>${doc.signature}`;
                        } else {
                            heading = `<span class="def">${doc.funcdef}</span> <span class="name">${doc.fullname}</span>${doc.signature}`;
                        }
                        break;
                    case "class":
                        heading = `<span class="def">class</span> <span class="name">${doc.fullname}</span>`;
                        if (doc.bases)
                            heading += `<wbr>(<span class="base">${doc.bases}</span>)`;
                        heading += `:`;
                        break;
                    case "variable":
                        heading = `<span class="name">${doc.fullname}</span>`;
                        if (doc.annotation)
                            heading += `<span class="annotation">${doc.annotation}</span>`;
                        if (doc.default_value)
                            heading += `<span class="default_value">${doc.default_value}</span>`;
                        break;
                    default:
                        heading = `<span class="name">${doc.fullname}</span>`;
                        break;
                }
                html += `
                        <section class="search-result">
                        <a href="${url}" class="attr ${doc.kind}">${heading}</a>
                        <div class="docstring">${doc.doc}</div>
                        </section>
                    `;

            }
            return html;
        })());
    }

    if (getSearchTerm()) {
        initialize();
        searchBox.value = getSearchTerm();
        onInput();
    } else {
        searchBox.addEventListener("focus", initialize, {once: true});
    }

    searchBox.addEventListener("keydown", e => {
        if (["ArrowDown", "ArrowUp", "Enter"].includes(e.key)) {
            let focused = currentContent.querySelector(".search-result.focused");
            if (!focused) {
                currentContent.querySelector(".search-result").classList.add("focused");
            } else if (
                e.key === "ArrowDown"
                && focused.nextElementSibling
                && focused.nextElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.nextElementSibling.classList.add("focused");
                focused.nextElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "ArrowUp"
                && focused.previousElementSibling
                && focused.previousElementSibling.classList.contains("search-result")
            ) {
                focused.classList.remove("focused");
                focused.previousElementSibling.classList.add("focused");
                focused.previousElementSibling.scrollIntoView({
                    behavior: "smooth",
                    block: "nearest",
                    inline: "nearest"
                });
            } else if (
                e.key === "Enter"
            ) {
                focused.querySelector("a").click();
            }
        }
    });
</script></body>
</html>