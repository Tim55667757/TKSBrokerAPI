# TKSBrokerAPI ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏ –Ω–∞ –±–∏—Ä–∂–µ 

<a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md" target="_blank"><img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/docs/media/TKSBrokerAPI-Logo.png?raw=true" alt="TKSBrokerAPI-Logo" width="780" /></a>

**T**echnologies ¬∑ **K**nowledge ¬∑ **S**cience

**[TKSBrokerAPI](https://github.com/Tim55667757/TKSBrokerAPI)** ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ Python –∏ —Ä–∞–±–æ—Ç—ã —Å [Tinkoff Invest API](https://tinkoff.ru/sl/AaX1Et1omnH) —Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ REST-–ø—Ä–æ—Ç–æ–∫–æ–ª. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–∞—Ö: –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ (–æ–Ω–∞ –∏–º–µ–µ—Ç –±–æ–≥–∞—Ç—ã–π –Ω–∞–±–æ—Ä –∫–ª—é—á–µ–π –∏ –∫–æ–º–∞–Ω–¥) –∏–ª–∏ –µ—ë –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Python –º–æ–¥—É–ª—å —á–µ—Ä–µ–∑ `python import`. TKSBrokerAPI –ø–æ–º–æ–≥–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –∏–ª–∏ —É–ø—Ä–æ—Å—Ç–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–π –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞. –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ CI/CD –∫–æ–Ω–≤–µ–π–µ—Ä—ã.

[![Build Status](https://app.travis-ci.com/Tim55667757/TKSBrokerAPI.svg?branch=master)](https://app.travis-ci.com/Tim55667757/TKSBrokerAPI)
[![pypi](https://img.shields.io/pypi/v/TKSBrokerAPI.svg)](https://pypi.python.org/pypi/TKSBrokerAPI)
[![license](https://img.shields.io/pypi/l/TKSBrokerAPI.svg)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/LICENSE)
[![release-notes](https://badgen.net/badge/release/notes/orange)](https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/CHANGELOG.md)
[![en-doc](https://badgen.net/badge/english/readme/pink)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md)
[![api-doc](https://badgen.net/badge/api-doc/TKSBrokerAPI/blue)](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html)
[![gift](https://badgen.net/badge/gift/donate/green)](https://yoomoney.ru/fundraise/4WOyAgNgb7M.230111)

‚ùó –ï—Å–ª–∏ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏–ª–∏ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ –ø—Ä–∏–º–µ—Ä–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI (–≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –∫–∞–∫ Python API), —Ç–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à —Å–ª—É—á–∞–π –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –ü–æ –º–µ—Ä–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ –æ—á–µ—Ä–µ–¥–Ω–æ–º —Ä–µ–ª–∏–∑–µ.

[![open-issues](http://isitmaintained.com/badge/open/tim55667757/TKSBrokerAPI.svg)](https://github.com/Tim55667757/TKSBrokerAPI/issues?q=is%3Aopen+is%3Aissue+sort%3Acreated-desc)
[![resolution-time](http://isitmaintained.com/badge/resolution/tim55667757/TKSBrokerAPI.svg)](https://isitmaintained.com/project/tim55667757/TKSBrokerAPI)

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**

* üìö [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (documentation and examples in english here)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md)
  * ‚öô [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –¥–ª—è –º–æ–¥—É–ª—è TKSBrokerAPI (API documentation here)](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html)
  * üá∫üá∏ [–†–µ–ª–∏–∑-–Ω–æ—Ç—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/CHANGELOG_EN.md)
  * üá∑üá∫ [–†–µ–ª–∏–∑-–Ω–æ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/CHANGELOG.md)
    * üí° [–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ª–∏–∑—ã –∏ –≤–æ—à–µ–¥—à–∏–µ –≤ –Ω–∏—Ö —Ñ–∏—á–∏](https://github.com/Tim55667757/TKSBrokerAPI/milestones?direction=desc&sort=title&state=open)
    * üìÇ [–í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏ –≤ –±–µ–∫–ª–æ–≥–µ](https://github.com/Tim55667757/TKSBrokerAPI/issues?q=is%3Aissue+is%3Aopen+sort%3Acreated-asc)
* üéÅ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–æ–Ω–∞—Ç–æ–º –Ω–∞ –Æ–ú–∞–Ω–∏-–∫–æ—à–µ–ª—ë–∫: [410015019068268](https://yoomoney.ru/fundraise/4WOyAgNgb7M.230111)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–í–≤–µ–¥–µ–Ω–∏–µ)
   - [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–û—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
2. [–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å](#–ö–∞–∫-—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
3. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
   - [–¢–æ–∫–µ–Ω](#–¢–æ–∫–µ–Ω)
   - [–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](#–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä-—Å—á—ë—Ç–∞-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
4. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
   - [–ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏](#–ò–∑-–∫–æ–º–∞–Ω–¥–Ω–æ–π-—Å—Ç—Ä–æ–∫–∏)
     - [–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–ª—é—á–∞–º](#–ü–æ–ª—É—á–∏—Ç—å-—Å–ø—Ä–∞–≤–∫—É-–ø–æ-–∫–ª—é—á–∞–º)
     - [–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–∞–Ω–Ω—ã—Ö](#–õ–æ–∫–∞–ª—å–Ω—ã–π-–∫—ç—à-–¥–∞–Ω–Ω—ã—Ö)
     - [–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤](#–ü–æ–ª—É—á–∏—Ç—å-—Å–ø–∏—Å–æ–∫-–≤—Å–µ—Ö-–¥–æ—Å—Ç—É–ø–Ω—ã—Ö-–¥–ª—è-—Ç–æ—Ä–≥–æ–≤–ª–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
     - [–ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç](#–ù–∞–π—Ç–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
     - [–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É](#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–ø–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)
     - [–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π](#–ó–∞–ø—Ä–æ—Å–∏—Ç—å-—Å—Ç–∞–∫–∞–Ω-—Ü–µ–Ω-—Å-–∑–∞–¥–∞–Ω–Ω–æ–π-–≥–ª—É–±–∏–Ω–æ–π)
     - [–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤](#–ó–∞–ø—Ä–æ—Å–∏—Ç—å-—Ç–∞–±–ª–∏—Ü—É-–ø–æ—Å–ª–µ–¥–Ω–∏—Ö-–∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö-—Ü–µ–Ω-–¥–ª—è-—Å–ø–∏—Å–∫–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
     - [–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤](#–ü–æ–ª—É—á–∏—Ç—å-—Ç–µ–∫—É—â–∏–π-–ø–æ—Ä—Ç—Ñ–µ–ª—å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∏-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è-–∞–∫—Ç–∏–≤–æ–≤)
     - [–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥](#–ü–æ–ª—É—á–∏—Ç—å-–æ—Ç—á—ë—Ç-–ø–æ-–æ–ø–µ—Ä–∞—Ü–∏—è–º-—Å-–ø–æ—Ä—Ç—Ñ–µ–ª–µ–º-–∑–∞-—É–∫–∞–∑–∞–Ω–Ω—ã–π-–ø–µ—Ä–∏–æ–¥)
     - [–°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ä—ã–Ω–∫—É](#–°–æ–≤–µ—Ä—à–∏—Ç—å-—Å–¥–µ–ª–∫—É-–ø–æ-—Ä—ã–Ω–∫—É)
     - [–û—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä](#–û—Ç–∫—Ä—ã—Ç—å-–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π-–ª–∏–º–∏—Ç–Ω—ã–π-–∏–ª–∏-—Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä)
     - [–û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏](#–û—Ç–º–µ–Ω–∏—Ç—å-–æ—Ä–¥–µ—Ä–∞-–∏-–∑–∞–∫—Ä—ã—Ç—å-–ø–æ–∑–∏—Ü–∏–∏)
     - [–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ OHLCV-—Å–≤–µ—á–µ–π](#–°–∫–∞—á–∞—Ç—å-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ-–¥–∞–Ω–Ω—ã–µ-–≤-—Ñ–æ—Ä–º–∞—Ç–µ-OHLCV-—Å–≤–µ—á–µ–π)
     - [–£–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö](#–£–∑–Ω–∞—Ç—å-–¥–æ—Å—Ç—É–ø–Ω—ã–π-–¥–ª—è-–≤—ã–≤–æ–¥–∞-–æ—Å—Ç–∞—Ç–æ–∫-—Å—Ä–µ–¥—Å—Ç–≤-–≤-—Ä–∞–∑–ª–∏—á–Ω—ã—Ö-–≤–∞–ª—é—Ç–∞—Ö)
     - [–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ —Å—á–µ—Ç–∞—Ö](#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ-–∏-—Å—á–µ—Ç–∞—Ö)
     - [–ü–æ–ª—É—á–∏—Ç—å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ–ª—É—á–∏—Ç—å-–æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)
     - [–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞–ª–µ–Ω–¥–∞—Ä—å-–≤—ã–ø–ª–∞—Ç-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)
   - [–ö–∞–∫ Python API —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è TKSBrokerAPI](#–ö–∞–∫-Python-API-—á–µ—Ä–µ–∑-–∏–º–ø–æ—Ä—Ç-–º–æ–¥—É–ª—è-TKSBrokerAPI)
     - [–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è](#–ü—Ä–∏–º–µ—Ä-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-—Å—Ü–µ–Ω–∞—Ä–∏—è)
     - [–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Jupyter Notebook](#–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ-–≤-Jupyter-Notebook)
     - [–î–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤](#–î–µ—Ç–µ–∫—Ç–æ—Ä-–∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö-–æ–±—ä—ë–º–æ–≤)


## –í–≤–µ–¥–µ–Ω–∏–µ

–ï—Å–ª–∏ –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π, —Ç–æ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–ª—ã—à–∞–ª–∏ –ø—Ä–æ [Tinkoff Open API](https://tinkoff.github.io/investAPI/) (–∫ –Ω–µ–º—É –µ—Å—Ç—å –Ω–µ–ø–ª–æ—Ö–∞—è [Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://tinkoff.github.io/investAPI/swagger-ui/)) ‚Äî —ç—Ç–æ API, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–µ –±—Ä–æ–∫–µ—Ä–æ–º –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –±–∏—Ä–∂–µ–≤—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤. –ï—Å–ª–∏ –µ—â—ë –Ω–µ —Å–ª—ã—à–∞–ª–∏, —Ç–æ –º–æ–∂–µ—Ç–µ –∑–∞–≤–µ—Å—Ç–∏ —Å–µ–±–µ –∞–∫–∫–∞—É–Ω—Ç [–ø–æ —Å—Å—ã–ª–∫–µ](https://tinkoff.ru/sl/AaX1Et1omnH) –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∞–º–∏.

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º–∏ API, –≤—Å–µ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏: –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–∂–¥–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∏–∑—É—á–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É API. –ü—Ä–æ–π–¥—ë—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º —É –≤–∞—Å –¥–æ–π–¥—ë—Ç –¥–µ–ª–æ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ **[TKSBrokerAPI](https://github.com/Tim55667757/TKSBrokerAPI)** ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Python –º–æ–¥—É–ª—å –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∏ —Å—Ä–∞–∑—É –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –ø–æ–ª—É—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—á—ë—Ç–æ–º —É –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –≤–∫–ª—é—á–∞—è —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏, –ø–æ–ª—É—á–∞—Ç—å –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ—Ä–≥—É–µ–º—ã—Ö –Ω–∞ –±–∏—Ä–∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ü–µ–Ω—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç—á—ë—Ç—ã –æ–± –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—è—Ç—Å—è —Å—Ä–∞–∑—É –≤ –∫–æ–Ω—Å–æ–ª—å: –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö —Ñ–æ—Ä–º–∞—Ç–∞ Markdown.

<details>
  <summary>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å</summary>

```commandline
$ tksbrokerapi --overview

TKSBrokerAPI.py     L:1821 INFO    [2022-08-10 22:06:27,150] Statistics of client's portfolio:
# Client's portfolio

* **Actual date:** [2022-08-10 19:06:27] (UTC)
* **Account ID:** [**********]
* **Portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Open positions

| Ticker [FIGI]               | Volume (blocked)                | Lots     | Curr. price  | Avg. price   | Current volume cost | Profit (%)
|-----------------------------|---------------------------------|----------|--------------|--------------|---------------------|----------------------
| Ruble                       |                 5.62 (0.00) rub |          |              |              |                     |
|                             |                                 |          |              |              |                     |
| **Currencies:**             |                                 |          |              |              |        13886.03 RUB |
| EUR_RUB__TOM [BBG0013HJJ31] |                 5.29 (0.00) eur | 0.0053   |    62.75 rub |    61.41 rub |          331.96 rub | +7.10 rub (+2.19%)
| CNYRUB_TOM [BBG0013HRTL0]   |               928.93 (0.00) cny | 0.9289   |     9.09 rub |     8.95 rub |         8443.97 rub | +134.69 rub (+1.62%)
| CHFRUB_TOM [BBG0013HQ5K4]   |                 1.00 (0.00) chf | 0.0010   |    60.54 rub |    64.00 rub |           60.54 rub | -3.46 rub (-5.41%)
| GBPRUB_TOM [BBG0013HQ5F0]   |                10.00 (0.00) gbp | 0.0100   |    74.39 rub |    75.88 rub |          743.85 rub | -14.94 rub (-1.97%)
| TRYRUB_TOM [BBG0013J12N1]   |               100.00 (0.00) try | 0.1000   |     3.42 rub |     3.41 rub |          342.00 rub | +0.65 rub (+0.19%)
| USD000UTSTOM [BBG0013HGFT4] |                34.42 (0.05) usd | 0.0344   |    60.66 rub |    60.33 rub |         2088.09 rub | +11.44 rub (+0.55%)
| HKDRUB_TOM [BBG0013HSW87]   |               237.75 (0.00) hkd | 0.2378   |     7.89 rub |     7.83 rub |         1875.61 rub | +14.27 rub (+0.77%)
|                             |                                 |          |              |              |                     |
| **Shares:**                 |                                 |          |              |              |       199987.52 RUB |
| POSI [TCS00A103X66]         |                           3 (0) | 3        |  1161.80 rub |  1120.20 rub |         3485.40 rub | +124.60 rub (+3.71%)
| 288 [BBG00699M8Q7]          |                         800 (0) | 8        |     5.53 hkd |     5.69 hkd |         4424.00 hkd | -128.00 hkd (-2.81%)
| YNDX [BBG006L8G4H1]         |                           4 (0) | 4        |  1971.80 rub |  1958.80 rub |         7887.20 rub | +52.22 rub (+0.67%)
| IBM [BBG000BLNNH6]          |                           1 (1) | 1        |   131.03 usd |   131.13 usd |          131.03 usd | -0.10 usd (-0.08%)
| 1810 [BBG00KVTBY91]         |                        1100 (0) | 11       |    11.79 hkd |    11.76 hkd |        12969.00 hkd | +30.00 hkd (+0.23%)
| 9988 [BBG006G2JVL2]         |                          60 (0) | 6        |    91.80 hkd |    91.05 hkd |         5508.00 hkd | +45.50 hkd (+0.83%)
|                             |                                 |          |              |              |                     |
| **Bonds:**                  |                                 |          |              |              |        56240.33 RUB |
| RU000A105104 [TCS00A105104] |                           5 (0) | 5        |  1012.00 cny |  1013.00 cny |         5064.80 cny | -5.00 cny (-0.10%)
| RU000A101YV8 [TCS00A101YV8] |                          10 (0) | 10       |  1015.40 rub |  1011.21 rub |        10201.30 rub | +41.90 rub (+0.41%)
|                             |                                 |          |              |              |                     |
| **Etfs:**                   |                                 |          |              |              |       135586.27 RUB |
| TGLD [BBG222222222]         |                       30000 (0) | 300      |     0.07 usd |     0.07 usd |         2235.00 usd | -3.39 usd (-0.15%)
|                             |                                 |          |              |              |                     |
| **Futures:** no trades      |                                 |          |              |              |                     |

## Opened pending limit-orders: 1

| Ticker [FIGI]               | Order ID       | Lots (exec.) | Current price (% delta) | Target price  | Action    | Type      | Create date (UTC)
|-----------------------------|----------------|--------------|-------------------------|---------------|-----------|-----------|---------------------
| IBM [BBG000BLNNH6]          | ************   | 1 (0)        |     131.02 usd (-4.36%) |    137.00 usd | ‚Üì Sell    | Limit     | 2022-08-10 22:02:44

## Opened stop-orders: 3

| Ticker [FIGI]               | Stop order ID                        | Lots   | Current price (% delta) | Target price  | Limit price   | Action    | Type        | Expire type  | Create date (UTC)   | Expiration (UTC)
|-----------------------------|--------------------------------------|--------|-------------------------|---------------|---------------|-----------|-------------|--------------|---------------------|---------------------
| 1810 [BBG00KVTBY91]         | ********-****-****-****-************ | 11     |         N/A hkd (0.00%) |     14.00 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:24:57 | Undefined
| 288 [BBG00699M8Q7]          | ********-****-****-****-************ | 8      |         N/A hkd (0.00%) |      5.80 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:06:28 | Undefined
| IBM [BBG000BLNNH6]          | ********-****-****-****-************ | 1      |     130.99 usd (-4.49%) |    137.15 usd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 19:02:21 | Undefined

# Analytics

* **Current total portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Portfolio distribution by assets

| Type       | Uniques | Percent | Current cost
|------------|---------|---------|-----------------
| Ruble      | 1       | 0.00%   | 5.62 rub
| Currencies | 7       | 3.42%   | 13886.03 rub
| Shares     | 6       | 49.29%  | 199987.52 rub
| Bonds      | 2       | 13.86%  | 56240.33 rub
| Etfs       | 1       | 33.42%  | 135586.27 rub

## Portfolio distribution by companies

| Company                                     | Percent | Current cost
|---------------------------------------------|---------|-----------------
| All money cash                              | 3.42%   | 13891.65 rub
| [POSI] Positive Technologies                | 0.86%   | 3485.40 rub
| [288] WH Group                              | 8.60%   | 34900.94 rub
| [YNDX] Yandex                               | 1.94%   | 7887.20 rub
| [IBM] IBM                                   | 1.96%   | 7948.93 rub
| [1810] Xiaomi                               | 25.22%  | 102312.44 rub
| [9988] Alibaba                              | 10.71%  | 43452.61 rub
| [RU000A105104] –†–£–°–ê–õ –≤—ã–ø—É—Å–∫ 5               | 11.35%  | 46039.03 rub
| [RU000A101YV8] –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1 | 2.51%   | 10201.30 rub
| [TGLD] –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ                      | 33.42%  | 135586.28 rub

## Portfolio distribution by sectors

| Sector         | Percent | Current cost
|----------------|---------|-----------------
| All money cash | 3.42%   | 13891.65 rub
| it             | 30.55%  | 123948.08 rub
| consumer       | 19.31%  | 78353.55 rub
| telecom        | 1.94%   | 7887.20 rub
| materials      | 11.35%  | 46039.03 rub
| other          | 33.42%  | 135586.28 rub

## Portfolio distribution by currencies

| Instruments currencies   | Percent | Current cost
|--------------------------|---------|-----------------
| [rub] –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å   | 5.32%   | 21579.52 rub
| [hkd] –ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä | 44.99%  | 182541.60 rub
| [usd] –î–æ–ª–ª–∞—Ä –°–®–ê         | 35.89%  | 145623.30 rub
| [cny] –Æ–∞–Ω—å               | 13.43%  | 54483.01 rub
| [eur] –ï–≤—Ä–æ               | 0.08%   | 331.96 rub
| [chf] –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫  | 0.01%   | 60.54 rub
| [gbp] –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤    | 0.18%   | 743.85 rub
| [try] –¢—É—Ä–µ—Ü–∫–∞—è –ª–∏—Ä–∞      | 0.08%   | 342.00 rub

## Portfolio distribution by countries

| Assets by country                  | Percent | Current cost
|------------------------------------|---------|-----------------
| All other countries                | 36.84%  | 149472.30 rub
| [RU] –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è          | 16.67%  | 67612.93 rub
| [CN] –ö–∏—Ç–∞–π—Å–∫–∞—è –ù–∞—Ä–æ–¥–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞ | 44.53%  | 180665.99 rub
| [US] –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏     | 1.96%   | 7948.93 rub

TKSBrokerAPI.py     L:1827 INFO    [2022-08-10 22:06:27,153] Client's portfolio is saved to file: [overview.md]
```

</details>

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –ª–∏–±–æ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç –±—Ä–æ–∫–µ—Ä–∞. –ë–ª–∞–≥–æ–¥–∞—Ä—è –±–æ–≥–∞—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –µ—ë –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD.

–í –±—É–¥—É—â–µ–º, –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –≤ –æ–ø–µ–Ω—Å–æ—Ä—Å –±—É–¥—É—Ç –≤—ã–ª–æ–∂–µ–Ω—ã –≥–æ—Ç–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ —è–∑—ã–∫–µ Python.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ù–∞ –º–æ–º–µ–Ω—Ç [–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞](https://pypi.org/project/tksbrokerapi/) –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç TKSBrokerAPI —É–º–µ–µ—Ç:

- –°–∫–∞—á–∏–≤–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ü–µ–Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ OHLCV (–¥–æ—Å—Ç—É–ø–Ω—ã –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã: `1min`, `5min`, `15min`, `hour` –∏ `day` –∑–∞ –ª—é–±–æ–π –ø–µ—Ä–∏–æ–¥ –≤—Ä–µ–º–µ–Ω–∏, –Ω–∞—á–∏–Ω–∞—è —Å `1970-01-01`);
  - –æ–±—â–∏–π –∫–ª—é—á `--history` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `--interval`, `--only-missing` –∏ `--csv-sep`;
  - API-–º–µ—Ç–æ–¥: [`History()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.History).
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º —Ç–æ—Ä–≥—É–µ–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ —Ñ–∞–π–ª `dump.json` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —á–∏—Å–ª–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä –±—Ä–æ–∫–µ—Ä–∞;
  - –∫–ª—é—á `--no-cache` –æ—Ç–º–µ–Ω—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞, –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ;
  - API-–º–µ—Ç–æ–¥: [`DumpInstruments()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.DumpInstruments).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –≤–∞–ª—é—Ç, –∞–∫—Ü–∏–π, –æ–±–ª–∏–≥–∞—Ü–∏–π, —Ñ–æ–Ω–¥–æ–≤ –∏ —Ñ—å—é—á–µ—Ä—Å–æ–≤, –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (—á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–∞—è —Ç–∞–±–ª–∏—Ü–∞) –∏–ª–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ XLSX, –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏;
  - –∫–ª—é—á `--list` –∏–ª–∏ `-l` –¥–ª—è Markdown-—Ñ–∞–π–ª–∞, –∫–ª—é—á `--list-xlsx` –∏–ª–∏ `-x` –¥–ª—è XLSX-—Ñ–∞–π–ª–∞;
  - API-–º–µ—Ç–æ–¥—ã: [`Listing()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Listing) –∏ [`DumpInstrumentsAsXLSX()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.DumpInstrumentsAsXLSX).
- –í—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —É–∫–∞–∑–∞–≤ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∏—Ö –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞, –ª–∏–±–æ –∑–∞–¥–∞–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ;
  - –∫–ª—é—á `--search` –∏–ª–∏ `-s`;
  - API-–º–µ—Ç–æ–¥: [`SearchInstruments()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchInstruments).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –±—Ä–æ–∫–µ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ, –∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä FIGI;
  - –∫–ª—é—á `--info` –∏–ª–∏ `-i`;
  - API-–º–µ—Ç–æ–¥—ã: [`SearchByTicker()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByTicker), [`SearchByFIGI()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByFIGI) –∏ [`ShowInstrumentInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ShowInstrumentInfo).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –±—Ä–æ–∫–µ—Ä–∞ —Å—Ç–∞–∫–∞–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–∏—Ä–∂–µ–≤—ã—Ö —Ü–µ–Ω –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ —Ç–∏–∫–µ—Ä—É –∏–ª–∏ FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≥–ª—É–±–∏–Ω—É —Å—Ç–∞–∫–∞–Ω–∞;
  - –∫–ª—é—á `--price` —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–æ–º `--depth`;
  - API-–º–µ—Ç–æ–¥: [`GetCurrentPrices()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetCurrentPrices).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ü–µ–Ω;
  - –∫–ª—é—á `--prices` —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º —Å–ø–∏—Å–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤;
  - API-–º–µ—Ç–æ–¥: [`GetListOfPrices()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetListOfPrices).
- –ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ –Ω–µ–º—É: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ –∞–∫—Ç–∏–≤–∞–º, –∫–æ–º–ø–∞–Ω–∏—è–º, —Å–µ–∫—Ç–æ—Ä–∞–º, –≤–∞–ª—é—Ç–∞–º –∏ —Å—Ç—Ä–∞–Ω–∞–º –∞–∫—Ç–∏–≤–æ–≤;
  - –∫–ª—é—á `--overview` –∏–ª–∏ `-o`;
  - API-–º–µ—Ç–æ–¥: [`Overview()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Å–¥–µ–ª–∫–∞—Ö –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –µ—ë –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ;
  - –∫–ª—é—á `--deals` –∏–ª–∏ `-d`;
  - API-–º–µ—Ç–æ–¥: [`Deals()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Deals).
- –°–æ–≤–µ—Ä—à–∞—Ç—å —Å–¥–µ–ª–∫–∏ –ø–æ —Ä—ã–Ω–∫—É, –ø–æ–∫—É–ø–∞—è –∏–ª–∏ –ø—Ä–æ–¥–∞–≤–∞—è –∞–∫—Ç–∏–≤—ã –≤ —Å—Ç–∞–∫–∞–Ω–µ, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—è –∏–º–µ—é—â–∏–µ—Å—è –∑–∞—è–≤–∫–∏ –æ—Ç –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏–ª–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π;
  - –æ–±—â–∏–π –∫–ª—é—á `--trade` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `--buy`, `--sell`;
  - API-–º–µ—Ç–æ–¥—ã: [`Trade()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Trade), [`Buy()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Buy) –∏ [`Sell()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Sell).
- –û—Ç–∫—Ä—ã–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞: –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç–Ω—ã–µ, –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏, –∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã –∏–ª–∏ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã;
  - –æ–±—â–∏–π –∫–ª—é—á `--order` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `--buy-limit`, `--sell-limit`, `--buy-stop`, `--sell-stop`;
  - API-–º–µ—Ç–æ–¥—ã: [`Order()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Order), [`BuyLimit()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.BuyLimit), [`SellLimit()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellLimit), [`BuyStop()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.BuyStop) –∏ [`SellStop()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellStop).
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ä–∞–Ω–µ–µ –æ—Ä–¥–µ—Ä–∞ –∏–ª–∏ —Å–ø–∏—Å–∫–∏ –æ—Ä–¥–µ—Ä–æ–≤ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –ø–æ –∏—Ö ID;
  - –∫–ª—é—á–∏ `--close-order` –∏–ª–∏ `--cancel-order`, `--close-orders` –∏–ª–∏ `--cancel-orders`;
  - API-–º–µ—Ç–æ–¥: [`CloseOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseOrders).
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å —Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é (–∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤), —É–∫–∞–∑–∞–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∏—Ö —Ç–∏–∫–µ—Ä—ã –∏–ª–∏ FIGI;
  - –∫–ª—é—á–∏ `--close-trade` (`--cancel-trade`) –∏–ª–∏ `--close-trades` (`--cancel-trades`);
  - API-–º–µ—Ç–æ–¥: [`CloseTrades()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseTrades).
- –û—Ç–º–µ–Ω—è—Ç—å –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ä–∞–Ω–µ–µ –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º —Å—Ä–∞–∑—É, –∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ –∏ –ø–æ–∑–∏—Ü–∏–π –ø–æ –≤–∞–ª—é—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ;
  - –∫–ª—é—á `--close-all` (–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–∞–º–∏ `--ticker` –∏–ª–∏ `--figi`), —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞, —Ç–∏–ø –∞–∫—Ç–∏–≤–∞ –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –ø–æ—Å–ª–µ –∫–ª—é—á–∞ `--close-all`: `orders`, `shares`, `bonds`, `etfs` –∏–ª–∏ `futures`;
  - API-–º–µ—Ç–æ–¥—ã: [`CloseAll()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAll), [`CloseAllByTicker()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllByTicker), [`CloseAllByFIGI()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllByFIGI), [`IsInLimitOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.IsInLimitOrders), [`GetLimitOrderIDs()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetLimitOrderIDs), [`IsInStopOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.IsInStopOrders), [`GetStopOrderIDs()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetStopOrderIDs), [`CloseAllOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllOrders) –∏ [`CloseAllTrades()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllTrades).
- –ü–æ–ª—É—á–∞—Ç—å –ª–∏–º–∏—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞;
  - –∫–ª—é—á `--limits` (`--withdrawal-limits`, `-w`);
  - API-–º–µ—Ç–æ–¥—ã: [`RequestLimits()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestLimits) –∏ [`OverviewLimits()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewLimits).
- –°—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–µ—á–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ü–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫—É [PriceGenerator](https://github.com/Tim55667757/PriceGenerator)), –∏—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ü–µ–Ω –ø—Ä–∏ —ç—Ç–æ–º –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫ –∏ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ csv-—Ñ–æ—Ä–º–∞—Ç–µ;
  - –æ–±—â–∏–π –∫–ª—é—á `--render-chart`, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –æ–¥–Ω–∏–º –∏–∑ –∫–ª—é—á–µ–π `--history` (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞) –∏–ª–∏ `--load-history` (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ csv-—Ñ–∞–π–ª–∞);
  - API-–º–µ—Ç–æ–¥—ã: [`ShowHistoryChart()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ShowHistoryChart), [`History()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.History) –∏ [`LoadHistory()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.LoadHistory).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤ (–≤ —Ç–æ–º —á–∏—Å–ª–µ `accountId` –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤), –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –ª–∏–º–∏—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ API –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞;
  - –æ–±—â–∏–π –∫–ª—é—á `--user-info` (`-u`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏–ª–∏ –∫–ª—é—á `--account` (`--accounts`, `-a`) –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –∞–∫–∫–∞—É–Ω—Ç–æ–≤;
  - API-–º–µ—Ç–æ–¥—ã: [`RequestAccounts()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestAccounts), [`RequestUserInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestUserInfo), [`RequestMarginStatus()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestMarginStatus), [`RequestTariffLimits()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestTariffLimits), [`OverviewUserInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewUserInfo) –∏ [`OverviewAccounts()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewAccounts).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± –æ–±–ª–∏–≥–∞—Ü–∏—è—Ö, –æ–±–æ–≥–∞—â–∞—Ç—å –∏—Ö –∏ –ø—Ä–µ–≤—Ä–∞—â–∞—Ç—å –≤ Pandas DataFrame —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏: –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º, –∫—É–ø–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥, —Ç–µ–∫—É—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –∞ —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –≤ XLSX-—Ñ–∞–π–ª;
  - –æ–±—â–∏–π –∫–ª—é—á `--bonds-xlsx` (`-b`) –¥–ª—è –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—Å–µ–º —Å—Ä–∞–∑—É –∏–ª–∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –æ–±–ª–∏–≥–∞—Ü–∏—è–º;
  - API-–º–µ—Ç–æ–¥—ã: [`RequestBondCoupons()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.RequestBondCoupons) –∏ [`ExtendBondsData()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ExtendBondsData).
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –≤—Å–µ–º —Å—Ä–∞–∑—É –∏–ª–∏ –ø–æ —Å–ø–∏—Å–∫—É –æ–±–ª–∏–≥–∞—Ü–∏–π –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –µ–≥–æ –≤ —Ñ–∞–π–ª —Ñ–æ—Ä–º–∞—Ç–∞ Markdown –∏–ª–∏ –≤ XLSX-—Ñ–∞–π–ª;
  - –æ–±—â–∏–π –∫–ª—é—á `--calendar` (`-c`) –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤—ã–ø–ª–∞—Ç –ø–æ –∫—É–ø–æ–Ω–∞–º;
  - API-–º–µ—Ç–æ–¥—ã: [`CreateBondsCalendar()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CreateBondsCalendar) –∏ [`ShowBondsCalendar()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ShowBondsCalendar).
- –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å HTML-–æ—Ç—á—ë—Ç—ã –∏–∑ –ª—é–±—ã—Ö –æ—Ç—á—ë—Ç–æ–≤ —Ñ–æ—Ä–º–∞—Ç–∞ Markdown;
  - –æ–±—â–∏–π –∫–ª—é—á `--html` (`--HTML`), –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Å –ª—é–±–æ–π –∏–∑ –∫–æ–º–∞–Ω–¥: `--list`, `--info`, `--search`, `--prices`, `--deals`, `--limits`, `--calendar`, `--account`, `--user-info`, `--overview`, `--overview-digest`, `--overview-positions`, `--overview-orders`, `--overview-analytics` –∏ `--overview-calendar`;
  - API-–º–µ—Ç–æ–¥—ã: [`Listing()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Listing), [`ShowInstrumentInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ShowInstrumentInfo), [`SearchInstruments()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchInstruments), [`GetListOfPrices()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetListOfPrices), [`Deals()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Deals), [`OverviewLimits()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewLimits), [`CreateBondsCalendar()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CreateBondsCalendar), [`OverviewAccounts()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewAccounts), [`OverviewUserInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.OverviewUserInfo) –∏ [`Overview()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview) —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `TinkoffBrokerServer.useHTMLReports = True`.


## –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

–ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ PyPI:

```commandline
pip install tksbrokerapi
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∫–æ–º–∞–Ω–¥–æ–π:

```commandline
pip show tksbrokerapi
tksbrokerapi --version
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å TKSBrokerAPI, —Å–∫–∞—á–∞–≤ –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/Tim55667757/TKSBrokerAPI/) —á–µ—Ä–µ–∑ `git clone` –∏ –≤–∑—è–≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –ª—é–±–æ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ [—Ä–µ–ª–∏–∑–∞](https://github.com/Tim55667757/TKSBrokerAPI/releases).

–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `tksbrokerapi`, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª—É—á–∞–µ –≤–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π Python-—Å–∫—Ä–∏–ø—Ç, —á–µ—Ä–µ–∑ `python TKSBrokerAPI.py` –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.

‚ùó **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:** –º–æ–¥—É–ª—å TKSBrokerAPI —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–ª—Å—è –¥–ª—è `python >= 3.9`. –í –±–æ–ª–µ–µ —Ä–∞–Ω–Ω–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –±—É–¥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –æ—à–∏–±–∫–∏. –î–∞–ª–µ–µ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–ª—è —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ TKSBrokerAPI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ PyPI –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ `python == 3.9`.

### –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞

–í–æ–∑–º–æ–∂–Ω–æ, —á—Ç–æ –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI –≤—ã —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É –∏–º–ø–æ—Ä—Ç–∞ —Ç–∞–∫–æ–≥–æ –≤–∏–¥–∞:

```
  File "./tksbrokerapi/TKSBrokerAPI.py", line 105, in <module>
    from Templates import *  # Some html-templates used by reporting methods in TKSBrokerAPI module
ModuleNotFoundError: No module named 'Templates'
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∫–∞—Ç–∞–ª–æ–≥ —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ –¥–ª—è —Ç–æ–π –≤–µ—Ä—Å–∏–∏ Python, –∫—É–¥–∞ –±—ã–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –Ω–µ –≤–∏–¥–µ–Ω –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏. –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –µ–≥–æ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `PYTHONPATH`. –°–º–æ—Ç—Ä–∏—Ç–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ—Ä—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –û–° [–ø–æ —Å—Å—ã–ª–∫–µ (en)](https://bic-berkeley.github.io/psych-214-fall-2016/using_pythonpath.html). –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ–¥ Linux/MacOS:

```commandline
export PYTHONPATH=/Library/Frameworks/Python.framework/Versions/3.10/lib/python3.10/site-packages/tksbrokerapi
```

–ß—Ç–æ–±—ã –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PYTHONPATH` –∫–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞, –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –µ—ë –≤ —Å–∏—Å—Ç–µ–º–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–≤–æ–µ–π –û–°.

## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –¢–æ–∫–µ–Ω

–°–µ—Ä–≤–∏—Å TINKOFF INVEST API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω. –¢–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ, –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø –∏ –ø—Ä–æ—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Å–µ—Ä–≤–∏—Å–µ. –¢–æ–∫–µ–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∫–∞–∂–¥—ã–º —Å–µ—Ç–µ–≤—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –±–µ—Ä—ë—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –Ω–∞ —Å–µ–±—è. –ï—Å—Ç—å —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `tksbrokerapi` –≤ –∫–æ–Ω—Å–æ–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–ª—é—á: `--token "your_token_here"`;
- –ª–∏–±–æ —É–∫–∞–∂–∏—Ç–µ `token` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ –≤ Python-—Å–∫—Ä–∏–ø—Ç–µ: [`TKSBrokerAPI.TinkoffBrokerServer(token="your_token_here", ...)`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__);
- –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏: `TKS_API_TOKEN=your_token_here`.

‚ùó **–†–∞–±–æ—Ç–∞ —Å TINKOFF INVEST API –±–µ–∑ –≤—ã–ø—É—Å–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞**. –î–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π TKSBrokerAPI, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ [–±—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á—ë—Ç –≤ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏](https://tinkoff.ru/sl/AaX1Et1omnH), –∞ –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–µ—Ç–µ –Ω—É–∂–Ω—ã–π –≤–∞–º –≤–∏–¥ —Ç–æ–∫–µ–Ω–∞ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ [–≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://tinkoff.github.io/investAPI/token/).

‚ùó **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:** –Ω–∏–∫–æ–≥–¥–∞ –∏ –Ω–∏–∫–æ–º—É –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö, –∞ —Ç–∞–∫–∂–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö –≤ –ø–∞–±–ª–∏–∫–∞—Ö –∏ –≤ –∫–æ–¥–µ. –¢–æ–∫–µ–Ω–æ–º –º–æ–∂–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫—Ç–æ —É–≥–æ–¥–Ω–æ, –Ω–æ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É –±—Ä–æ–∫–µ—Ä–∞ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ CI/CD-—Å–∏—Å—Ç–µ–º–∞—Ö, —Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Å–æ–∫—Ä—ã—Ç–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ([–ø—Ä–∏–º–µ—Ä](https://docs.travis-ci.com/user/environment-variables/#defining-variables-in-repository-settings) —É—Å—Ç–∞–Ω–æ–≤–∫–∏ "hidden variables" –¥–ª—è Travis CI, –∏ [–ø—Ä–∏–º–µ—Ä](https://docs.gitlab.com/ee/ci/variables/#protected-cicd-variables) —É—Å—Ç–∞–Ω–æ–≤–∫–∏ "protected variables" –¥–ª—è GitLab CI).

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–í—Ç–æ—Ä–æ–π –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã TKSBrokerAPI ‚Äî —ç—Ç–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, –Ω–æ –±–µ–∑ –µ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–Ω–æ–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API (–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º—É —Å—á—ë—Ç—É, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, —É–∑–Ω–∞—Ç—å –ª–∏–º–∏—Ç—ã –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ).

–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–æ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –≤ –ª—é–±–æ–º –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º –æ—Ç—á—ë—Ç–µ (–∏—Ö –º–æ–∂–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å –ª–∏–±–æ –∏–∑ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –ª–∏–±–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞ —Å–∞–π—Ç–µ). –û–±—ã—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É, –≤ "—à–∞–ø–∫–µ" –æ—Ç—á—ë—Ç–æ–≤. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä —Å–ø—Ä–æ—Å–∏–≤ –≤ —á–∞—Ç–µ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏. –ù–æ —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± ‚Äî —ç—Ç–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–æ–π `--user-info` –∏ TKSBrokerAPI –ø–æ–∫–∞–∂–µ—Ç –≤–∞–º —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (—Ç–æ–∫–µ–Ω –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∑–∞–¥–∞–Ω, —Å–º. —Ä–∞–∑–¥–µ–ª ["–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ —Å—á–µ—Ç–∞—Ö"](#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ-–∏-—Å—á–µ—Ç–∞—Ö)).

–ï—Å—Ç—å —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–¥–∞–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `tksbrokerapi` –≤ –∫–æ–Ω—Å–æ–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–ª—é—á: `--account-id your_id_number"`;
- –ª–∏–±–æ —É–∫–∞–∂–∏—Ç–µ `accountId` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ –≤ Python-—Å–∫—Ä–∏–ø—Ç–µ: [`TKSBrokerAPI.TinkoffBrokerServer(token="...", accountId=your_id_number, ...)`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__);
- –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏: `TKS_ACCOUNT_ID=your_id_number`.


## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–î–∞–ª–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI: –ø—Ä–∏ –µ—ë –∑–∞–ø—É—Å–∫–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –∫–∞–∫ Python-—Å–∫—Ä–∏–ø—Ç.

‚ùó –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è `INFO`. –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ—à–∏–±–æ–∫, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ `DEBUG`. –î–ª—è —ç—Ç–æ–≥–æ —É–∫–∞–∂–∏—Ç–µ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–∞–Ω–¥–æ–π –ª—é–±–æ–π –∏–∑ –∫–ª—é—á–µ–π: `--debug-level=10`, `--verbosity=10` –∏–ª–∏ `-v 10`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ —Å –ø—Ä–æ–±–ª–µ–º–æ–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –±–∞–≥ –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–µ—Ä—Å–∏—é –ø—Ä–æ–±–ª–µ–º–Ω–æ–π —Å–±–æ—Ä–∫–∏, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –ø–æ –∫–ª—é—á—É `--version` (–∏–ª–∏ `--ver`).

–¢–∞–∫–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è `DEBUG` –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Å–ª—É–∂–µ–±–Ω—ã–π —Ñ–∞–π–ª `TKSBrokerAPI.log` (–æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ `tksbrokerapi` –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ `python TKSBrokerAPI.py`). –ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.5.120 –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--more` (`--more-debug`), –∫–æ—Ç–æ—Ä—ã–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –≤—ã–≤–æ–¥–∏—Ç –µ—ë –≤ –ª–æ–≥–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏.

–ï—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–≥ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –≤ –ª–æ–≥–∞—Ö. –¢–µ–≥ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –∫–ª—é—á–æ–º `--tag` (–Ω–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.6.*).

### –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI –≤ –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ. –§–æ—Ä–º–∞—Ç –∫–æ–º–∞–Ω–¥ —Å–ª–µ–¥—É—é—â–∏–π:

```commandline
tksbrokerapi [–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã] [–æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ]
```

‚ùó –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∫–æ–º–∞–Ω–¥ –≤—ã –¥–æ–ª–∂–Ω—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –∫–ª—é—á `--token` –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∫–ª—é—á `--account-id`, –ª–∏–±–æ –æ–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN` –∏ `TKS_ACCOUNT_ID` (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)).

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –Ω–∏–∂–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏ ID —Å—á—ë—Ç–∞ –±—ã–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN` –∏ `TKS_ACCOUNT_ID`, –ø–æ—ç—Ç–æ–º—É –∫–ª—é—á–∏ `--token` –∏ `--account-id` –Ω–µ —Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç –≤ –ª–æ–≥–∞—Ö.*

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–ª—é—á–∞–º

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--help` (`-h`), –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è. –í –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞ —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π –∏ –∏—Ö –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–ø—Ä–∞–≤–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–ª—é—á–∞–º–∏</summary>

```commandline
tksbrokerapi --help
```

–í—ã–≤–æ–¥ (–≤ –ø–µ—Ä–µ–≤–æ–¥–µ):

```text
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: 
/–∫–∞–∫ –º–æ–¥—É–ª—å/ python TKSBrokerAPI.py [–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤] [–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞]
/–∫–∞–∫ –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞/ tksbrokerapi [–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤] [–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞]

TKSBrokerAPI ‚Äî —ç—Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ Python
–∏ —Ä–∞–±–æ—Ç—ã —Å Tinkoff Invest API —Å–µ—Ä–≤–µ—Ä–æ–º —á–µ—Ä–µ–∑ REST-–ø—Ä–æ—Ç–æ–∫–æ–ª. –°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã:
https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README.md

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–æ–º–∞–Ω–¥—ã:
  -h, --help            –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —ç—Ç—É –ø–æ–º–æ—â—å –∏ –≤—ã–π—Ç–∏.
  --no-cache            –ü–∞—Ä–∞–º–µ—Ç—Ä: –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à `dump.json`, –∞ –ø–æ–ª—É—á–∏—Ç—å
                        —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
                        `False` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --token TOKEN         –ü–∞—Ä–∞–º–µ—Ç—Ä: —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±—Ä–æ–∫–µ—Ä—É –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.
                        –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —É–∫–∞–∑–∞–Ω, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `TKS_API_TOKEN`.
                        –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–æ–∫–µ–Ω–∞–º–∏: https://tinkoff.github.io/investAPI/token/
  --account-id ACCOUNT_ID
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–≤—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É –±—Ä–æ–∫–µ—Ä–∞
                        –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏. –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω –≤ –ª—é–±–æ–º –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º
                        –æ—Ç—á—ë—Ç–µ (–∏—â–∏—Ç–µ —Ñ—Ä–∞–∑—É "–Ω–æ–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"). –¢–∞–∫–∂–µ —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
                        –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_ACCOUNT_ID`.
  --ticker TICKER, -t TICKER
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å —Ç–∏–∫–µ—Ä–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `IBM`, `YNDX`,
                        `GOOGL` –∏ —Ç.–ø. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–∏–∞—Å—ã –¥–ª—è –≤–∞–ª—é—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ
                        `USD000UTSTOM` –ø—Ä–æ—Å—Ç–æ `USD`, –∞ –≤–º–µ—Å—Ç–æ `EUR_RUB__TOM` –ø–∏—Å–∞—Ç—å `EUR`.
  --figi FIGI, -f FIGI  –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä,
                        `BBG006L8G4H1` –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å —Ç–∏–∫–µ—Ä–æ–º `YNDX`.
  --depth DEPTH         –ü–∞—Ä–∞–º–µ—Ç—Ä: —á–∏—Å–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ "–≥–ª—É–±–∏–Ω—É –±–∏—Ä–∂–µ–≤–æ–≥–æ —Å—Ç–∞–∫–∞–Ω–∞"
                        (Depth of Market, DOM), –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å  >=1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.
  --no-cancelled, --no-canceled
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —É–¥–∞–ª–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
                        –∏–∑ –æ—Ç—á—ë—Ç–∞ –ø–æ —Å–¥–µ–ª–∫–∞–º, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å –∫–ª—é—á–æ–º `--deals`.
                        False –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --output OUTPUT       –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å –≤—ã–≤–æ–¥–∞ –≤ —Ñ–∞–π–ª
                        –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–∞–Ω–¥. –ï—Å–ª–∏ `None`, —Ç–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å.
  --html, --HTML        –ü–∞—Ä–∞–º–µ—Ç—Ä: –µ—Å–ª–∏ —ç—Ç–æ—Ç –∫–ª—é—á –∑–∞–¥–∞–Ω, —Ç–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
                        –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML-–æ—Ç—á—ë—Ç –∏–∑ Markdown-–æ—Ç—á—ë—Ç–∞. False –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --interval INTERVAL   –ü–∞—Ä–∞–º–µ—Ç—Ä: –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Ä–∞–≤–Ω—ã `1min`, `5min`, `15min`,
                        `hour` –∏ `day`. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Å –∫–ª—é—á–æ–º `--history`.
                        –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –æ–¥–Ω–æ–π —Ü–µ–Ω–æ–≤–æ–π —Å–≤–µ—á–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `hour`.
  --only-missing        –ü–∞—Ä–∞–º–µ—Ç—Ä: –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ñ–∞–π–ª —Å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ –∫–ª—é—á `--output`,
                        —Ç–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ —Å–≤–µ—á–∏, –±–µ–∑ –∑–∞–ø—Ä–æ—Å–∞
                        –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö. `False` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --csv-sep CSV_SEP     –ü–∞—Ä–∞–º–µ—Ç—Ä: —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ csv-—Ñ–∞–π–ª–∞—Ö, `,` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --debug-level DEBUG_LEVEL, --log-level DEBUG_LEVEL, --verbosity DEBUG_LEVEL, -v DEBUG_LEVEL
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–≤–æ–¥–∞
                        –ª–æ–≥–æ–≤ –≤ STDOUT, –Ω–∞–ø—Ä–∏–º–µ—Ä, 10 = DEBUG, 20 = INFO, 30 = WARNING,
                        40 = ERROR, 50 = CRITICAL. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å INFO (20).
  --more, --more-debug  –ü–∞—Ä–∞–º–µ—Ç—Ä: –∫–ª—é—á `--debug-level` –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è,
                        –∞ –∫–ª—é—á `--more` –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö –æ—Ç–ª–∞–¥–æ—á–Ω—É—é
                        –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã –∏ –∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–∏.
  --tag TAG             –ü–∞—Ä–∞–º–µ—Ç—Ä: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω—ã–π —Ç–µ–≥ –≤ –ª–æ–≥–∞—Ö TKSBrokerAPI,
                        —á—Ç–æ–±—ã —É–ø—Ä–æ—Å—Ç–∏—Ç—å –æ—Ç–ª–∞–¥–∫—É, –∫–æ–≥–¥–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
                        —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: "" (–ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞).
  --version, --ver      –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é –≤ —Ñ–æ—Ä–º–∞—Ç–µ `major.minor.buildnumber`.
                        –ï—Å–ª–∏ TKSBrokerAPI –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ pip, —Ç–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
                        –ª–æ–∫–∞–ª—å–Ω—ã–π –±–∏–ª–¥-–Ω–æ–º–µ—Ä `.dev0`.
  --list, -l            –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –∏ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
                        –∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –Ω–∏–º —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ
                        –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
                        –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `instruments.md`.
  --list-xlsx, -x       –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
                        —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ xlsx-—Ñ–∞–π–ª –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ
                        –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏,
                        `dump.xlsx` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --bonds-xlsx [BONDS_XLSX ...], -b [BONDS_XLSX ...]
                        –ö–æ–º–∞–Ω–¥–∞: –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω —Ç–æ–ª—å–∫–æ –∫–ª—é—á, —Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ
                        –æ–±–ª–∏–≥–∞—Ü–∏–∏, –∏–ª–∏ —Ç–æ–ª—å–∫–æ —Å—Ä–µ–¥–∏ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ —Å–ø–∏—Å–∫–µ —Ç–∏–∫–µ—Ä–æ–≤ –∏–ª–∏ FIGI.
                        –ó–∞—Ç–µ–º –æ–±–æ–≥–∞—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º –∏ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å –∏—Ö –≤
                        Pandas DataFrame —Å –±–æ–ª—å—à–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
                        –æ—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º,
                        –∫—É–ø–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥, —Ç–µ–∫—É—â–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏ –Ω–µ–∫–æ—Ç–æ—Ä–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.
                        –ó–∞—Ç–µ–º —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ XLSX-—Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ext-bonds.xlsx`,
                        —Ç–∞–∫–∂–µ –µ–≥–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å –∫–ª—é—á–æ–º `--output`. –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–∞
                        –æ–ø–µ—Ä–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –¥–æ–ª–≥–æ, –µ—Å–ª–∏ –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω–æ —Å–ª–∏—à–∫–æ–º
                        –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–ª–∏–≥–∞—Ü–∏–π —Å —Å–µ—Ä–≤–µ—Ä–∞.
  --search SEARCH, -s SEARCH
                        –ö–æ–º–∞–Ω–¥–∞: –Ω–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ —á–∞—Å—Ç–∏ –µ–≥–æ –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞
                        –∏–ª–∏ FIGI. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `search-results.md`.
  --info, -i            –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É
                        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä –∏–ª–∏ FIGI. –ö–ª—é—á `--ticker` –∏–ª–∏
                        –∫–ª—é—á `--figi` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã!
  --calendar [CALENDAR ...], -c [CALENDAR ...]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º. –í–∞–º –Ω—É–∂–Ω–æ
                        —É–∫–∞–∑–∞—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∏–∫–µ—Ä–æ–≤ –∏–ª–∏ FIGI. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ —É–∫–∞–∑–∞—Ç—å,
                        —Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å –±—É–¥–µ—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –≤—Å–µ–º –æ–±–ª–∏–≥–∞—Ü–∏—è–º —Å—Ä–∞–∑—É.
                        –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –∫–ª—é—á `--output` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
                        –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `calendar.md`. –ö—Ä–æ–º–µ —Ç–æ–≥–æ,
                        –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª XLSX-—Ñ–æ—Ä–º–∞—Ç–∞ –¥–ª—è –±—É–¥—É—â–µ–≥–æ
                        –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏.
                        –í–ù–ò–ú–ê–ù–ò–ï! –≠—Ç–∞ –æ–ø–µ—Ä–∞—Ü–∏—è –æ—á–µ–Ω—å –¥–æ–ª–≥–∞—è, –µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Å–ª–∏—à–∫–æ–º
                        –±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –æ–±–ª–∏–≥–∞—Ü–∏–π –∏–ª–∏ –≤—Å–µ —Å—Ä–∞–∑—É.
  --price               –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.
                        –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–æ–º `--depth`, –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è
                        –≥–ª—É–±–∏–Ω—ã. –ö–ª—é—á `--ticker` –∏–ª–∏ –∫–ª—é—á `--figi` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã!
  --prices PRICES [PRICES ...], -p PRICES [PRICES ...]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
                        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ø–æ –∏—Ö —Ç–∏–∫–µ—Ä–∞–º –∏–ª–∏ FIGI). –í–Ω–∏–º–∞–Ω–∏–µ!
                        –û–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ—á–µ–Ω—å –¥–æ–ª–≥–æ, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—Ä–æ—Å–∏—Ç–µ
                        —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤! –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`,
                        —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ü–µ–Ω –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `prices.md`.
  --overview, -o        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –æ—Ä–¥–µ—Ä–∞ –∏ –Ω–µ–º–Ω–æ–≥–æ
                        —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `overview.md`.
  --overview-digest     –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ—Ä–æ—Ç–∫—É—é —Å–≤–æ–¥–∫—É –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è.
                        –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–π–¥–∂–µ—Å—Ç
                        –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `overview-digest.md`.
  --overview-positions  –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ
                        –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
                        –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `overview-positions.md`.
  --overview-orders     –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—é –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö
                        –∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`
                        –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞ –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `overview-orders.md`.
  --overview-analytics  –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—é –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
                        –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á
                        `--output` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
                        `overview-analytics.md`.
  --deals [DEALS ...], -d [DEALS ...]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–¥–µ–ª–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –¥–∞—Ç–∞–º–∏. –ü–µ—Ä–≤—ã–π
                        –ø–∞—Ä–∞–º–µ—Ç—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—É—é –¥–∞—Ç—É: -1, -2, -3 –¥–Ω–µ–π –Ω–∞–∑–∞–¥.
                        –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–∏–∫–∏: `today`, `yesterday` (-1),
                        `week` (-7), `month` (-30) –∏ `year` (-365). –§–æ—Ä–º–∞—Ç –¥–∞—Ç –¥–æ–ª–∂–µ–Ω
                        –±—ã—Ç—å —Ç–∞–∫–æ–π: `%Y-%m-%d`, –Ω–∞–ø—Ä–∏–º–µ—Ä, 2020-02-03. –° –∫–ª—é—á–æ–º
                        `--no-cancelled` –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
                        –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –æ—Ç—á—ë—Ç–µ –ø–æ —Å–¥–µ–ª–∫–∞–º. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ
                        –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–¥–µ–ª–∫–∏ –≤ —Ñ–∞–π–ª,
                        –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `deals.md`.
  --history [HISTORY ...]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–≤–µ—á–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É,
                        –∑–∞–¥–∞–Ω–Ω–æ–º—É —á–µ—Ä–µ–∑ –∫–ª—é—á–∏ `--ticker` –∏–ª–∏ `figi` (FIGI id).
                        –ò—Å—Ç–æ—Ä–∏—è —Å–∫–∞—á–∏–≤–∞–µ—Ç—Å—è –º–µ–∂–¥—É –¥–≤—É–º—è –¥–∞—Ç–∞–º–∏: `start` –∏ `end`.
                        –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–∞—è —Å–µ—Ä–≤–µ—Ä–æ–º, —ç—Ç–æ
                        `1970-01-01`. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ
                        —Å –∫–ª—é—á–æ–º `--render-chart`. –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∫–ª—é—á
                        `--output` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ—á–µ–π –≤ —Ñ–∞–π–ª.
  --load-history LOAD_HISTORY
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –∑–∞–≥—Ä—É–∑–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–≤–µ—á–∏ –∏–∑
                        —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ csv-—Ñ–∞–π–ª–∞ –∫–∞–∫ Pandas Dataframe –∏ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å
                        –∏—Ö –≤ –∫–æ–Ω—Å–æ–ª–∏. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≤–º–µ—Å—Ç–Ω–æ
                        —Å –∫–ª—é—á–æ–º `--render-chart`.
  --render-chart RENDER_CHART
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ—Å—Ç—Ä–æ–∏—Ç—å —Å–≤–µ—á–Ω–æ–π –≥—Ä–∞—Ñ–∏–∫. –≠—Ç–æ—Ç –∫–ª—é—á –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
                        —Ç–æ–ª—å–∫–æ –≤–º–µ—Å—Ç–µ —Å –∫–ª—é—á–∞–º–∏ `--history` –∏–ª–∏ `--load-history` —Å–æ–≤–º–µ—Å—Ç–Ω–æ.
                        –î–ª—è —ç—Ç–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–∏–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä —Å
                        –¥–≤—É–º—è –≤–æ–∑–º–æ–∂–Ω—ã–º–∏ —Å—Ç—Ä–æ–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏: `interact` (`i`)
                        –∏–ª–∏ `non-interact` (`ni`).
  --trade [TRADE ...]   –ö–æ–º–∞–Ω–¥–∞: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–¥–µ–ª–∫—É "–ø–æ —Ä—ã–Ω–∫—É"
                        –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–æ–º –∏–ª–∏ FIGI. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å
                        –æ—Ç 1 –¥–æ 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: [–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `Buy` –∏–ª–∏ `Sell] [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`]. –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ
                        –ø—Ä–∏–º–µ—Ä—ã –≤ README.md.
  --buy [BUY ...]       –ö–æ–º–∞–Ω–¥–∞: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å BUY –ø–æ–∑–∏—Ü–∏—é "–ø–æ —Ä—ã–Ω–∫—É"
                        –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI.
                        –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`].
  --sell [SELL ...]     –ö–æ–º–∞–Ω–¥–∞: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å SELL –ø–æ–∑–∏—Ü–∏—é "–ø–æ —Ä—ã–Ω–∫—É"
                        –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI.
                        –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`].
  --order [ORDER ...]   –ö–æ–º–∞–Ω–¥–∞: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä
                        –≤ –ª—é–±–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 4 –¥–æ 7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
                        [–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `Buy` –∏–ª–∏ `Sell] [—Ç–∏–ø –æ—Ä–¥–µ—Ä–∞ `Limit` –∏–ª–∏`Stop`]
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤:
                        [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0] [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP]
                        [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤, Undefined|`%Y-%m-%d %H:%M:%S`]].
                        –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤ README.md.
  --buy-limit BUY_LIMIT BUY_LIMIT
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ BUY
                        (–Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã). –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ BUY –æ—Ä–¥–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã
                        –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π `Buy` –æ—Ä–¥–µ—Ä –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞
                        –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π `Buy` –æ—Ä–¥–µ—Ä, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã
                        –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞–ª–∏ `--buy` –æ–ø–µ—Ä–∞—Ü–∏—é!
  --sell-limit SELL_LIMIT SELL_LIMIT
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ SELL
                        (–≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã). –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ SELL –æ—Ä–¥–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã
                        –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π `Sell` –æ—Ä–¥–µ—Ä –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞
                        –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π `Sell` –æ—Ä–¥–µ—Ä, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã
                        –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞–ª–∏ `--sell` –æ–ø–µ—Ä–∞—Ü–∏—é!
  --buy-stop [BUY_STOP ...]
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ BUY. –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ
                        2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è BUY
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å 3 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞: [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0]
                        [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤,
                        Undefined|`%Y-%m-%d %H:%M:%S`]. –ö–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –¥–æ–π–¥—ë—Ç –≤–≤–µ—Ä—Ö
                        –∏–ª–∏ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞ –±—Ä–æ–∫–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä.
                        –û—Ä–¥–µ—Ä —Ç–∏–ø–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ.
  --sell-stop [SELL_STOP ...]
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ SELL. –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ
                        2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è SELL
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å 3 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞: [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0]
                        [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤,
                        Undefined|`%Y-%m-%d %H:%M:%S`]. –ö–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –¥–æ–π–¥—ë—Ç –≤–≤–µ—Ä—Ö
                        –∏–ª–∏ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞ –±—Ä–æ–∫–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä.
                        –û—Ä–¥–µ—Ä —Ç–∏–ø–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ.
  --close-order CLOSE_ORDER, --cancel-order CLOSE_ORDER
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –æ–¥–∏–Ω –æ—Ä–¥–µ—Ä, —É–∫–∞–∑–∞–≤ –µ–≥–æ `orderId` –∏–ª–∏
                        `stopOrderId`. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ –æ—Ç—á—ë—Ç–µ
                        –ø–æ –∫–ª—é—á—É `--overview`.
  --close-orders CLOSE_ORDERS [CLOSE_ORDERS ...], --cancel-orders CLOSE_ORDERS [CLOSE_ORDERS ...]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ –æ—Ä–¥–µ—Ä–æ–≤, —É–∫–∞–∑–∞–≤ —Å–ø–∏—Å–æ–∫ –∏—Ö `orderId`
                        –∏–ª–∏ `stopOrderId`. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ –æ—Ç—á—ë—Ç–µ
                        –ø–æ –∫–ª—é—á—É `--overview`.
  --close-trade, --cancel-trade
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø–æ –æ–¥–Ω–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–∞–¥–∞–Ω–Ω–æ–º—É –∫–ª—é—á–æ–º
                        `--ticker` (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ) –∏–ª–∏ `--figi`, –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–∞–ª—é—Ç—ã.
  --close-trades CLOSE_TRADES [CLOSE_TRADES ...], --cancel-trades CLOSE_TRADES [CLOSE_TRADES ...]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –ø–æ –∏—Ö —Ç–∏–∫–µ—Ä–∞–º –∏–ª–∏ FIGI,
                        –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–∞–ª—é—Ç—ã.
  --close-all [CLOSE_ALL ...], --cancel-all [CLOSE_ALL ...]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ (–Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –æ—Ç–∫—Ä—ã—Ç—ã–µ
                        –ø–æ–∑–∏—Ü–∏–∏ –∏ –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞, –∫—Ä–æ–º–µ –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π. –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ
                        —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–ª–∏ –±–æ–ª–µ–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö) –¥–ª—è
                        —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: `orders`, `shares`, `bonds`,
                        `etfs` –∏–ª–∏ `futures`, –Ω–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `currencies`. –í–∞–ª—é—Ç–Ω—ã–µ
                        –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–∏
                        `--buy`, `--sell`, `--close-trade` –∏–ª–∏ `--close-trades`. –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å
                         –∫–ª—é—á `--close-all` —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–∞–º–∏ `--ticker` –∏–ª–∏ `--figi`, —Ç–æ
                         –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö
                         –∏ —Å—Ç–æ–ø –æ—Ä–¥–µ—Ä–æ–≤ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.
  --limits, --withdrawal-limits, -w
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö
                        –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ `accountId`. –í—ã –º–æ–∂–µ—Ç–µ –ø–æ–º–µ–Ω—è—Ç—å `accountId` —Å –∫–ª—é—á–æ–º `--account-id`.
                        –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª,
                        –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `limits.md`.
  --user-info, -u       –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, –≤—Å–µ –µ–≥–æ `accountId`,
                        –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å—á–µ—Ç–∞—Ö, —Ä–∞—Å—á—ë—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ –¥–ª—è –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏,
                        –∏ –ª–∏–º–∏—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞). –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –∫–ª—é—á
                        `--output` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `user-info.md`.
  --account, --accounts, -a
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
                        –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
                        –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `accounts.md`.
```

</details>

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–∞–Ω–Ω—ã—Ö

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ TKSBrokerAPI v1.2.62 –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞ `dump.json` —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —Ç–æ—Ä–≥—É–µ–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è. –ö—ç—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –ª—é–±–æ–π –∫–æ–º–∞–Ω–¥—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—ç—à–∞, —Ç–æ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ï—Å–ª–∏ —Ñ–∞–π–ª `dump.json` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ, –æ–Ω —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–û–±—ã—á–Ω–æ –Ω–∞ –±–∏—Ä–∂–∞—Ö —Ä–µ–¥–∫–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –º–∏–Ω–∏–º—É–º —Ä–∞–∑ –≤ –¥–µ–Ω—å –æ–ø—Ä–∞–≤–¥–∞–Ω–Ω–æ. –ù–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–≤–µ—Ä–µ–Ω—ã –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –º–æ–∂–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª—é—á `--no-cahce` –≤–º–µ—Å—Ç–µ —Å –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–æ–π. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –±—É–¥—É—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑.

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--list` (`-l`). –ü—Ä–∏ —ç—Ç–æ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--output` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã –≤ —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–º —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `instruments.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ñ–∞–π–ª–∞ `instruments.md` –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ `dump.json`.

–ö–ª—é—á `--debug-level=10` (–∏–ª–∏ `--verbosity 10`, `-v 10`) –≤—ã–≤–µ–¥–µ—Ç –≤—Å—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å (–º–æ–∂–Ω–æ –µ–≥–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å).

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.4.90 –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--list-xlsx` (`-x`), —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ XLSX, –ø—Ä–∏–≥–æ–¥–Ω–æ–º –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–µ—à–∞ `dump.json`, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è –≤ XLSX-—Ñ–æ—Ä–º–∞—Ç –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `dump.xlsx`.

–ù–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∏—Ç—Å—è XLSX-—Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞. –ü—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ñ–∞–π–ª–µ [./docs/media/dump.xlsx](./docs/media/dump.xlsx). –ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ XLSX-—Ñ–∞–π–ª–µ, —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–∞—Ö "[–ü–æ–ª—É—á–∏—Ç—å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ–ª—É—á–∏—Ç—å-–æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)" –∏ "[–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞–ª–µ–Ω–¥–∞—Ä—å-–≤—ã–ø–ª–∞—Ç-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)".

![](./docs/media/dump.xlsx.png)

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown</summary>

```commandline
$ tksbrokerapi --debug-level=10 --list --output ilist.md

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-26 22:04:39,571] TKSBrokerAPI module started at: [2022-07-26 19:04:39] (UTC), it is [2022-07-26 22:04:39] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-26 22:04:39,572] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-26 22:04:39,572] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-26 22:04:39,573] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-26 22:04:39,573] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-26 22:04:39,574] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,582] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:925  INFO    [2022-07-26 22:04:40,400] # All available instruments from Tinkoff Broker server for current user token

* **Actual on date:** [2022-07-26 19:04] (UTC)
* **Currencies:** [21]
* **Shares:** [1900]
* **Bonds:** [655]
* **Etfs:** [105]
* **Futures:** [284]


## Currencies available. Total: [21]

| Ticker       | Full name                                                      | FIGI         | Cur | Lot    | Step
|--------------|----------------------------------------------------------------|--------------|-----|--------|---------
| USDCHF_TOM   | –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫ - –î–æ–ª–ª–∞—Ä –°–®–ê                                 | BBG0013HPJ07 | chf | 1000   | 1e-05
| EUR_RUB__TOM | –ï–≤—Ä–æ                                                           | BBG0013HJJ31 | rub | 1000   | 0.0025
| CNYRUB_TOM   | –Æ–∞–Ω—å                                                           | BBG0013HRTL0 | rub | 1000   | 0.0001
| ...          | ...                                                            | ...          | ... | ...    | ...   
| RUB000UTSTOM | –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å                                               | RUB000UTSTOM | rub | 1      | 0.0025
| USD000UTSTOM | –î–æ–ª–ª–∞—Ä –°–®–ê                                                     | BBG0013HGFT4 | rub | 1000   | 0.0025

[... –¥–∞–ª–µ–µ –∏–¥—ë—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –¥—Ä—É–≥–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º ...]

TKSBrokerAPI.py     L:931  INFO    [2022-07-26 22:04:41,211] All available instruments are saved to file: [ilist.md]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-26 22:04:41,213] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-26 22:04:41,214] TKSBrokerAPI module work duration: [0:00:01.641989]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-26 22:04:41,215] TKSBrokerAPI module finished: [2022-07-26 19:04:41] (UTC), it is [2022-07-26 22:04:41] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—ã—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ XLSX-—Ñ–æ—Ä–º–∞—Ç–µ</summary>

```commandline
$ tksbrokerapi -v 10 --list-xlsx

TKSBrokerAPI.py     L:3482 DEBUG   [2022-10-19 01:20:35,574] >>> TKSBrokerAPI module started at: [2022-10-18 22:20:35] UTC, it is [2022-10-19 01:20:35] local time
TKSBrokerAPI.py     L:3496 DEBUG   [2022-10-19 01:20:35,576] TKSBrokerAPI major.minor.build version used: [1.3.dev77]
TKSBrokerAPI.py     L:3497 DEBUG   [2022-10-19 01:20:35,576] Host CPU count: [8]
TKSBrokerAPI.py     L:210  DEBUG   [2022-10-19 01:20:35,576] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:222  DEBUG   [2022-10-19 01:20:35,576] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:270  DEBUG   [2022-10-19 01:20:35,576] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:395  DEBUG   [2022-10-19 01:20:35,599] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:396  DEBUG   [2022-10-19 01:20:35,599] Dump file was last modified [2022-10-18 20:38:59] UTC
TKSBrokerAPI.py     L:603  INFO    [2022-10-19 01:20:37,278] XLSX-file for further used by data scientists or stock analytics: [dump.xlsx]
TKSBrokerAPI.py     L:3806 DEBUG   [2022-10-19 01:20:37,278] All operations were finished success (summary code is 0).
TKSBrokerAPI.py     L:3813 DEBUG   [2022-10-19 01:20:37,278] >>> TKSBrokerAPI module work duration: [0:00:01.703956]
TKSBrokerAPI.py     L:3814 DEBUG   [2022-10-19 01:20:37,279] >>> TKSBrokerAPI module finished: [2022-10-18 22:20:37 UTC], it is [2022-10-19 01:20:37] local time
```

</details>

#### –ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∏—Ä–∂–µ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –Ω–∏–º, –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ü–µ–Ω—ã –∏ —Å–æ–≤–µ—Ä—à–∞—Ç—å —Å–¥–µ–ª–∫–∏, –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å —Ç–∏–∫–µ—Ä (–∫–ª—é—á `--ticker`) –∏–ª–∏ FIGI (–∫–ª—é—á `--figi`). –ù–æ –≤—Ä—è–¥ –ª–∏ –µ—Å—Ç—å –º–Ω–æ–≥–æ –ª—é–¥–µ–π, –∫—Ç–æ –∑–Ω–∞–µ—Ç –∏—Ö –Ω–∞–∏–∑—É—Å—Ç—å. –ß–∞—â–µ –≤—Å–µ–≥–æ –∏–º–µ–µ—Ç—Å—è –ª–∏—à—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ —á–∞—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–∏—Å–∫–æ–º –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É: —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI, –ª–∏–±–æ —É–∫–∞–∑–∞–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –ü–æ–∏—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º Python –º–æ–¥—É–ª–µ–º [`re`](https://docs.python.org/3/library/re.html#re.compile), –±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ TKSBrokerAPI v1.2.62 –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á `--search`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥—Ä—É–ø–ø—ã –∫–æ–º–ø–∞–Ω–∏–π –°–±–µ—Ä, —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–¥–∞—Ç—å —á–∞—Å—Ç—å —Å–ª–æ–≤–∞: `tksbrokerapi --search "sbe"` (–∏–ª–∏ –ø–æ-—Ä—É—Å—Å–∫–∏ `"—Å–±–µ—Ä"`). –ò–ª–∏ –∂–µ —Ö–æ—á–µ—Ç—Å—è —É–∑–Ω–∞—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–π, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ "–†–æ—Å—Å–∏–π—Å–∫–∏–µ", "–∞–∫—Ü–∏–∏" –∏ "–æ–±–ª–∏–≥–∞—Ü–∏–∏". –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞ –∏ –∑–∞–¥–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: `tksbrokerapi --search "(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)"`.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –∫–ª—é—á—É `--search` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `search-results.md`. –í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 5 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –Ω—É–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—ã–ª –Ω–∞–π–¥–µ–Ω –∏ —Å—Ç–∞–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã –µ–≥–æ —Ç–∏–∫–µ—Ä –∏ FIGI, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `tksbrokerapi -t TICKER --info` –∏–ª–∏ `tksbrokerapi -f FIGI --info` ([–ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://github.com/Tim55667757/TKSBrokerAPI#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–ø–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ —á–∞—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è</summary>

```commandline
$ tksbrokerapi --search "—Å–±–µ—Ä"

TKSBrokerAPI.py     L:1065 INFO    [2022-08-11 22:00:31,171] # Search results

* **Search pattern:** [—Å–±–µ—Ä]
* **Found instruments:** [21]

**Note:** you can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t TICKER --info` or `tksbrokerapi -f FIGI --info`.

### Shares: [2]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Shares     | SBER         | –°–±–µ—Ä –ë–∞–Ω–∫                                                      | BBG004730N88 |
| Shares     | SBERP        | –°–±–µ—Ä –ë–∞–Ω–∫ - –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏                            | BBG0047315Y7 |

### Bonds: [8]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Bonds      | RU000A101QW2 | –°–±–µ—Ä –ë–∞–Ω–∫                                                      | BBG00V9STNC5 |
| Bonds      | RU000A103YM3 | –°–±–µ—Ä –ë–∞–Ω–∫ 002P –≤—ã–ø—É—Å–∫ 1                                        | BBG013J0F816 |
| Bonds      | RU000A101C89 | –°–±–µ—Ä –ë–∞–Ω–∫ 001P-SBER15                                          | BBG00RKBQ4D2 |
| Bonds      | RU000A102FR3 | –°–±–µ—Ä–±–∞–Ω–∫                                                       | BBG00YHVQ768 |
| Bonds      | RU000A103G75 | –°–±–µ—Ä –ë–∞–Ω–∫ 001P-SBER32                                          | BBG0122KNFZ0 |
| ...        | ...          | ...                                                            | ...          |

### Etfs: [1]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Etfs       | RU000A104172 | –ó–ü–ò–§ –ü–ê–†–£–°-–°–±–µ—Ä–ª–æ–≥                                             | TCS00A104172 |

### Futures: [10]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Futures    | SPH2         | SBPR-3.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)                        | FUTSBPR03220 |
| Futures    | SRU2         | SBRF-9.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF09220 |
| Futures    | SRH3         | SBRF-3.23 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF03230 |
| Futures    | SRH2         | SBRF-3.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF03220 |
| Futures    | SPM2         | SBPR-6.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)                        | FUTSBPR06220 |
| ...        | ...          | ...                                                            | ...          |

TKSBrokerAPI.py     L:1066 INFO    [2022-08-11 22:00:31,172] You can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t IBM --info` or `tksbrokerapi -f BBG000BLNNH6 --info`
TKSBrokerAPI.py     L:1072 INFO    [2022-08-11 22:00:31,172] Full search results were saved to file: [search-results.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é</summary>

```commandline
$ tksbrokerapi --search "(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)"

TKSBrokerAPI.py     L:1067 INFO    [2022-08-11 22:41:39,039] # Search results

* **Search pattern:** [(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)]
* **Found instruments:** [5]

**Note:** you can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t TICKER --info` or `tksbrokerapi -f FIGI --info`.

### Shares: [1]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Shares     | RSTIP        | –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ç–∏ - –∞–∫—Ü–∏–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ                      | BBG000KTF667 |

### Etfs: [4]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Etfs       | AMRE         | –ê–¢–û–ù –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–∫—Ü–∏–∏ +                                        | TCS00A102XX4 |
| Etfs       | AMRB         | –ê–¢–û–ù –†–æ—Å—Å–∏–π—Å–∫–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ +                                    | TCS00A102XY2 |
| Etfs       | SBCB         | –ü–µ—Ä–≤–∞—è - –§–æ–Ω–¥ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –µ–≤—Ä–æ–æ–±–ª–∏–≥–∞—Ü–∏–∏                         | BBG00NB6KGN0 |
| Etfs       | AKME         | –ê–ª—å—Ñ–∞-–ö–∞–ø–∏—Ç–∞–ª –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ê–∫—Ü–∏–∏                     | BBG00YRW4B42 |

TKSBrokerAPI.py     L:1068 INFO    [2022-08-11 22:41:39,039] You can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t IBM --info` or `tksbrokerapi -f BBG000BLNNH6 --info`
TKSBrokerAPI.py     L:1074 INFO    [2022-08-11 22:41:39,040] Full search results were saved to file: [search-results.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--info` (`-i`), –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö: —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ª–∏–±–æ –µ–≥–æ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –û–Ω–∏ –∑–∞–¥–∞—é—Ç—Å—è –∫–ª—é—á–∞–º–∏ `--ticker` (`-t`) –∏ `--figi` (`-f`) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í—ã–≤–æ–¥–∏–º–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö –∫–ª—é—á–µ–π. –†–∞–∑–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç—Å—è –≤ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª–µ–π, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: —ç—Ç–æ –≤–∞–ª—é—Ç–∞, –∞–∫—Ü–∏—è, –æ–±–ª–∏–≥–∞—Ü–∏—è, —Ñ–æ–Ω–¥ –∏–ª–∏ —Ñ—å—é—á–µ—Ä—Å.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ —É–∫–∞–∑–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `info.md`.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–µ (–∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–∏–∞—Å —Ç–∏–∫–µ—Ä–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi -t CNY -i

TKSBrokerAPI.py     L:930  INFO    [2022-11-18 13:58:40,118] # Main information: ticker [CNYRUB_TOM], FIGI [BBG0013HRTL0]

* Actual at: [2022-11-18 10:58] (UTC)

| Parameters                                                  | Values                                                 |
|-------------------------------------------------------------|--------------------------------------------------------|
| Ticker:                                                     | CNYRUB_TOM                                             |
| Full name:                                                  | –Æ–∞–Ω—å                                                   |
|                                                             |                                                        |
| FIGI (Financial Instrument Global Identifier):              | BBG0013HRTL0                                           |
| Real exchange [Exchange section]:                           | MOEX [FX]                                              |
| Class Code (exchange section where instrument is traded):   | CETS                                                   |
|                                                             |                                                        |
| Current broker security trading status:                     | Normal trading                                         |
|                                                             |                                                        |
| Buy operations allowed:                                     | Yes                                                    |
| Sale operations allowed:                                    | Yes                                                    |
| Short positions allowed:                                    | Yes                                                    |
|                                                             |                                                        |
| Limit orders allowed:                                       | Yes                                                    |
| Market orders allowed:                                      | Yes                                                    |
| API trade allowed:                                          | Yes                                                    |
|                                                             |                                                        |
| Type of the instrument:                                     | Currencies                                             |
| ISO currency name:                                          | cny                                                    |
| Payment currency:                                           | rub                                                    |
|                                                             |                                                        |
| Previous close price of the instrument:                     | 8.453 rub                                              |
| Last deal price of the instrument:                          | 8.473 rub                                              |
| Changes between last deal price and last close              | 0.24% (+0.02 rub)                                      |
| Current limit price, min / max:                             | 8.064 rub / 8.857 rub                                  |
| Actual price, sell / buy:                                   | 8.473 rub / 8.474 rub                                  |
| Minimum lot to buy:                                         | 1000                                                   |
| Minimum price increment (step):                             | 0.001 rub                                              |

TKSBrokerAPI.py     L:939  INFO    [2022-11-18 13:58:40,121] Info about instrument with ticker [CNYRUB_TOM] and FIGI [BBG0013HRTL0] was saved to file: [info.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∞–∫—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É—è —Ç–∏–∫–µ—Ä, –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --info

TKSBrokerAPI.py     L:4545 DEBUG   [2022-11-18 14:05:00,882] =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
TKSBrokerAPI.py     L:4546 DEBUG   [2022-11-18 14:05:00,882] >>> TKSBrokerAPI module started at: [2022-11-18 11:05:00] UTC, it is [2022-11-18 14:05:00] local time
TKSBrokerAPI.py     L:4560 DEBUG   [2022-11-18 14:05:00,883] TKSBrokerAPI major.minor.build version used: [1.5.dev0]
TKSBrokerAPI.py     L:4561 DEBUG   [2022-11-18 14:05:00,883] Host CPU count: [8]
TKSBrokerAPI.py     L:212  DEBUG   [2022-11-18 14:05:00,883] Bearer token for Tinkoff OpenAPI set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:225  DEBUG   [2022-11-18 14:05:00,883] Main account ID [**********] set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:277  DEBUG   [2022-11-18 14:05:00,883] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:444  DEBUG   [2022-11-18 14:05:00,903] Local cache with raw instruments data is used: [dump.json]. Last modified: [2022-11-18 08:28:22] UTC
TKSBrokerAPI.py     L:1161 DEBUG   [2022-11-18 14:05:00,904] Requesting current prices: ticker [IBM], FIGI [BBG000BLNNH6]. Wait, please...
TKSBrokerAPI.py     L:1515 DEBUG   [2022-11-18 14:05:01,028] Requesting current trading status, FIGI: [BBG000BLNNH6]. Wait, please...
TKSBrokerAPI.py     L:930  INFO    [2022-11-18 14:05:01,198] # Main information: ticker [IBM], FIGI [BBG000BLNNH6]

* Actual at: [2022-11-18 11:05] (UTC)

| Parameters                                                  | Values                                                 |
|-------------------------------------------------------------|--------------------------------------------------------|
| Ticker:                                                     | IBM                                                    |
| Full name:                                                  | IBM                                                    |
| Sector:                                                     | it                                                     |
| Country of instrument:                                      | (US) –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏                         |
|                                                             |                                                        |
| FIGI (Financial Instrument Global Identifier):              | BBG000BLNNH6                                           |
| Real exchange [Exchange section]:                           | SPBEX [SPB_MORNING]                                    |
| ISIN (International Securities Identification Number):      | US4592001014                                           |
| Class Code (exchange section where instrument is traded):   | SPBXM                                                  |
|                                                             |                                                        |
| Current broker security trading status:                     | Normal trading                                         |
|                                                             |                                                        |
| Buy operations allowed:                                     | Yes                                                    |
| Sale operations allowed:                                    | Yes                                                    |
| Short positions allowed:                                    | No                                                     |
|                                                             |                                                        |
| Limit orders allowed:                                       | Yes                                                    |
| Market orders allowed:                                      | Yes                                                    |
| API trade allowed:                                          | Yes                                                    |
|                                                             |                                                        |
| Type of the instrument:                                     | Shares                                                 |
| Share type:                                                 | Ordinary                                               |
| IPO date:                                                   | 1915-11-11 00:00:00                                    |
| Payment currency:                                           | usd                                                    |
|                                                             |                                                        |
| Previous close price of the instrument:                     | 146.09 usd                                             |
| Last deal price of the instrument:                          | 145.51 usd                                             |
| Changes between last deal price and last close              | -0.40% (-0.58 usd)                                     |
| Current limit price, min / max:                             | 144.1 usd / 147.62 usd                                 |
| Actual price, sell / buy:                                   | 145.51 usd / 146.2 usd                                 |
| Minimum lot to buy:                                         | 1                                                      |
| Minimum price increment (step):                             | 0.01 usd                                               |

TKSBrokerAPI.py     L:939  INFO    [2022-11-18 14:05:01,203] Info about instrument with ticker [IBM] and FIGI [BBG000BLNNH6] was saved to file: [info.md]
TKSBrokerAPI.py     L:4929 DEBUG   [2022-11-18 14:05:01,204] >>> TKSBrokerAPI module work duration: [0:00:00.322308]
TKSBrokerAPI.py     L:4930 DEBUG   [2022-11-18 14:05:01,204] >>> TKSBrokerAPI module finished: [2022-11-18 11:05:01 UTC], it is [2022-11-18 14:05:01] local time
TKSBrokerAPI.py     L:4934 DEBUG   [2022-11-18 14:05:01,204] =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–∑–Ω–∞—è FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)</summary>

```commandline
$ tksbrokerapi -f TCS00A101YV8 --info

TKSBrokerAPI.py     L:4134 INFO    [2022-11-18 14:07:20,658] XLSX-file with bond payments calendar for further used by data scientists or stock analytics: [calendar.xlsx]
TKSBrokerAPI.py     L:4208 INFO    [2022-11-18 14:07:20,660] Bond payment calendar was saved to file: [calendar.md]
TKSBrokerAPI.py     L:930  INFO    [2022-11-18 14:07:20,660] # Main information: ticker [RU000A101YV8], FIGI [TCS00A101YV8]

* Actual at: [2022-11-18 11:07] (UTC)

| Parameters                                                  | Values                                                 |
|-------------------------------------------------------------|--------------------------------------------------------|
| Ticker:                                                     | RU000A101YV8                                           |
| Full name:                                                  | –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1                           |
| Sector:                                                     | it                                                     |
| Country of instrument:                                      | (RU) –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è                              |
|                                                             |                                                        |
| FIGI (Financial Instrument Global Identifier):              | TCS00A101YV8                                           |
| Real exchange [Exchange section]:                           | MOEX [MOEX]                                            |
| ISIN (International Securities Identification Number):      | RU000A101YV8                                           |
| Class Code (exchange section where instrument is traded):   | TQCB                                                   |
|                                                             |                                                        |
| Current broker security trading status:                     | Normal trading                                         |
|                                                             |                                                        |
| Buy operations allowed:                                     | Yes                                                    |
| Sale operations allowed:                                    | Yes                                                    |
| Short positions allowed:                                    | No                                                     |
|                                                             |                                                        |
| Limit orders allowed:                                       | Yes                                                    |
| Market orders allowed:                                      | Yes                                                    |
| API trade allowed:                                          | Yes                                                    |
|                                                             |                                                        |
| Type of the instrument:                                     | Bonds                                                  |
| Payment currency:                                           | rub                                                    |
| Nominal currency:                                           | rub                                                    |
| State registration date:                                    | 2020-07-21 00:00:00                                    |
| Placement date:                                             | 2020-07-29 00:00:00                                    |
| Maturity date:                                              | 2023-07-26 00:00:00                                    |
|                                                             |                                                        |
| Bond issue (size / plan):                                   | 500000 / 500000                                        |
| Nominal price (100%):                                       | 750 rub                                                |
| Floating coupon:                                            | No                                                     |
| Amortization:                                               | Yes                                                    |
|                                                             |                                                        |
| Number of coupon payments per year:                         | 4                                                      |
| Days last to maturity date:                                 | 249                                                    |
| Coupons yield (average coupon daily yield * 365):           | 13.42%                                                 |
| Current price yield (average daily yield * 365):            | 7.12%                                                  |
| Current accumulated coupon income (ACI):                    | 6.14 rub                                               |
|                                                             |                                                        |
| Previous close price of the instrument:                     | 101.19% of nominal price (758.92 rub)                  |
| Last deal price of the instrument:                          | 101.24% of nominal price (759.30 rub)                  |
| Changes between last deal price and last close              | 0.05% (+0.38 rub)                                      |
| Current limit price, min / max:                             | 60.66% / 141.52% (454.95 rub / 1061.40 rub)            |
| Actual price, sell / buy:                                   | 101.13% / 101.29% (101.13 rub / 101.29 rub)            |
| Minimum lot to buy:                                         | 1                                                      |
| Minimum price increment (step):                             | 0.01 rub                                               |

# Bond payments calendar

| Paid  | Payment date    | FIGI         | Ticker       | No. | Value         | Type      | Period | End registry date |
|-------|-----------------|--------------|--------------|-----|---------------|-----------|--------|-------------------|
|   ‚àö   | 2020-10-28      | TCS00A101YV8 | RU000A101YV8 | 1   | 28.67 rub     | Constant  | 91     | 2020-10-27        |
|   ‚àö   | 2021-01-27      | TCS00A101YV8 | RU000A101YV8 | 2   | 28.67 rub     | Constant  | 91     | 2021-01-26        |
|   ‚àö   | 2021-04-28      | TCS00A101YV8 | RU000A101YV8 | 3   | 28.67 rub     | Constant  | 91     | 2021-04-27        |
|   ‚àö   | 2021-07-28      | TCS00A101YV8 | RU000A101YV8 | 4   | 28.67 rub     | Constant  | 91     | 2021-07-27        |
|   ‚àö   | 2021-10-27      | TCS00A101YV8 | RU000A101YV8 | 5   | 28.67 rub     | Constant  | 91     | 2021-10-26        |
|   ‚àö   | 2022-01-26      | TCS00A101YV8 | RU000A101YV8 | 6   | 28.67 rub     | Constant  | 91     | 2022-01-25        |
|   ‚àö   | 2022-04-27      | TCS00A101YV8 | RU000A101YV8 | 7   | 28.67 rub     | Constant  | 91     | 2022-04-26        |
|   ‚àö   | 2022-07-27      | TCS00A101YV8 | RU000A101YV8 | 8   | 28.67 rub     | Constant  | 91     | 2022-07-26        |
|   ‚àö   | 2022-10-26      | TCS00A101YV8 | RU000A101YV8 | 9   | 28.67 rub     | Constant  | 91     | 2022-10-25        |
|   ‚Äî   | 2023-01-25      | TCS00A101YV8 | RU000A101YV8 | 10  | 21.5 rub      | Constant  | 91     | 2023-01-24        |
|   ‚Äî   | 2023-04-26      | TCS00A101YV8 | RU000A101YV8 | 11  | 14.34 rub     | Constant  | 91     | 2023-04-25        |
|   ‚Äî   | 2023-07-26      | TCS00A101YV8 | RU000A101YV8 | 12  | 7.17 rub      | Constant  | 91     | 2023-07-25        |

TKSBrokerAPI.py     L:939  INFO    [2022-11-18 14:07:20,661] Info about instrument with ticker [RU000A101YV8] and FIGI [TCS00A101YV8] was saved to file: [info.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥—É (–∑–Ω–∞—è FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)</summary>

```commandline
$ tksbrokerapi --figi BBG222222222 -i

TKSBrokerAPI.py     L:930  INFO    [2022-11-18 14:11:05,791] # Main information: ticker [TGLD], FIGI [BBG222222222]

* Actual at: [2022-11-18 11:11] (UTC)

| Parameters                                                  | Values                                                 |
|-------------------------------------------------------------|--------------------------------------------------------|
| Ticker:                                                     | TGLD                                                   |
| Full name:                                                  | –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ                                        |
|                                                             |                                                        |
| FIGI (Financial Instrument Global Identifier):              | BBG222222222                                           |
| Real exchange [Exchange section]:                           | MOEX [MOEX]                                            |
| ISIN (International Securities Identification Number):      | RU000A101X50                                           |
| Class Code (exchange section where instrument is traded):   | TQTD                                                   |
|                                                             |                                                        |
| Current broker security trading status:                     | Normal trading                                         |
|                                                             |                                                        |
| Buy operations allowed:                                     | Yes                                                    |
| Sale operations allowed:                                    | Yes                                                    |
| Short positions allowed:                                    | No                                                     |
|                                                             |                                                        |
| Limit orders allowed:                                       | Yes                                                    |
| Market orders allowed:                                      | Yes                                                    |
| API trade allowed:                                          | Yes                                                    |
|                                                             |                                                        |
| Type of the instrument:                                     | Etfs                                                   |
| Released date:                                              | 2020-07-13 00:00:00                                    |
| Focusing type:                                              | equity                                                 |
| Payment currency:                                           | usd                                                    |
|                                                             |                                                        |
| Previous close price of the instrument:                     | 0.0727 usd                                             |
| Last deal price of the instrument:                          | 0.073 usd                                              |
| Changes between last deal price and last close              | 0.41% (+0.00 usd)                                      |
| Current limit price, min / max:                             | 0.062 usd / 0.0833 usd                                 |
| Actual price, sell / buy:                                   | 0.073 usd / 0.0731 usd                                 |
| Minimum lot to buy:                                         | 100                                                    |
| Minimum price increment (step):                             | 0.0001 usd                                             |

TKSBrokerAPI.py     L:939  INFO    [2022-11-18 14:11:05,795] Info about instrument with ticker [TGLD] and FIGI [BBG222222222] was saved to file: [info.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ñ—å—é—á–µ—Ä—Å—É (–∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä, –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi --verbosity=10 --ticker PZH2 --info

TKSBrokerAPI.py     L:4545 DEBUG   [2022-11-18 14:12:29,029] =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
TKSBrokerAPI.py     L:4546 DEBUG   [2022-11-18 14:12:29,029] >>> TKSBrokerAPI module started at: [2022-11-18 11:12:29] UTC, it is [2022-11-18 14:12:29] local time
TKSBrokerAPI.py     L:4560 DEBUG   [2022-11-18 14:12:29,030] TKSBrokerAPI major.minor.build version used: [1.5.dev0]
TKSBrokerAPI.py     L:4561 DEBUG   [2022-11-18 14:12:29,030] Host CPU count: [8]
TKSBrokerAPI.py     L:212  DEBUG   [2022-11-18 14:12:29,030] Bearer token for Tinkoff OpenAPI set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:225  DEBUG   [2022-11-18 14:12:29,030] Main account ID [2000096541] set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:277  DEBUG   [2022-11-18 14:12:29,030] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:444  DEBUG   [2022-11-18 14:12:29,051] Local cache with raw instruments data is used: [dump.json]. Last modified: [2022-11-18 08:28:22] UTC
TKSBrokerAPI.py     L:1161 DEBUG   [2022-11-18 14:12:29,051] Requesting current prices: ticker [PZH2], FIGI [FUTPLZL03220]. Wait, please...
TKSBrokerAPI.py     L:1515 DEBUG   [2022-11-18 14:12:29,178] Requesting current trading status, FIGI: [FUTPLZL03220]. Wait, please...
TKSBrokerAPI.py     L:930  INFO    [2022-11-18 14:12:29,298] # Main information: ticker [PZH2], FIGI [FUTPLZL03220]

* Actual at: [2022-11-18 11:12] (UTC)

| Parameters                                                  | Values                                                 |
|-------------------------------------------------------------|--------------------------------------------------------|
| Ticker:                                                     | PZH2                                                   |
| Full name:                                                  | PLZL-3.22 –ü–æ–ª—é—Å –ó–æ–ª–æ—Ç–æ                                 |
| Sector:                                                     | SECTOR_MATERIALS                                       |
| Country of instrument:                                      | (RU) –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è                              |
|                                                             |                                                        |
| FIGI (Financial Instrument Global Identifier):              | FUTPLZL03220                                           |
| Real exchange [Exchange section]:                           | SPBEX [FORTS]                                          |
| Class Code (exchange section where instrument is traded):   | SPBFUT                                                 |
|                                                             |                                                        |
| Current broker security trading status:                     | Not available for trading                              |
|                                                             |                                                        |
| Buy operations allowed:                                     | Yes                                                    |
| Sale operations allowed:                                    | Yes                                                    |
| Short positions allowed:                                    | Yes                                                    |
|                                                             |                                                        |
| Limit orders allowed:                                       | No                                                     |
| Market orders allowed:                                      | No                                                     |
| API trade allowed:                                          | Yes                                                    |
|                                                             |                                                        |
| Type of the instrument:                                     | Futures                                                |
| Futures type:                                               | DELIVERY_TYPE_PHYSICAL_DELIVERY                        |
| Asset type:                                                 | TYPE_SECURITY                                          |
| Basic asset:                                                | PLZL                                                   |
| Basic asset size:                                           | 10.00                                                  |
| Payment currency:                                           | rub                                                    |
| First trade date:                                           | 2021-09-02 20:59:59                                    |
| Last trade date:                                            | 2022-03-28 21:00:00                                    |
| Date of expiration:                                         | 2022-03-30 00:00:00                                    |
|                                                             |                                                        |
| Previous close price of the instrument:                     | 108100 rub                                             |
| Last deal price of the instrument:                          | 108100 rub                                             |
| Changes between last deal price and last close              | 0.00% (0.00 rub)                                       |
| Current limit price, min / max:                             | 0 rub / 0 rub                                          |
| Actual price, sell / buy:                                   | N/A rub / N/A rub                                      |
| Minimum lot to buy:                                         | 1                                                      |
| Minimum price increment (step):                             | 1.0 rub                                                |

TKSBrokerAPI.py     L:939  INFO    [2022-11-18 14:12:29,302] Info about instrument with ticker [PZH2] and FIGI [FUTPLZL03220] was saved to file: [info.md]
TKSBrokerAPI.py     L:4929 DEBUG   [2022-11-18 14:12:29,303] >>> TKSBrokerAPI module work duration: [0:00:00.274060]
TKSBrokerAPI.py     L:4930 DEBUG   [2022-11-18 14:12:29,303] >>> TKSBrokerAPI module finished: [2022-11-18 11:12:29 UTC], it is [2022-11-18 14:12:29] local time
TKSBrokerAPI.py     L:4934 DEBUG   [2022-11-18 14:12:29,303] =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-
```

</details>

#### –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--price`, –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö: —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–∫–ª—é—á `--ticker` –∏–ª–∏ `-t`), –ª–∏–±–æ –µ–≥–æ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–∫–ª—é—á `--figi` –∏–ª–∏ `-f`) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--depth` –¥–ª—è –∑–∞–¥–∞–Ω–∏—è "–≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞" —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏. –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–¥–∞–≤–∞–µ–º–∞—è –≥–ª—É–±–∏–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–π.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞–∫–∞–Ω–∞ —Ü–µ–Ω</summary>

```commandline
$ tksbrokerapi -t TRUR --depth 10 --price

TKSBrokerAPI.py     L:1231 INFO    [2022-11-11 18:01:48,273] Current prices in order book:

Orders book actual at [2022-11-11 15:01:48] (UTC)
Ticker: [TRUR], FIGI: [BBG000000001], Depth of Market: [10]
------------------------------------------------------------
             Orders of Buyers | Orders of Sellers
------------------------------------------------------------
        Sell prices (volumes) | Buy prices (volumes)
------------------------------------------------------------
                              | 5.71 (1158)
                              | 5.7 (93508)
                              | 5.69 (112074)
                              | 5.68 (12804)
                              | 5.67 (106064)
                              | 5.66 (23593)
                              | 5.65 (1457706)
                              | 5.64 (32957)
                              | 5.63 (823159)
                              | 5.62 (1991386)
               5.61 (3351948) |
                5.6 (1780747) |
               5.59 (1354789) |
               5.58 (1167135) |
                5.57 (770161) |
                5.56 (521801) |
                5.55 (337911) |
                  5.54 (6204) |
                  5.53 (5603) |
               5.52 (1110590) |
------------------------------------------------------------
         Total sell: 10406889 | Total buy: 4654409
------------------------------------------------------------
```

</details>

#### –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--prices` (`-p`), –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Ç–∏–∫–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –∏—Ö FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, —Ä–∞–∑–¥–µ–ª—è—è –ø—Ä–æ–±–µ–ª–æ–º. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ü–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `prices.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</summary>

```commandline
$ tksbrokerapi --prices EUR IBM MSFT GOOGL UNKNOWN_TICKER TCS00A101YV8 POSI BBG000000001 PTZ2 --output some-prices.md

TKSBrokerAPI.py     L:977  WARNING [2022-07-27 00:25:43,224] Instrument [UNKNOWN_TICKER] not in list of available instruments for current token!
TKSBrokerAPI.py     L:1018 INFO    [2022-07-27 00:25:43,606] Only unique instruments are shown:
# Actual prices at: [2022-07-26 21:25 UTC]

| Ticker       | FIGI         | Type       | Prev. close | Last price  | Chg. %   | Day limits min/max  | Actual sell / buy   | Curr.
|--------------|--------------|------------|-------------|-------------|----------|---------------------|---------------------|------
| EUR_RUB__TOM | BBG0013HJJ31 | Currencies |       59.22 |       61.68 |   +4.16% |       55.82 / 62.47 |           N/A / N/A | rub
| IBM          | BBG000BLNNH6 | Shares     |      128.08 |      128.36 |   +0.22% |     126.64 / 129.96 |     128.18 / 128.65 | usd
| MSFT         | BBG000BPH459 | Shares     |      251.90 |      252.23 |   +0.13% |     248.74 / 254.96 |     252.01 / 252.35 | usd
| GOOGL        | BBG009S39JX6 | Shares     |      105.02 |      108.00 |   +2.84% |       97.78 / 119.3 |     107.55 / 107.94 | usd
| RU000A101YV8 | TCS00A101YV8 | Bonds      |      101.00 |      101.00 |    0.00% |      60.51 / 141.17 |           N/A / N/A | rub
| POSI         | TCS00A103X66 | Shares     |      910.00 |      910.00 |    0.00% |      533.2 / 1243.6 |           N/A / N/A | rub
| TRUR         | BBG000000001 | Etfs       |        5.45 |        5.45 |    0.00% |          4.8 / 5.94 |           N/A / N/A | rub
| PTZ2         | FUTPLT122200 | Futures    |      940.40 |      930.00 |   -1.11% |      831.4 / 1024.2 |           N/A / N/A | rub

TKSBrokerAPI.py     L:1024 INFO    [2022-07-27 00:25:43,611] Price list for all instruments saved to file: [some-prices.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤

–ß—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤ (–ø–æ —Ç–∏–ø–∞–º, –∫–æ–º–ø–∞–Ω–∏—è–º, —Å–µ–∫—Ç–æ—Ä–∞–º, –≤–∞–ª—é—Ç–∞–º –∏ —Å—Ç—Ä–∞–Ω–∞–º), –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--overview` (`-o`). –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `overview.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –ö–ª—é—á `--verbosity=10` –≤—ã–≤–µ–¥–µ—Ç –≤—Å—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å (–º–æ–∂–Ω–æ –µ–≥–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å).

–¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –≤–º–µ—Å—Ç–æ –∫–ª—é—á–∞ `--overview`, –Ω–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.3.70:
- –∫–ª—é—á `--overview-digest` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫—Ä–∞—Ç–∫–∏–π –¥–∞–π–¥–∂–µ—Å—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è,
- –∫–ª—é—á `--overview-positions` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –±–µ–∑ –≤—Å–µ–≥–æ –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ,
- –∫–ª—é—á `--overview-orders` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—é –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –∏ —Å—Ç–æ–ø –æ—Ä–¥–µ—Ä–æ–≤,
- –∫–ª—é—á `--overview-analytics` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—é –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ —Ä–∞–∑–ª–∏—á–Ω—ã–º –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º.

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.5.* –¥–æ–±–∞–≤–ª–µ–Ω –µ—â—ë –æ–¥–∏–Ω –∫–ª—é—á:
- `--overview-calendar`, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ü–∏—é –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º (–µ—Å–ª–∏ –æ–Ω–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ —Ä–∞–∑–¥–µ–ª—ã "[–ü–æ–ª—É—á–∏—Ç—å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ–ª—É—á–∏—Ç—å-–æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)" –∏ "[–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞–ª–µ–Ω–¥–∞—Ä—å-–≤—ã–ø–ª–∞—Ç-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)").

–ö–ª—é—á `--output` —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª –∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∫–ª—é—á–µ–π.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</summary>

```commandline
$ tksbrokerapi --verbosity=10 --overview --output portfolio.md

TKSBrokerAPI.py     L:2898 DEBUG   [2022-08-10 22:06:22,087] TKSBrokerAPI module started at: [2022-08-10 19:06:22] (UTC), it is [2022-08-10 22:06:22] local time
TKSBrokerAPI.py     L:205  DEBUG   [2022-08-10 22:06:22,087] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:217  DEBUG   [2022-08-10 22:06:22,087] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:247  DEBUG   [2022-08-10 22:06:22,087] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:307  DEBUG   [2022-08-10 22:06:22,113] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:308  DEBUG   [2022-08-10 22:06:22,114] Dump file was modified [2022-08-10 12:02:58] UTC
TKSBrokerAPI.py     L:1207 DEBUG   [2022-08-10 22:06:22,114] Request portfolio of a client...
TKSBrokerAPI.py     L:1095 DEBUG   [2022-08-10 22:06:22,114] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1101 DEBUG   [2022-08-10 22:06:22,499] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1112 DEBUG   [2022-08-10 22:06:22,499] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1118 DEBUG   [2022-08-10 22:06:22,854] Records about current open positions successfully received
TKSBrokerAPI.py     L:1129 DEBUG   [2022-08-10 22:06:22,854] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1135 DEBUG   [2022-08-10 22:06:23,192] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1146 DEBUG   [2022-08-10 22:06:23,193] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1152 DEBUG   [2022-08-10 22:06:23,807] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:23,824] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,152] Requesting current prices for instrument with ticker [1810] and FIGI [BBG00KVTBY91]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,571] Requesting current prices for instrument with ticker [288] and FIGI [BBG00699M8Q7]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,843] Requesting current prices for instrument with ticker [9988] and FIGI [BBG006G2JVL2]...
TKSBrokerAPI.py     L:1821 INFO    [2022-08-10 22:06:27,150] Statistics of client's portfolio:
# Client's portfolio

* **Actual date:** [2022-08-10 19:06:27] (UTC)
* **Account ID:** [**********]
* **Portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Open positions

| Ticker [FIGI]               | Volume (blocked)                | Lots     | Curr. price  | Avg. price   | Current volume cost | Profit (%)
|-----------------------------|---------------------------------|----------|--------------|--------------|---------------------|----------------------
| Ruble                       |                 5.62 (0.00) rub |          |              |              |                     |
|                             |                                 |          |              |              |                     |
| **Currencies:**             |                                 |          |              |              |        13886.03 RUB |
| EUR_RUB__TOM [BBG0013HJJ31] |                 5.29 (0.00) eur | 0.0053   |    62.75 rub |    61.41 rub |          331.96 rub | +7.10 rub (+2.19%)
| CNYRUB_TOM [BBG0013HRTL0]   |               928.93 (0.00) cny | 0.9289   |     9.09 rub |     8.95 rub |         8443.97 rub | +134.69 rub (+1.62%)
| CHFRUB_TOM [BBG0013HQ5K4]   |                 1.00 (0.00) chf | 0.0010   |    60.54 rub |    64.00 rub |           60.54 rub | -3.46 rub (-5.41%)
| GBPRUB_TOM [BBG0013HQ5F0]   |                10.00 (0.00) gbp | 0.0100   |    74.39 rub |    75.88 rub |          743.85 rub | -14.94 rub (-1.97%)
| TRYRUB_TOM [BBG0013J12N1]   |               100.00 (0.00) try | 0.1000   |     3.42 rub |     3.41 rub |          342.00 rub | +0.65 rub (+0.19%)
| USD000UTSTOM [BBG0013HGFT4] |                34.42 (0.05) usd | 0.0344   |    60.66 rub |    60.33 rub |         2088.09 rub | +11.44 rub (+0.55%)
| HKDRUB_TOM [BBG0013HSW87]   |               237.75 (0.00) hkd | 0.2378   |     7.89 rub |     7.83 rub |         1875.61 rub | +14.27 rub (+0.77%)
|                             |                                 |          |              |              |                     |
| **Shares:**                 |                                 |          |              |              |       199987.52 RUB |
| POSI [TCS00A103X66]         |                           3 (0) | 3        |  1161.80 rub |  1120.20 rub |         3485.40 rub | +124.60 rub (+3.71%)
| 288 [BBG00699M8Q7]          |                         800 (0) | 8        |     5.53 hkd |     5.69 hkd |         4424.00 hkd | -128.00 hkd (-2.81%)
| YNDX [BBG006L8G4H1]         |                           4 (0) | 4        |  1971.80 rub |  1958.80 rub |         7887.20 rub | +52.22 rub (+0.67%)
| IBM [BBG000BLNNH6]          |                           1 (1) | 1        |   131.03 usd |   131.13 usd |          131.03 usd | -0.10 usd (-0.08%)
| 1810 [BBG00KVTBY91]         |                        1100 (0) | 11       |    11.79 hkd |    11.76 hkd |        12969.00 hkd | +30.00 hkd (+0.23%)
| 9988 [BBG006G2JVL2]         |                          60 (0) | 6        |    91.80 hkd |    91.05 hkd |         5508.00 hkd | +45.50 hkd (+0.83%)
|                             |                                 |          |              |              |                     |
| **Bonds:**                  |                                 |          |              |              |        56240.33 RUB |
| RU000A105104 [TCS00A105104] |                           5 (0) | 5        |  1012.00 cny |  1013.00 cny |         5064.80 cny | -5.00 cny (-0.10%)
| RU000A101YV8 [TCS00A101YV8] |                          10 (0) | 10       |  1015.40 rub |  1011.21 rub |        10201.30 rub | +41.90 rub (+0.41%)
|                             |                                 |          |              |              |                     |
| **Etfs:**                   |                                 |          |              |              |       135586.27 RUB |
| TGLD [BBG222222222]         |                       30000 (0) | 300      |     0.07 usd |     0.07 usd |         2235.00 usd | -3.39 usd (-0.15%)
|                             |                                 |          |              |              |                     |
| **Futures:** no trades      |                                 |          |              |              |                     |

## Opened pending limit-orders: 1

| Ticker [FIGI]               | Order ID       | Lots (exec.) | Current price (% delta) | Target price  | Action    | Type      | Create date (UTC)
|-----------------------------|----------------|--------------|-------------------------|---------------|-----------|-----------|---------------------
| IBM [BBG000BLNNH6]          | ************   | 1 (0)        |     131.02 usd (-4.36%) |    137.00 usd | ‚Üì Sell    | Limit     | 2022-08-10 22:02:44

## Opened stop-orders: 3

| Ticker [FIGI]               | Stop order ID                        | Lots   | Current price (% delta) | Target price  | Limit price   | Action    | Type        | Expire type  | Create date (UTC)   | Expiration (UTC)
|-----------------------------|--------------------------------------|--------|-------------------------|---------------|---------------|-----------|-------------|--------------|---------------------|---------------------
| 1810 [BBG00KVTBY91]         | ********-****-****-****-************ | 11     |         N/A hkd (0.00%) |     14.00 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:24:57 | Undefined
| 288 [BBG00699M8Q7]          | ********-****-****-****-************ | 8      |         N/A hkd (0.00%) |      5.80 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:06:28 | Undefined
| IBM [BBG000BLNNH6]          | ********-****-****-****-************ | 1      |     130.99 usd (-4.49%) |    137.15 usd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 19:02:21 | Undefined

# Analytics

* **Current total portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Portfolio distribution by assets

| Type       | Uniques | Percent | Current cost
|------------|---------|---------|-----------------
| Ruble      | 1       | 0.00%   | 5.62 rub
| Currencies | 7       | 3.42%   | 13886.03 rub
| Shares     | 6       | 49.29%  | 199987.52 rub
| Bonds      | 2       | 13.86%  | 56240.33 rub
| Etfs       | 1       | 33.42%  | 135586.27 rub

## Portfolio distribution by companies

| Company                                     | Percent | Current cost
|---------------------------------------------|---------|-----------------
| All money cash                              | 3.42%   | 13891.65 rub
| [POSI] Positive Technologies                | 0.86%   | 3485.40 rub
| [288] WH Group                              | 8.60%   | 34900.94 rub
| [YNDX] Yandex                               | 1.94%   | 7887.20 rub
| [IBM] IBM                                   | 1.96%   | 7948.93 rub
| [1810] Xiaomi                               | 25.22%  | 102312.44 rub
| [9988] Alibaba                              | 10.71%  | 43452.61 rub
| [RU000A105104] –†–£–°–ê–õ –≤—ã–ø—É—Å–∫ 5               | 11.35%  | 46039.03 rub
| [RU000A101YV8] –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1 | 2.51%   | 10201.30 rub
| [TGLD] –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ                      | 33.42%  | 135586.28 rub

## Portfolio distribution by sectors

| Sector         | Percent | Current cost
|----------------|---------|-----------------
| All money cash | 3.42%   | 13891.65 rub
| it             | 30.55%  | 123948.08 rub
| consumer       | 19.31%  | 78353.55 rub
| telecom        | 1.94%   | 7887.20 rub
| materials      | 11.35%  | 46039.03 rub
| other          | 33.42%  | 135586.28 rub

## Portfolio distribution by currencies

| Instruments currencies   | Percent | Current cost
|--------------------------|---------|-----------------
| [rub] –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å   | 5.32%   | 21579.52 rub
| [hkd] –ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä | 44.99%  | 182541.60 rub
| [usd] –î–æ–ª–ª–∞—Ä –°–®–ê         | 35.89%  | 145623.30 rub
| [cny] –Æ–∞–Ω—å               | 13.43%  | 54483.01 rub
| [eur] –ï–≤—Ä–æ               | 0.08%   | 331.96 rub
| [chf] –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫  | 0.01%   | 60.54 rub
| [gbp] –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤    | 0.18%   | 743.85 rub
| [try] –¢—É—Ä–µ—Ü–∫–∞—è –ª–∏—Ä–∞      | 0.08%   | 342.00 rub

## Portfolio distribution by countries

| Assets by country                  | Percent | Current cost
|------------------------------------|---------|-----------------
| All other countries                | 36.84%  | 149472.30 rub
| [RU] –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è          | 16.67%  | 67612.93 rub
| [CN] –ö–∏—Ç–∞–π—Å–∫–∞—è –ù–∞—Ä–æ–¥–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞ | 44.53%  | 180665.99 rub
| [US] –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏     | 1.96%   | 7948.93 rub

# Bond payments calendar

| Paid  | Payment date    | FIGI         | Ticker       | No. | Value         | Type      | Period | End registry date |
|-------|-----------------|--------------|--------------|-----|---------------|-----------|--------|-------------------|
|   ‚àö   | 2020-10-28      | TCS00A101YV8 | RU000A101YV8 | 1   | 28.67 rub     | Constant  | 91     | 2020-10-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-01-27      | TCS00A101YV8 | RU000A101YV8 | 2   | 28.67 rub     | Constant  | 91     | 2021-01-26        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-04-28      | TCS00A101YV8 | RU000A101YV8 | 3   | 28.67 rub     | Constant  | 91     | 2021-04-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-07-28      | TCS00A101YV8 | RU000A101YV8 | 4   | 28.67 rub     | Constant  | 91     | 2021-07-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-10-27      | TCS00A101YV8 | RU000A101YV8 | 5   | 28.67 rub     | Constant  | 91     | 2021-10-26        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-01-26      | TCS00A101YV8 | RU000A101YV8 | 6   | 28.67 rub     | Constant  | 91     | 2022-01-25        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-04-27      | TCS00A101YV8 | RU000A101YV8 | 7   | 28.67 rub     | Constant  | 91     | 2022-04-26        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-07-27      | TCS00A101YV8 | RU000A101YV8 | 8   | 28.67 rub     | Constant  | 91     | 2022-07-26        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2022-10-26      | TCS00A101YV8 | RU000A101YV8 | 9   | 28.67 rub     | Constant  | 91     | 2022-10-25        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-01-25      | TCS00A101YV8 | RU000A101YV8 | 10  | 21.5 rub      | Constant  | 91     | 2023-01-24        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-02-01      | TCS00A105104 | RU000A105104 | 1   | 19.45 cny     | Variable  | 182    | 2023-01-31        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-04-26      | TCS00A101YV8 | RU000A101YV8 | 11  | 14.34 rub     | Constant  | 91     | 2023-04-25        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-07-26      | TCS00A101YV8 | RU000A101YV8 | 12  | 7.17 rub      | Constant  | 91     | 2023-07-25        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-08-02      | TCS00A105104 | RU000A105104 | 2   | 19.45 cny     | Variable  | 182    | 2023-08-01        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2024-01-31      | TCS00A105104 | RU000A105104 | 3   | 19.45 cny     | Variable  | 182    | 2024-01-30        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2024-07-31      | TCS00A105104 | RU000A105104 | 4   | 19.45 cny     | Variable  | 182    | 2024-07-30        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2025-01-29      | TCS00A105104 | RU000A105104 | 5   | 0 cny         | Variable  | 182    | 2025-01-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2025-07-30      | TCS00A105104 | RU000A105104 | 6   | 0 cny         | Variable  | 182    | 2025-07-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2026-01-28      | TCS00A105104 | RU000A105104 | 7   | 0 cny         | Variable  | 182    | 2026-01-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2026-07-29      | TCS00A105104 | RU000A105104 | 8   | 0 cny         | Variable  | 182    | 2026-07-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2027-01-27      | TCS00A105104 | RU000A105104 | 9   | 0 cny         | Variable  | 182    | 2027-01-26        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2027-07-28      | TCS00A105104 | RU000A105104 | 10  | 0 cny         | Variable  | 182    | 2027-07-27        |

TKSBrokerAPI.py     L:1827 INFO    [2022-08-10 22:06:27,153] Client's portfolio is saved to file: [portfolio.md]
TKSBrokerAPI.py     L:3132 DEBUG   [2022-08-10 22:06:27,153] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3137 DEBUG   [2022-08-10 22:06:27,153] TKSBrokerAPI module work duration: [0:00:05.066358]
TKSBrokerAPI.py     L:3138 DEBUG   [2022-08-10 22:06:27,154] TKSBrokerAPI module finished: [2022-08-10 19:06:27] (UTC), it is [2022-08-10 22:06:27] local time
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--deals` (`-d`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–≤–µ –¥–∞—Ç—ã: –Ω–∞—á–∞–ª—å–Ω—É—é –∏ –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—ã –æ—Ç—á—ë—Ç–∞. –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d` –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `--deals 2022-07-01 2022-07-27`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤ –æ—Ç—á—ë—Ç –≤–æ–π–¥—É—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å 0:00:00 —á–∞—Å–æ–≤ –ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã –∏ –¥–æ 23:59:59 –≤—Ç–æ—Ä–æ–π –¥–∞—Ç—ã.

–í–º–µ—Å—Ç–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã (`--deals -1`, `-d -2`, `-d -3`, ...), —Ç–æ–≥–¥–∞ –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—É —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –¢–∞–∫–∂–µ –≤–º–µ—Å—Ç–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: `today`, `yesterday` (-1 –¥–µ–Ω—å), `week` (-7 –¥–Ω–µ–π), `month` (-30 –¥–Ω–µ–π), `year` (-365 –¥–Ω–µ–π). –í–æ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω –æ—Ç—á—ë—Ç –∑–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω–µ–π –∏ –≤–ø–ª–æ—Ç—å –¥–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ —á–∏—Å–ª–∞ –∏ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `deals.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –ê —Ç–∞–∫–∂–µ –∫–ª—é—á `--no-cancelled` –º–æ–∂–µ—Ç —É–¥–∞–ª–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–º–µ–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∏–∑ –æ—Ç—á—ë—Ç–∞, —á—Ç–æ–±—ã —É–º–µ–Ω—å—à–∏—Ç—å –µ–≥–æ –æ–±—ä—ë –º.
 
<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –º–µ–∂–¥—É –¥–≤—É–º—è —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏</summary>

```commandline
$ tksbrokerapi --deals 2022-07-01 2022-07-28 --output deals.md

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:13:18,960] # Client's operations

* **Period:** from [2022-07-01] to [2022-07-28]

## Summary (operations executed only)

| Report sections            |                               |                              |                      |                        |
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------|
| **Actions:**               | Operations executed: 35       | Trading volumes:             |                      |                        |
|                            |   Buy: 19 (54.3%)             |   rub, buy: -25907.12        |                      |                        |
|                            |   Sell: 16 (45.7%)            |   rub, sell: +11873.86       |                      |                        |
|                            |                               |   usd, buy: -664.45          |                      |                        |
|                            |                               |   usd, sell: +281.03         |                      |                        |
|                            |                               |                              |                      |                        |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:        |
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01          |
|                            |                               |                              |                      |                        |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections: |
|                            |   rub: -75.85                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00          |
|                            |   usd: -0.30                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî                    |
|                            |                               |                              |                      |                        |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-22 14:48:50 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-22 14:48:49 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.14 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-21 17:21:21 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:17:06 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:16:17 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:11:30 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-21 17:11:29 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.74 usd | ‚àö Executed | Buy securities
|                     |              |              |            |           |                 |            |
| 2022-07-19 07:08:11 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.22 rub | ‚àö Executed | Operation fee deduction
| 2022-07-19 07:08:10 | TCS00A103X66 | POSI         | Shares     | 1         |     -864.00 rub | ‚àö Executed | Buy securities
|                     |              |              |            |           |                 |            |
| 2022-07-15 07:00:05 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.22 rub | ‚àö Executed | Operation fee deduction
| 2022-07-15 07:00:04 | TCS00A103X66 | POSI         | Shares     | 1         |     +860.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-11 07:46:13 | BBG222222222 | TGLD         | Etfs       | 300       |      -21.45 usd | ‚àö Executed | Buy securities
| 2022-07-08 18:04:04 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-08 18:04:03 | BBG00JN4FXG8 | SLDB         | Shares     | 25        |      +16.26 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-06 17:15:05 | BBG00JN4FXG8 | SLDB         | Shares     | 27        |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-06 14:58:23 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:58:22 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.16 usd | ‚àö Executed | Sell securities
| 2022-07-06 14:46:40 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:46:39 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.68 usd | ‚àö Executed | Sell securities
| 2022-07-06 14:40:39 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:40:38 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.66 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-05 14:24:15 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-05 13:26:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:26:55 | BBG00JN4FXG8 | SLDB         | Shares     | 6         |       -3.59 usd | ‚àö Executed | Buy securities
| 2022-07-05 13:26:31 | BBG222222222 | TGLD         | Etfs       | 300       |      -22.29 usd | ‚àö Executed | Buy securities
| 2022-07-05 13:24:45 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |       -5.38 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:24:44 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 29        |    -1792.56 rub | ‚àö Executed | Buy securities
| 2022-07-05 13:24:26 | BBG00V9V16J8 | GOLD         | Etfs       | ‚Äî         |       -0.45 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:24:25 | BBG00V9V16J8 | GOLD         | Etfs       | 1972      |    +1797.68 rub | ‚àö Executed | Sell securities
| 2022-07-05 13:21:59 | BBG222222222 | TGLD         | Etfs       | 100       |       -7.44 usd | ‚àö Executed | Buy securities
| 2022-07-05 10:12:22 | BBG00V9V16J8 | GOLD         | Etfs       | ‚Äî         |       -0.01 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 10:12:21 | BBG00V9V16J8 | GOLD         | Etfs       | 11        |      +10.18 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-01 19:32:46 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 19:32:45 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.58 usd | ‚àö Executed | Sell securities
| 2022-07-01 18:13:04 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 18:13:03 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.56 usd | ‚àö Executed | Buy securities
| 2022-07-01 17:46:57 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Buy securities
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:55 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 17:46:55 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 09:22:15 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -0.34 rub | ‚àö Executed | Operation fee deduction
| 2022-07-01 09:22:14 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 13        |     -111.98 rub | ‚àö Executed | Buy securities
| 2022-07-01 09:20:21 | BBG222222222 | TGLD         | Etfs       | 200       |      -14.88 usd | ‚àö Executed | Buy securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:13:18,975] History of a client's operations are saved to file: [deals.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –∑–∞ —Ç—Ä–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω—è</summary>

```commandline
$ tksbrokerapi -d -3

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:29:15,026] # Client's operations

* **Period:** from [2022-07-25] to [2022-07-28]

## Summary (operations executed only)

| Report sections            |                               |                              |                      |                        |                   
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------|
| **Actions:**               | Operations executed: 13       | Trading volumes:             |                      |                        |
|                            |   Buy: 9 (69.2%)              |   rub, buy: -23138.58        |                      |                        |
|                            |   Sell: 4 (30.8%)             |   rub, sell: +9206.00        |                      |                        |
|                            |                               |   usd, buy: -593.50          |                      |                        |
|                            |                               |   usd, sell: +256.90         |                      |                        |
|                            |                               |                              |                      |                        |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:        |
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01          |
|                            |                               |                              |                      |                        |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections: |
|                            |   rub: -69.23                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00          |
|                            |   usd: -0.18                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî                    |
|                            |                               |                              |                      |                        |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:29:15,032] History of a client's operations are saved to file: [deals.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –∑–∞ –ø—Ä–æ—à–ª—É—é –Ω–µ–¥–µ–ª—é</summary>

```commandline
$ tksbrokerapi -d week

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:29:59,035] # Client's operations

* **Period:** from [2022-07-21] to [2022-07-28]

## Summary (operations executed only)

| Report sections            |                               |                              |                      |                        |                   
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------|
| **Actions:**               | Operations executed: 15       | Trading volumes:             |                      |                        |
|                            |   Buy: 10 (66.7%)             |   rub, buy: -23138.58        |                      |                        |
|                            |   Sell: 5 (33.3%)             |   rub, sell: +9206.00        |                      |                        |
|                            |                               |   usd, buy: -594.24          |                      |                        |
|                            |                               |   usd, sell: +259.04         |                      |                        |
|                            |                               |                              |                      |                        |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:        |
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01          |
|                            |                               |                              |                      |                        |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections: |
|                            |   rub: -69.23                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00          |
|                            |   usd: -0.20                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî                    |
|                            |                               |                              |                      |                        |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-22 14:48:50 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-22 14:48:49 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.14 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-21 17:21:21 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:17:06 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:16:17 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:11:30 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-21 17:11:29 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.74 usd | ‚àö Executed | Buy securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:29:59,045] History of a client's operations are saved to file: [deals.md]
```

</details>

#### –°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ä—ã–Ω–∫—É

–í –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--ticker` –∏–ª–∏ `--figi`, —á—Ç–æ–±—ã –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä. –î–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏ "–ø–æ —Ä—ã–Ω–∫—É", —Ç–æ –µ—Å—Ç—å –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –∫–ª—é—á `--trade`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 1 –¥–æ 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

- –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `Buy`–∏–ª–∏ `Sell` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1;
  - —É—Ä–æ–≤–µ–Ω—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
  - —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Ä—ã–Ω–∫—É `--buy` –∏–ª–∏ `--sell`, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1;
- —É—Ä–æ–≤–µ–Ω—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
- —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
- –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.
 
<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å</summary>

```commandline
$ tksbrokerapi --ticker IBM --trade Buy 1 131.5 125.1 "2022-07-28 12:00:00"

TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 18:56:49,032] [Buy] market order [447445558780] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1]. Total order price: [128.1000 usd] (with commission: [0.04 usd]). Average price of lot: [128.10 usd]
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 18:56:49,389] Stop-order [182892f7-9533-4817-94d9-613545a01ee1] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [131.50 usd], limit price [131.50 usd], stop-order type [Take profit] and expiration date in UTC [2022-07-28 09:00:00]
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 18:56:49,683] Stop-order [4ca044e8-607a-4636-ad27-3a9139cc964a] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [125.10 usd], limit price [125.10 usd], stop-order type [Stop loss] and expiration date in UTC [2022-07-28 09:00:00]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Ä–∞–Ω–µ–µ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è SL/TP –æ—Ä–¥–µ—Ä–æ–≤, —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --sell 1

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 19:00:39,673] TKSBrokerAPI module started at: [2022-07-27 16:00:39] (UTC), it is [2022-07-27 19:00:39] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 19:00:39,674] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 19:00:39,675] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 19:00:39,676] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 19:00:39,677] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 19:00:39,678] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,683] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 19:00:40,812] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 19:00:40,922] Opening [Sell] market order: ticker [IBM], FIGI [BBG000BLNNH6], lots [1], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 19:00:41,201] [Sell] market order [447451039340] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1]. Total order price: [128.0100 usd] (with commission: [0.04 usd]). Average price of lot: [128.01 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 19:00:41,203] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 19:00:41,204] TKSBrokerAPI module work duration: [0:00:01.530060]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 19:00:41,204] TKSBrokerAPI module finished: [2022-07-27 16:00:41] (UTC), it is [2022-07-27 19:00:41] local time
```

</details>

#### –û—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä

–í –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--ticker` –∏–ª–∏ `--figi`, —á—Ç–æ–±—ã –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –æ—Ä–¥–µ—Ä. –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –æ—Ä–¥–µ—Ä –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π –∫–ª—é—á `--order`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 4 –¥–æ 7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

- –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `Buy`–∏–ª–∏ `Sell` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞: `Limit` (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏) –∏–ª–∏ `Stop` (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –æ—Ç–º–µ–Ω—ã, –ª–∏–±–æ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤: 
  - —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî –≤–º–µ—Å—Ç–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –±—É–¥–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞);
  - —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ `Limit` –∏–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `SL`, `TP`, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–ª–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä–∞;
    - —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ;
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏) `--buy-limit` –∏–ª–∏ `--sell-limit`, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
  - –¥–ª—è –æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ `--buy-limit` —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, –∞ –µ—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã—à–µ, —Ç–æ –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –ø–æ–∫—É–ø–∫—É, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª–Ω–∏–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞ `--buy`;
  - –¥–ª—è –æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ `--sell-limit` —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, –∞ –µ—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–∏–∂–µ, —Ç–æ –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª–Ω–∏–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞ `--sell`.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤ (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –æ—Ç–º–µ–Ω—ã, –ª–∏–±–æ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã) `--buy-stop` (–Ω–∞ –ø–æ–∫—É–ø–∫—É) –∏–ª–∏ `--sell-stop` (–Ω–∞ –ø—Ä–æ–¥–∞–∂—É), –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ 3 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî –≤–º–µ—Å—Ç–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –±—É–¥–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞);
  - —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ `Limit` –∏–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `SL`, `TP`, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–ª–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä–∞;
    - —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ;
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∂—É, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–∞—Ç—ã –æ—Ç–º–µ–Ω—ã</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --order Sell Stop  1 130.2 130.1 TP  "2022-07-28 12:20:00"

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 22:15:20,137] TKSBrokerAPI module started at: [2022-07-27 19:15:20] (UTC), it is [2022-07-27 22:15:20] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 22:15:20,138] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 22:15:20,139] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 22:15:20,141] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 22:15:20,141] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 22:15:20,142] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 22:15:21,400] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2443 DEBUG   [2022-07-27 22:15:21,500] Creating stop-order: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [130.20 usd], limit price [130.10 usd], stop-order type [TP] and local expiration date [2022-07-28 12:20:00]. Wait, please...
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 22:15:21,671] Stop-order [********-****-****-****-************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [130.20 usd], limit price [130.10 usd], stop-order type [Take profit] and expiration date in UTC [2022-07-28 09:20:00]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 22:15:21,673] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 22:15:21,674] TKSBrokerAPI module work duration: [0:00:01.535746]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 22:15:21,675] TKSBrokerAPI module finished: [2022-07-27 19:15:21] (UTC), it is [2022-07-27 22:15:21] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ —Å –ø—Ä–æ–¥–∞–∂–µ–π –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è</summary>

```commandline
$ tksbrokerapi -t IBM --sell-stop 2 140 0 TP

TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 23:29:29,614] Stop-order [********-****-****-****-************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [2], target price [140.00 usd], limit price [140.00 usd], stop-order type [Take profit] and expiration date in UTC [Undefined]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É</summary>

```commandline
$ tksbrokerapi --debug-level=10 --ticker IBM --buy-limit 1 128.8

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 22:18:41,111] TKSBrokerAPI module started at: [2022-07-27 19:18:41] (UTC), it is [2022-07-27 22:18:41] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 22:18:41,111] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 22:18:41,111] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 22:18:41,111] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 22:18:41,111] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 22:18:41,111] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,118] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,120] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 22:18:42,032] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2398 DEBUG   [2022-07-27 22:18:42,134] Creating pending limit-order: ticker [IBM], FIGI [BBG000BLNNH6], action [Buy], lots [1] and the target price [128.80 usd]. Wait, please...
TKSBrokerAPI.py     L:2417 INFO    [2022-07-27 22:18:42,358] Limit-order [************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Buy], lots [1], target price [128.80 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 22:18:42,359] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 22:18:42,359] TKSBrokerAPI module work duration: [0:00:01.248221]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 22:18:42,359] TKSBrokerAPI module finished: [2022-07-27 19:18:42] (UTC), it is [2022-07-27 22:18:42] local time
```

</details>

#### –û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏

–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤ –∏ —Ç–∏–∫–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–∫—Ä—ã—Ç—ã –ø–æ–∑–∏—Ü–∏–∏, –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –∫–ª–∏–µ–Ω—Ç–∞, –∑–∞–ø—É—Å—Ç–∏–≤ –∫–æ–º–∞–Ω–¥—É `tksbrokerapi --overview`. –û–Ω–∏ –±—É–¥—É—Ç –Ω—É–∂–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∏–∂–µ.

–î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ–¥–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –ø–æ –µ–≥–æ ID –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--close-order` (`--cancel-order`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ä–¥–µ—Ä–∞. –î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–ª—é—á `--close-orders` (`--cancel-orders`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤.

–î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–∫–∞–∫ –≤ "–ª–æ–Ω–≥", —Ç–∞–∫ –∏ –≤ "—à–æ—Ä—Ç") –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--close-trade` (`--cancel-trade`), –ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –∫–ª—é—á–æ–º `--ticker` –∏–ª–∏ FIGI —Å –∫–ª—é—á–æ–º `--figi`. –ü–æ —Ñ–∞–∫—Ç—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–º –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏. –î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–ª—é—á `--close-trades` (`--cancel-trades`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã –∏–ª–∏ FIGI (–∫–ª—é—á–∏ `--ticker` –∏–ª–∏ `--figi` —É–∂–µ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –æ–±—â–∏–π –∫–ª—é—á `--close-all` (`--cancel-all`). –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –æ—Ä–¥–µ—Ä–æ–≤, –∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤. –°–Ω–∞—á–∞–ª–∞ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Ä–¥–µ—Ä–∞, –∏–Ω–∞—á–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ —á–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ —É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ó–∞—Ç–µ–º –ø–æ-–ø–æ—Ä—è–¥–∫—É –±—É–¥—É—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º: –∞–∫—Ü–∏—è–º, –æ–±–ª–∏–≥–∞—Ü–∏—è–º, —Ñ–æ–Ω–¥–∞–º –∏ —Ñ—å—é—á–µ—Ä—Å–∞–º. –≠—Ç–æ—Ç –∫–ª—é—á –±–æ–ª–µ–µ —É–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏, —á–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏.

‚ùó –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ TKSBrokerAPI –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º –Ω–µ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã —Å –∫–ª—é—á–æ–º `--close-all` (`--cancel-all`). –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ —Ö–æ—Ç–µ—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å–≤–æ–∏—Ö –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —á—Ç–æ–±—ã –ø–æ–∫—É–ø–∞—Ç—å –Ω–∞ —ç—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –±—É–¥—É—â–µ–º. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–∏ `--buy`, `--sell`, `--close-trade` –∏–ª–∏ `--close-trades`.

–î–ª—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--close-all` (`--cancel-all`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∏–ø–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–∞–º–∏:
- `orders` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –æ—Ä–¥–µ—Ä–∞ (–∏ –ª–∏–º–∏—Ç–Ω—ã–µ, –∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞),
- `shares` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –∞–∫—Ü–∏—è–º,
- `bonds` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º,
- `etfs` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥–∞–º,
- `futures` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º,
- –Ω–æ, –Ω–µ–ª—å–∑—è —É–∫–∞–∑—ã–≤–∞—Ç—å `currencies` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º, –∏–∑-–∑–∞ –ø—Ä–∏—á–∏–Ω, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ.

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.5.* –ø–æ—è–≤–∏–ª–∞—Å—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--close-all` —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–∞–º–∏ `--ticker` –∏–ª–∏ `--figi`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–π –∏ –≤—Å–µ—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –∏ —Å—Ç–æ–ø –æ—Ä–¥–µ—Ä–æ–≤ —Ç–æ–ª—å–∫–æ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–º–µ–Ω—ã –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É</summary>

```commandline
$ tksbrokerapi -v 10 --cancel-order ********-****-****-****-************

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:16:55,978] TKSBrokerAPI module started at: [2022-07-27 20:16:55] (UTC), it is [2022-07-27 23:16:55] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:16:55,979] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:16:55,980] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:16:55,981] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:16:55,982] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:16:55,983] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:16:56,959] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:16:57,077] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:16:57,078] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:16:57,187] [6] records about stop orders successfully received
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:16:57,188] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:16:57,317] Success time marker received from server: [2022-07-27T20:16:57.288786707Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:16:57,318] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:16:57,319] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:16:57,319] TKSBrokerAPI module work duration: [0:00:01.340621]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:16:57,320] TKSBrokerAPI module finished: [2022-07-27 20:16:57] (UTC), it is [2022-07-27 23:16:57] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥—É (–ø—Ä–∏–º–µ—Ä –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏, —Ç–∞–∫ –∫–∞–∫ —Ä—ã–Ω–æ–∫ —É–∂–µ –∑–∞–∫—Ä—ã—Ç)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker TGLD --close-trade

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:20:32,745] TKSBrokerAPI module started at: [2022-07-27 20:20:32] (UTC), it is [2022-07-27 23:20:32] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:20:32,746] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:20:32,746] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:20:32,746] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:20:32,747] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:20:32,747] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,751] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,751] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1035 DEBUG   [2022-07-27 23:20:34,316] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1041 DEBUG   [2022-07-27 23:20:34,468] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1052 DEBUG   [2022-07-27 23:20:34,469] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1058 DEBUG   [2022-07-27 23:20:34,582] Records about current open positions successfully received
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:20:34,583] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:20:34,682] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:20:34,683] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:20:34,793] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,805] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,907] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,993] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,077] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,192] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2264 DEBUG   [2022-07-27 23:20:35,285] All opened instruments by it's tickers names: ['EUR_RUB__TOM', 'CNYRUB_TOM', 'CHFRUB_TOM', 'GBPRUB_TOM', 'TRYRUB_TOM', 'USD000UTSTOM', 'HKDRUB_TOM', 'POSI', 'IBM', 'RU000A101YV8', 'TGLD']
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:20:35,286] Closing trade of instrument: ticker [TGLD], FIGI[BBG222222222], lots [2700]. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,286] Requesting current prices for instrument with ticker [TGLD] and FIGI [BBG222222222]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:20:35,386] Opening [Sell] market order: ticker [TGLD], FIGI [BBG222222222], lots [27.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please... TKSBrokerAPI.py     L:358  DEBUG   [2022-07-27 23:20:35,485]     - not oK status code received: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:368  ERROR   [2022-07-27 23:20:35,486] Not `oK` status received from broker server!
TKSBrokerAPI.py     L:369  ERROR   [2022-07-27 23:20:35,486]     - message: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:2206 WARNING [2022-07-27 23:20:35,487] Not `oK` status received! Market order not created. See full debug log or try again and open order later.
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:20:35,488] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:20:35,488] TKSBrokerAPI module work duration: [0:00:02.742544]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:20:35,488] TKSBrokerAPI module finished: [2022-07-27 20:20:35] (UTC), it is [2022-07-27 23:20:35] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–º–µ–Ω—ã –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ –∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –ø–æ –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–∫—Ü–∏—è–º</summary>

```commandline
$ tksbrokerapi --debug-level=10 --close-all orders shares
TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:25:36,481] TKSBrokerAPI module started at: [2022-07-27 20:25:36] (UTC), it is [2022-07-27 23:25:36] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:25:36,482] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:25:36,483] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:25:36,484] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:25:36,485] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:25:36,485] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1035 DEBUG   [2022-07-27 23:25:37,568] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1041 DEBUG   [2022-07-27 23:25:37,742] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1052 DEBUG   [2022-07-27 23:25:37,743] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1058 DEBUG   [2022-07-27 23:25:37,831] Records about current open positions successfully received
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:25:37,832] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:25:37,934] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:25:37,934] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:25:38,049] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:38,058] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:38,165] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:2663 DEBUG   [2022-07-27 23:25:38,534] Closing all available ['orders', 'shares']. Currency positions you must closes manually using buy or sell operations! Wait, please...
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:25:38,535] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:25:38,639] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:25:38,639] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:25:38,774] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:2636 INFO    [2022-07-27 23:25:38,775] Found: [1] opened pending and [5] stop orders. Let's trying to cancel it all. Wait, please...
TKSBrokerAPI.py     L:2591 DEBUG   [2022-07-27 23:25:38,776] Cancelling pending order with ID: [************]. Wait, please...
TKSBrokerAPI.py     L:2599 DEBUG   [2022-07-27 23:25:38,939] Success time marker received from server: [2022-07-27T20:25:38.908221Z] (UTC)
TKSBrokerAPI.py     L:2600 INFO    [2022-07-27 23:25:38,940] Pending order with ID [************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:38,941] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,201] Success time marker received from server: [2022-07-27T20:25:39.171270508Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,202] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,202] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,336] Success time marker received from server: [2022-07-27T20:25:39.306369844Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,337] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,337] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,438] Success time marker received from server: [2022-07-27T20:25:39.410229318Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,439] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,439] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,565] Success time marker received from server: [2022-07-27T20:25:39.534114123Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,566] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,567] Cancelling stop order with ID: [************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,745] Success time marker received from server: [2022-07-27T20:25:39.714517992Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,746] Stop order with ID [************] successfully cancel
TKSBrokerAPI.py     L:2325 DEBUG   [2022-07-27 23:25:39,747] Instrument tickers with type [Shares] that will be closed: ['POSI', 'IBM']
TKSBrokerAPI.py     L:2264 DEBUG   [2022-07-27 23:25:39,747] All opened instruments by it's tickers names: ['EUR_RUB__TOM', 'CNYRUB_TOM', 'CHFRUB_TOM', 'GBPRUB_TOM', 'TRYRUB_TOM', 'USD000UTSTOM', 'HKDRUB_TOM', 'POSI', 'IBM', 'RU000A101YV8', 'TGLD']
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:25:39,748] Closing trade of instrument: ticker [POSI], FIGI[TCS00A103X66], lots [1]. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:39,749] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:25:39,855] Opening [Sell] market order: ticker [POSI], FIGI [TCS00A103X66], lots [1.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:358  DEBUG   [2022-07-27 23:25:39,947]     - not oK status code received: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:368  ERROR   [2022-07-27 23:25:39,948] Not `oK` status received from broker server!
TKSBrokerAPI.py     L:369  ERROR   [2022-07-27 23:25:39,948]     - message: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:2206 WARNING [2022-07-27 23:25:39,949] Not `oK` status received! Market order not created. See full debug log or try again and open order later.
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:25:39,949] Closing trade of instrument: ticker [IBM], FIGI[BBG000BLNNH6], lots [2], blocked [1]. Wait, please...
TKSBrokerAPI.py     L:2300 WARNING [2022-07-27 23:25:39,950] Just for your information: there are [1] lots blocked for instrument [IBM]! Available only [1.0] lots to closing trade.
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:39,950] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:25:40,042] Opening [Sell] market order: ticker [IBM], FIGI [BBG000BLNNH6], lots [1.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 23:25:40,685] [Sell] market order [447747151970] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1.0]. Total order price: [128.8900 usd] (with commission: [0.04 usd]). Average price of lot: [128.89 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:25:40,686] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:25:40,686] TKSBrokerAPI module work duration: [0:00:04.204806]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:25:40,687] TKSBrokerAPI module finished: [2022-07-27 20:25:40] (UTC), it is [2022-07-27 23:25:40] local time
```

</details>

#### –°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ OHLCV-—Å–≤–µ—á–µ–π

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.3.70 –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–ª—É—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Ü–µ–Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ OHLCV-—Å–≤–µ—á–µ–π. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ `--ticker` –∏–ª–∏ –∫–ª—é—á–∞ `--figi` (FIGI id), –∑–∞–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å–≤–µ—á–∏ –≤–æ–∑–º–æ–∂–Ω–æ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ `--interval`. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--only-missing`, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å TKSBrokerAPI –∑–∞–≥—Ä—É–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —Å–≤–µ—á–∏ –≤ —Ä–∞–Ω–µ–µ —Å–∫–∞—á–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ. –ï—Å–ª–∏ –∫–ª—é—á `--output` –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —Ç–æ TKSBrokerAPI —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤ —Ñ–∞–π–ª, –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ Pandas DataFrame. –ö–ª—é—á `--csv-sep` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å –≤ csv-—Ñ–∞–π–ª–∞—Ö.

–ò—Å—Ç–æ—Ä–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –º–µ–∂–¥—É –¥–≤—É–º—è –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏: `start` –∏ `end`. –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ç–æ—Ä–æ–π —Å–µ—Ä–≤–µ—Ä –æ—Ç–¥–∞—ë—Ç –∏—Å—Ç–æ—Ä–∏—é, —ç—Ç–æ `1970-01-01`. **–í–∞–∂–Ω–æ!** –°–µ—Ä–≤–µ—Ä –±—Ä–æ–∫–µ—Ä–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Ä–µ–º—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO UTC.

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.4.90 –≤—ã –º–æ–∂–µ—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–≤–µ—á–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ü–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É—è –±–∏–±–ª–∏–æ—Ç–µ–∫—É [PriceGenerator](https://github.com/Tim55667757/PriceGenerator)). –ò—Å—Ç–æ—á–Ω–∏–∫–æ–º —Ü–µ–Ω –ø—Ä–∏ —ç—Ç–æ–º –º–æ–≥—É—Ç –±—ã—Ç—å –∫–∞–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –¥–∞–Ω–Ω—ã–µ, —Ç–∞–∫ –∏ —Ä–∞–Ω–µ–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ csv-—Ñ–æ—Ä–º–∞—Ç–µ. –î–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Ü–µ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –∫–ª—é—á `--render-chart`, –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –æ–¥–Ω–∏–º –∏–∑ –∫–ª—é—á–µ–π `--history` (–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞) –∏–ª–∏ `--load-history` (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ csv-—Ñ–∞–π–ª–∞).

–ü–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ —Ç–∏–ø–∞ –±—É–¥—É—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –∫–∞–∫ –ø–æ–∫–∞–∑–∞–Ω–æ –Ω–∏–∂–µ (—Å–º–æ—Ç—Ä–∏—Ç–µ —Ç–∞–∫–∂–µ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–∞–º–∏). –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª `index.html`. –ù–∞ –≥—Ä–∞—Ñ–∏–∫–∞—Ö –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –æ–¥–Ω–∞–∫–æ –æ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –ª–∏—à—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω–∏—è —Å –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º —Ü–µ–Ω—ã –≤ –∑–∞–¥–∞–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ. –î–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞.

| –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫                                                                         | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –≥—Ä–∞—Ñ–∏–∫                                                                                  |
|----------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
| ![](https://github.com/Tim55667757/PriceGenerator/blob/master/media/index.html.png?raw=true) | ![](https://github.com/Tim55667757/PriceGenerator/blob/master/media/index_google.html.png?raw=true) |

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏—Ö —Ü–µ–Ω —á–∞—Å–æ–≤—ã–º–∏ —Å–≤–µ—á–∞–º–∏</summary>

```commandline
$ tksbrokerapi -v 10 -t GAZP --interval hour --history today 

TKSBrokerAPI.py     L:3108 DEBUG   [2022-09-04 14:08:40,443] TKSBrokerAPI module started at: [2022-09-04 11:08:40] UTC, it is [2022-09-04 14:08:40] local time
TKSBrokerAPI.py     L:207  DEBUG   [2022-09-04 14:08:40,443] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:219  DEBUG   [2022-09-04 14:08:40,443] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:249  DEBUG   [2022-09-04 14:08:40,443] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:303  WARNING [2022-09-04 14:08:40,443] Local cache may be outdated! It has last modified [2022-09-03 19:51:24] UTC. Updating from broker server, wait, please...
TKSBrokerAPI.py     L:452  DEBUG   [2022-09-04 14:08:40,443] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:453  DEBUG   [2022-09-04 14:08:40,443] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:430  DEBUG   [2022-09-04 14:08:40,479] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:430  DEBUG   [2022-09-04 14:08:40,479] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:430  DEBUG   [2022-09-04 14:08:40,479] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:430  DEBUG   [2022-09-04 14:08:40,479] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:430  DEBUG   [2022-09-04 14:08:40,479] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:501  INFO    [2022-09-04 14:08:41,919] New cache of instruments data was created: [dump.json]
TKSBrokerAPI.py     L:137  DEBUG   [2022-09-04 14:08:41,919] Input start day is [today] (UTC), end day is [None] (UTC)
TKSBrokerAPI.py     L:175  DEBUG   [2022-09-04 14:08:41,919] Start day converted to UTC ISO format, with Z: [2022-09-04T00:00:00Z], and the end day: [2022-09-04T23:59:59Z]
TKSBrokerAPI.py     L:2239 DEBUG   [2022-09-04 14:08:41,920] Original requested time period in local time: from [today] to [None]
TKSBrokerAPI.py     L:2240 DEBUG   [2022-09-04 14:08:41,920] Requested time period is about from [2022-09-04T00:00:00Z] UTC to [2022-09-04T23:59:59Z] UTC
TKSBrokerAPI.py     L:2241 DEBUG   [2022-09-04 14:08:41,920] Calculated history length: [24], interval: [hour]
TKSBrokerAPI.py     L:2242 DEBUG   [2022-09-04 14:08:41,920] Data blocks, count: [1], max candles in block: [167]
TKSBrokerAPI.py     L:2243 DEBUG   [2022-09-04 14:08:41,920] Requesting history candlesticks, ticker: [GAZP], FIGI: [BBG004730RP0]. Wait, please...
TKSBrokerAPI.py     L:2275 DEBUG   [2022-09-04 14:08:41,920] [Block #1/1] time period: [2022-09-04T00:00:00Z] UTC - [2022-09-05T00:00:00Z] UTC
TKSBrokerAPI.py     L:2340 DEBUG   [2022-09-04 14:08:42,024] Last 3 rows of received history:
      date  time   open   high    low  close  volume
2022.09.04 09:00 253.82 255.43 252.81 252.95    3506
2022.09.04 10:00 252.95 255.36 252.55 254.02    3522
2022.09.04 11:00 254.02 255.05 253.22 254.26     574
TKSBrokerAPI.py     L:2343 INFO    [2022-09-04 14:08:42,026] Here's requested history between [2022-09-04 00:00:00] UTC and [2022-09-04 23:59:59] UTC, not-empty candles count: [5]
      date  time   open   high    low  close  volume
2022.09.04 07:00 254.21 254.92 253.14 254.48    6635
2022.09.04 08:00 253.45 254.98 251.99 253.79    4048
2022.09.04 09:00 253.82 255.43 252.81 252.95    3506
2022.09.04 10:00 252.95 255.36 252.55 254.02    3522
2022.09.04 11:00 254.02 255.05 253.22 254.26     574
TKSBrokerAPI.py     L:2357 DEBUG   [2022-09-04 14:08:42,026] --output key is not defined. Parsed history file not saved to file, only Pandas DataFrame returns.
TKSBrokerAPI.py     L:3354 DEBUG   [2022-09-04 14:08:42,026] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3359 DEBUG   [2022-09-04 14:08:42,026] TKSBrokerAPI module work duration: [0:00:01.582813]
TKSBrokerAPI.py     L:3360 DEBUG   [2022-09-04 14:08:42,026] TKSBrokerAPI module finished: [2022-09-04 11:08:42] UTC, it is [2022-09-04 14:08:42] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–Ω–µ–≤–Ω—ã—Ö —Å–≤–µ—á–µ–π –º–µ–∂–¥—É –¥–≤—É–º—è —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏</summary>

```commandline
$ tksbrokerapi -t IBM --history 2022-08-01 2022-08-31 --interval day

TKSBrokerAPI.py     L:2343 INFO    [2022-09-04 14:21:05,788] Here's requested history between [2022-08-01 00:00:00] UTC and [2022-08-31 23:59:59] UTC, not-empty candles count: [24]
      date  time   open   high    low  close  volume
2022.08.01 04:00 131.01 132.70 130.20 132.04  648608
2022.08.02 04:00 131.60 132.95 130.51 132.95  567640
2022.08.03 04:00 132.76 132.91 131.35 132.01  437408
2022.08.04 04:00 132.36 132.75 130.69 131.53  401974
2022.08.05 04:00 131.49 132.90 130.58 132.30  307648
2022.08.08 04:00 132.81 133.74 132.11 132.75  475499
2022.08.09 04:00 130.89 131.37 129.12 129.49  438811
2022.08.10 04:00 129.59 131.78 129.24 131.26  671500
2022.08.11 04:00 131.64 133.23 131.37 132.16  504115
2022.08.12 04:00 132.57 134.10 131.97 134.00  316447
2022.08.15 04:00 133.59 135.20 132.23 134.93  334782
2022.08.16 04:00 134.03 137.37 133.97 137.25  587223
2022.08.17 04:00 136.86 138.42 136.01 137.67  505083
2022.08.18 04:00 137.11 139.12 136.84 139.00  524103
2022.08.19 04:00 138.37 139.34 136.79 138.09  381548
2022.08.22 04:00 136.82 137.84 135.35 135.66  487278
2022.08.23 04:00 134.51 136.08 134.47 134.84  339339
2022.08.24 04:00 134.75 135.08 133.06 133.27  338234
2022.08.25 04:00 133.33 134.44 133.07 133.99  401394
2022.08.26 04:00 133.56 135.09 130.02 130.37  691667
2022.08.29 04:00 130.36 131.42 129.47 130.41  376955
2022.08.30 04:00 130.31 131.23 129.29 129.60  316821
2022.08.31 04:00 129.13 130.14 128.41 128.88  399543
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã—Ö —Å–≤–µ—á–µ–π –≤ —Ä–∞–Ω–µ–µ —Å–∫–∞—á–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –∏—Å—Ç–æ—Ä–∏–∏</summary>

```commandline
$ tksbrokerapi --ticker GAZP --interval day --history 2022-08-15 2022-09-01 --only-missing --output GAZP_day.csv --verbosity 10

TKSBrokerAPI.py     L:3109 DEBUG   [2022-09-04 14:31:27,548] TKSBrokerAPI module started at: [2022-09-04 11:31:27] UTC, it is [2022-09-04 14:31:27] local time
TKSBrokerAPI.py     L:207  DEBUG   [2022-09-04 14:31:27,549] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:219  DEBUG   [2022-09-04 14:31:27,549] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:249  DEBUG   [2022-09-04 14:31:27,549] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:310  DEBUG   [2022-09-04 14:31:27,583] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:311  DEBUG   [2022-09-04 14:31:27,583] Dump file was last modified [2022-09-04 11:08:41] UTC
TKSBrokerAPI.py     L:137  DEBUG   [2022-09-04 14:31:27,583] Input start day is [2022-08-15] (UTC), end day is [2022-09-01] (UTC)
TKSBrokerAPI.py     L:175  DEBUG   [2022-09-04 14:31:27,585] Start day converted to UTC ISO format, with Z: [2022-08-15T00:00:00Z], and the end day: [2022-09-01T23:59:59Z]
TKSBrokerAPI.py     L:2240 DEBUG   [2022-09-04 14:31:27,586] Original requested time period in local time: from [2022-08-15] to [2022-09-01]
TKSBrokerAPI.py     L:2241 DEBUG   [2022-09-04 14:31:27,586] Requested time period is about from [2022-08-15T00:00:00Z] UTC to [2022-09-01T23:59:59Z] UTC
TKSBrokerAPI.py     L:2242 DEBUG   [2022-09-04 14:31:27,586] Calculated history length: [18], interval: [day]
TKSBrokerAPI.py     L:2243 DEBUG   [2022-09-04 14:31:27,586] Data blocks, count: [1], max candles in block: [364]
TKSBrokerAPI.py     L:2244 DEBUG   [2022-09-04 14:31:27,586] Requesting history candlesticks, ticker: [GAZP], FIGI: [BBG004730RP0]. Wait, please...
TKSBrokerAPI.py     L:2250 DEBUG   [2022-09-04 14:31:27,586] --only-missing key present, add only last missing candles...
TKSBrokerAPI.py     L:2251 DEBUG   [2022-09-04 14:31:27,586] History file will be updated: [/Users/tim/projects/TKSBrokerAPI/tksbrokerapi/GAZP_day.csv]
TKSBrokerAPI.py     L:2276 DEBUG   [2022-09-04 14:31:27,589] [Block #1/1] time period: [2022-08-14T23:59:59Z] UTC - [2022-09-01T23:59:59Z] UTC
TKSBrokerAPI.py     L:2331 DEBUG   [2022-09-04 14:31:27,704] History will be updated starting from the date: [2022-08-24 07:00:00]
TKSBrokerAPI.py     L:2341 DEBUG   [2022-09-04 14:31:27,706] Last 3 rows of received history:
      date  time   open   high    low  close   volume
2022.08.30 07:00 190.45 204.20 190.45 204.00 11254642
2022.08.31 07:00 224.40 275.96 224.40 254.90 23933088
2022.09.01 07:00 258.00 259.85 247.62 249.11  8366161
TKSBrokerAPI.py     L:2344 INFO    [2022-09-04 14:31:27,707] Here's requested history between [2022-08-15 00:00:00] UTC and [2022-09-01 23:59:59] UTC, not-empty candles count: [11]
      date  time   open   high    low  close   volume
2022.08.22 07:00 177.40 182.20 176.88 181.70  2279598
2022.08.23 07:00 182.39 185.80 182.10 184.30  2693193
2022.08.24 07:00 184.70 186.66 182.19 182.83  1756229
2022.08.25 07:00 183.00 184.60 180.80 181.90  1490493
2022.08.26 07:00 181.70 184.20 180.50 183.62  1301585
2022.08.27 07:00 183.99 185.24 181.90 183.83    15471
2022.08.28 07:00 184.57 185.60 183.20 184.07    10622
2022.08.29 07:00 183.15 190.00 182.65 190.00  3057446
2022.08.30 07:00 190.45 204.20 190.45 204.00 11254642
2022.08.31 07:00 224.40 275.96 224.40 254.90 23933088
2022.09.01 07:00 258.00 259.85 247.62 249.11  8366161
TKSBrokerAPI.py     L:2352 INFO    [2022-09-04 14:31:27,708] Ticker [GAZP], FIGI [BBG004730RP0], tf: [day], history saved: [GAZP_day.csv]
TKSBrokerAPI.py     L:3355 DEBUG   [2022-09-04 14:31:27,708] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3360 DEBUG   [2022-09-04 14:31:27,708] TKSBrokerAPI module work duration: [0:00:00.159508]
TKSBrokerAPI.py     L:3361 DEBUG   [2022-09-04 14:31:27,708] TKSBrokerAPI module finished: [2022-09-04 11:31:27] UTC, it is [2022-09-04 14:31:27] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 –¥–Ω—è –≤ –≤–∏–¥–µ 15-–º–∏–Ω—É—Ç–Ω—ã—Ö —Å–≤–µ—á–µ–π –∏ –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ csv-—Ñ–∞–π–ª</summary>

```commandline
$ tksbrokerapi -v 10 --history -2 -t GAZP --interval 15min --output GAZP_15min.csv 

TKSBrokerAPI.py     L:3109 DEBUG   [2022-09-04 14:49:45,559] TKSBrokerAPI module started at: [2022-09-04 11:49:45] UTC, it is [2022-09-04 14:49:45] local time
TKSBrokerAPI.py     L:207  DEBUG   [2022-09-04 14:49:45,559] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:219  DEBUG   [2022-09-04 14:49:45,559] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:249  DEBUG   [2022-09-04 14:49:45,559] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:310  DEBUG   [2022-09-04 14:49:45,594] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:311  DEBUG   [2022-09-04 14:49:45,594] Dump file was last modified [2022-09-04 11:08:41] UTC
TKSBrokerAPI.py     L:137  DEBUG   [2022-09-04 14:49:45,594] Input start day is [-2] (UTC), end day is [None] (UTC)
TKSBrokerAPI.py     L:175  DEBUG   [2022-09-04 14:49:45,594] Start day converted to UTC ISO format, with Z: [2022-09-03T00:00:00Z], and the end day: [2022-09-04T23:59:59Z]
TKSBrokerAPI.py     L:2240 DEBUG   [2022-09-04 14:49:45,594] Original requested time period in local time: from [-2] to [None]
TKSBrokerAPI.py     L:2241 DEBUG   [2022-09-04 14:49:45,595] Requested time period is about from [2022-09-03T00:00:00Z] UTC to [2022-09-04T23:59:59Z] UTC
TKSBrokerAPI.py     L:2242 DEBUG   [2022-09-04 14:49:45,595] Calculated history length: [192], interval: [15min]
TKSBrokerAPI.py     L:2243 DEBUG   [2022-09-04 14:49:45,595] Data blocks, count: [3], max candles in block: [95]
TKSBrokerAPI.py     L:2244 DEBUG   [2022-09-04 14:49:45,595] Requesting history candlesticks, ticker: [GAZP], FIGI: [BBG004730RP0]. Wait, please...
TKSBrokerAPI.py     L:2276 DEBUG   [2022-09-04 14:49:45,595] [Block #1/3] time period: [2022-09-04T00:15:00Z] UTC - [2022-09-05T00:00:00Z] UTC
TKSBrokerAPI.py     L:2276 DEBUG   [2022-09-04 14:49:45,699] [Block #2/3] time period: [2022-09-03T00:30:00Z] UTC - [2022-09-04T00:15:00Z] UTC
TKSBrokerAPI.py     L:2276 DEBUG   [2022-09-04 14:49:45,788] [Block #3/3] time period: [2022-09-03T00:00:00Z] UTC - [2022-09-03T00:30:00Z] UTC
TKSBrokerAPI.py     L:2341 DEBUG   [2022-09-04 14:49:45,871] Last 3 rows of received history:
      date  time   open   high    low  close  volume
2022.09.04 11:15 253.27 254.89 252.94 254.45    1159
2022.09.04 11:30 254.47 254.73 253.18 253.31     800
2022.09.04 11:45 254.21 254.37 253.20 253.29     121
TKSBrokerAPI.py     L:2344 INFO    [2022-09-04 14:49:45,875] Here's requested history between [2022-09-03 00:00:00] UTC and [2022-09-04 23:59:59] UTC, not-empty candles count: [56]
      date  time   open   high    low  close  volume
2022.09.03 07:00 251.77 255.06 250.86 252.73   10446
2022.09.03 07:15 252.74 253.95 251.28 252.29    2716
2022.09.03 07:30 251.28 252.55 249.44 250.88    8297
2022.09.03 07:45 250.97 252.00 249.69 252.00    3457
2022.09.03 08:00 252.01 252.66 250.71 251.44    1666
2022.09.03 08:15 252.46 252.84 251.11 252.59    1725
2022.09.03 08:30 251.54 253.52 250.79 252.15    2256
2022.09.03 08:45 252.15 252.76 250.67 252.22    1150
2022.09.03 09:00 252.22 252.55 250.65 252.55    1286
2022.09.03 09:15 252.55 253.29 251.16 252.20    1237
2022.09.03 09:30 251.15 254.48 251.13 253.47    4115
2022.09.03 09:45 253.49 253.69 251.61 252.78    1341
2022.09.03 10:00 252.79 253.57 251.80 253.05     878
2022.09.03 10:15 252.02 253.66 251.87 252.39     901
2022.09.03 10:30 252.33 253.49 251.97 253.02     734
2022.09.03 10:45 253.03 253.18 251.30 251.87    1451
2022.09.03 11:00 251.86 253.32 251.86 253.25     902
2022.09.03 11:15 251.98 253.53 251.62 253.25    1198
2022.09.03 11:30 253.26 253.80 252.22 253.61     989
2022.09.03 11:45 252.59 253.81 252.16 252.19     964
2022.09.03 12:00 253.24 253.85 251.65 253.49    1698
2022.09.03 12:15 253.50 254.31 252.13 252.84    1737
2022.09.03 12:30 253.87 254.64 252.55 254.00    1245
2022.09.03 12:45 252.97 254.13 252.34 253.48     613
2022.09.03 13:00 253.49 253.85 252.41 253.85     457
2022.09.03 13:15 253.85 254.19 252.48 252.48     889
2022.09.03 13:30 252.47 254.54 252.41 254.19     879
2022.09.03 13:45 253.16 254.40 252.52 253.93     877
2022.09.03 14:00 252.90 254.01 252.45 253.67     550
2022.09.03 14:15 252.64 253.75 252.40 252.40     344
2022.09.03 14:30 253.43 254.08 252.41 253.69     487
2022.09.03 14:45 252.66 254.08 252.47 253.51     682
2022.09.03 15:00 252.48 253.87 252.47 253.87     357
2022.09.03 15:15 253.88 253.89 252.01 253.60     892
2022.09.03 15:30 252.57 253.72 252.28 252.39     459
2022.09.03 15:45 253.49 254.68 252.57 253.20     641
2022.09.04 07:00 254.21 254.92 253.14 254.31    1669
2022.09.04 07:15 254.32 254.90 253.20 254.39    1604
2022.09.04 07:30 253.36 254.80 253.20 253.69    1206
2022.09.04 07:45 253.69 254.90 253.19 254.48    2156
2022.09.04 08:00 253.45 254.59 252.48 253.62    1057
2022.09.04 08:15 252.59 254.98 252.58 254.40    1034
2022.09.04 08:30 253.37 254.53 251.99 253.81    1133
2022.09.04 08:45 253.82 254.22 252.55 253.79     824
2022.09.04 09:00 253.82 254.27 252.81 254.27     674
2022.09.04 09:15 253.24 254.59 252.98 254.09     481
2022.09.04 09:30 253.07 254.59 253.07 254.47     671
2022.09.04 09:45 254.54 255.43 252.95 252.95    1680
2022.09.04 10:00 252.95 255.14 252.95 253.52     888
2022.09.04 10:15 254.55 254.60 252.55 253.82     811
2022.09.04 10:30 252.79 254.31 252.65 254.31     373
2022.09.04 10:45 253.29 255.36 253.26 254.02    1450
2022.09.04 11:00 254.02 255.05 253.14 254.30     718
2022.09.04 11:15 253.27 254.89 252.94 254.45    1159
2022.09.04 11:30 254.47 254.73 253.18 253.31     800
2022.09.04 11:45 254.21 254.37 253.20 253.29     121
TKSBrokerAPI.py     L:2352 INFO    [2022-09-04 14:49:45,876] Ticker [GAZP], FIGI [BBG004730RP0], tf: [15min], history saved: [GAZP_15min.csv]
TKSBrokerAPI.py     L:3355 DEBUG   [2022-09-04 14:49:45,876] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3360 DEBUG   [2022-09-04 14:49:45,876] TKSBrokerAPI module work duration: [0:00:00.316572]
TKSBrokerAPI.py     L:3361 DEBUG   [2022-09-04 14:49:45,876] TKSBrokerAPI module finished: [2022-09-04 11:49:45] UTC, it is [2022-09-04 14:49:45] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–µ—á–µ–π —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –Ω–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Ü–µ–Ω</summary>

–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ñ–∞–π–ª–µ [./docs/media/GAZP_hour.csv](./docs/media/GAZP_hour.csv), –∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ñ–∞–π–ª–µ [./docs/media/index_GAZP_google_chart.html](./docs/media/index_GAZP_google_chart.html).

![](./docs/media/index_GAZP_google_chart.png)

```commandline
$ tksbrokerapi -t GAZP --history 2022-10-15 2022-10-17 --output GAZP_hour.csv --render-chart ni

TKSBrokerAPI.py     L:2498 INFO    [2022-10-18 15:23:35,398] Here's requested history between [2022-10-15 00:00:00] UTC and [2022-10-17 23:59:59] UTC, not-empty candles count: [32]
      date  time   open   high    low  close  volume
2022.10.15 07:00 159.86 160.48 159.21 160.47    1758
2022.10.15 08:00 160.48 160.97 159.46 160.18    3365
2022.10.15 09:00 160.82 160.88 159.78 160.77    2009
2022.10.15 10:00 160.78 160.98 160.01 160.70    2134
2022.10.15 11:00 160.70 161.27 160.00 161.16    2585
2022.10.15 12:00 160.51 161.34 160.10 160.80    2093
2022.10.15 13:00 160.14 161.16 160.14 160.46    1533
2022.10.15 14:00 161.12 161.98 160.34 161.54    2148
2022.10.15 15:00 160.88 161.75 160.57 161.59    1928
2022.10.16 07:00 161.59 161.84 160.69 161.69    3488
2022.10.16 08:00 161.04 162.08 160.72 161.61    3962
2022.10.16 09:00 161.62 162.06 160.56 161.57    2765
2022.10.16 10:00 161.57 161.81 160.69 161.52    3077
2022.10.16 11:00 161.52 161.53 159.74 161.10    2734
2022.10.16 12:00 161.10 162.58 159.64 161.17    5346
2022.10.16 13:00 160.52 161.22 160.22 161.08    1224
2022.10.16 14:00 161.08 161.93 160.44 161.44    2177
2022.10.16 15:00 161.44 161.80 160.53 161.43    3466
2022.10.17 07:00 159.95 162.22 159.60 161.49  624146
2022.10.17 08:00 161.49 161.80 161.00 161.36  234108
2022.10.17 09:00 161.36 161.80 160.80 161.35  196364
2022.10.17 10:00 161.39 162.87 161.28 162.87  308556
2022.10.17 11:00 162.83 163.80 162.53 162.88  585629
2022.10.17 12:00 162.85 163.37 162.56 162.66   96384
2022.10.17 13:00 162.66 163.19 162.55 163.01  120077
2022.10.17 14:00 163.01 163.16 162.03 162.40  161475
2022.10.17 15:00 162.41 162.58 162.05 162.50  121233
2022.10.17 16:00 162.50 162.66 161.52 162.31   93136
2022.10.17 17:00 162.31 162.50 162.25 162.40   30276
2022.10.17 18:00 162.40 162.82 162.30 162.70   34175
2022.10.17 19:00 162.72 162.81 162.50 162.79   25063
2022.10.17 20:00 162.78 163.30 162.78 163.24   48092
TKSBrokerAPI.py     L:2509 INFO    [2022-10-18 15:23:35,401] Ticker [GAZP], FIGI [BBG004730RP0], tf: [hour], history saved: [GAZP_hour.csv]
TKSBrokerAPI.py     L:2601 INFO    [2022-10-18 15:23:35,418] Rendered candles chart: [index.html]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å—Ç–æ—Ä–∏–∏ —Å–≤–µ—á–µ–π –∏–∑ —Ñ–∞–π–ª–∞ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏–∫–∞ —Ü–µ–Ω</summary>

–ü—Ä–∏–º–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ñ–∞–π–ª–µ [./docs/media/POSI_15min.csv](./docs/media/POSI_15min.csv), –∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤ —Ñ–∞–π–ª–µ [./docs/media/index_POSI_bokeh_chart.html](./docs/media/index_POSI_bokeh_chart.html).

![](./docs/media/index_POSI_bokeh_chart.png)

```commandline
$ tksbrokerapi --load-history POSI_15min.csv --render-chart i

TKSBrokerAPI.py     L:2543 INFO    [2022-10-18 15:40:40,154] Rows count loaded: [36], detected timeframe of candles: [0h 15m 0s]. Showing some last rows:
              datetime    open    high     low   close  volume
26 2022-10-17 13:30:00  1084.4  1084.8  1080.4  1084.4    2487
27 2022-10-17 13:45:00  1084.2  1088.0  1080.6  1088.0    2422
28 2022-10-17 14:00:00  1088.0  1090.0  1086.2  1088.4    2781
29 2022-10-17 14:15:00  1088.8  1089.6  1083.0  1087.8    1723
30 2022-10-17 14:30:00  1087.6  1089.0  1086.4  1087.6     710
31 2022-10-17 14:45:00  1087.8  1088.4  1086.8  1087.8     603
32 2022-10-17 15:00:00  1087.8  1092.0  1087.0  1092.0    1749
33 2022-10-17 15:15:00  1091.0  1096.6  1089.0  1095.8    3614
34 2022-10-17 15:30:00  1095.8  1096.2  1088.0  1092.6    3429
35 2022-10-17 15:45:00  1094.2  1094.2  1094.2  1094.2     453
TKSBrokerAPI.py     L:2601 INFO    [2022-10-18 15:40:40,565] Rendered candles chart: [index.html]
```

</details>

#### –£–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–π –¥–ª—è –≤—ã–≤–æ–¥–∞ –æ—Å—Ç–∞—Ç–æ–∫ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.4.90 –≤ CLI –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `--limits` (`--withdrawal-limits`, `-w`), —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö. –ï—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á `--output`, —Ç–æ —Ç–∞–±–ª–∏—Ü–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª, –∞ –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç, —Ç–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–∞–π–ª `limits.md`.

<details>
  <summary>–í —Ç–∞–±–ª–∏—Ü–µ —Å—Ç–æ–ª–±—Ü—ã –æ–∑–Ω–∞—á–∞—é—Ç:</summary>

- `Currencies` ‚Äî –≤–∞–ª—é—Ç–∞, –∏–º–µ—é—â–∞—è—Å—è –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- `Total` ‚Äî –æ–±—â–∏–π –æ–±—ä—ë–º —Å—Ä–µ–¥—Å—Ç–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ;
- `Available for withdrawal` ‚Äî —Å–∫–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ;
- `Blocked for trade` ‚Äî –æ–±—ä—ë–º —Å—Ä–µ–¥—Å—Ç–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–∞ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ —Å–¥–µ–ª–æ–∫ –ø–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º –ª–∏–º–∏—Ç–Ω—ã–º –æ—Ä–¥–µ—Ä–∞–º;
- `Futures guarantee` ‚Äî –æ–±—ä—ë–º —Å—Ä–µ–¥—Å—Ç–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–∞–ª—é—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–¥–µ–ª–æ–∫ –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º.

</details>

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--account-id`, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–∏–º–∏—Ç—ã –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∞–∫–∫–∞—É–Ω—Ç—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –£–∑–Ω–∞—Ç—å –≤—Å–µ `accountId` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–∂–Ω–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –∫–ª—é—á–µ–π `--user-info` –∏–ª–∏ `--accounts` (–ø–æ–¥—Ä–æ–±–Ω–µ–µ: ["–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ —Å—á–µ—Ç–∞—Ö"](#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ-–∏-—Å—á–µ—Ç–∞—Ö)).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤</summary>

```commandline
$ tksbrokerapi --limits --output my-limits.md

TKSBrokerAPI.py     L:3227 INFO    [2022-10-07 16:59:56,795] # Withdrawal limits

* **Actual date:** [2022-10-07 13:59:56 UTC]
* **Account ID:** [**********]

| Currencies | Total         | Available for withdrawal | Blocked for trade | Futures guarantee |
|------------|---------------|--------------------------|-------------------|-------------------|
| [rub]      | 2136.61       | 1135.25                  | 1001.36           | ‚Äî                 |
| [eur]      | 0.29          | 0.29                     | ‚Äî                 | ‚Äî                 |
| [cny]      | 1.42          | 1.42                     | ‚Äî                 | ‚Äî                 |
| [chf]      | 1.00          | 1.00                     | ‚Äî                 | ‚Äî                 |
| [try]      | 10.00         | 10.00                    | ‚Äî                 | ‚Äî                 |
| [usd]      | 0.68          | 0.68                     | ‚Äî                 | ‚Äî                 |
| [hkd]      | 2.41          | 2.41                     | ‚Äî                 | ‚Äî                 |

TKSBrokerAPI.py     L:3233 INFO    [2022-10-07 16:59:56,797] Client's withdrawal limits was saved to file: [my-limits.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ —Å—á–µ—Ç–∞—Ö

–í TKSBrokerAPI v1.4.90 –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –∫–æ–Ω—Å–æ–ª—å–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ `--user-info` (`-u`). –û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–∑–Ω–∞—Ç—å –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ, —Å–ø–∏—Å–æ–∫ –∞–∫–∫–∞—É–Ω—Ç–æ–≤, –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥–ª—è –º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏ –ª–∏–º–∏—Ç—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ API –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–∞—Ä–∏—Ñ–∞. –í —Ç–æ–º —á–∏—Å–ª–µ –≤–æ–∑–º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å `accountId` –≤—Å–µ—Ö —Å—á–µ—Ç–æ–≤, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–∫—Ä—ã—Ç–∏—è.

–ü–∞—Ä–∞–º–µ—Ç—Ä `accountId` (–æ–Ω –∂–µ `Account ID`, `ID` –∏–ª–∏ `--account-id`) ‚Äî —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ï–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –¥–ª—è –ª—é–±—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"](#–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä-—Å—á—ë—Ç–∞-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)).

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ TKSBrokerAPI –∫–æ–º–∞–Ω–¥—ã `--user-info` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã –±—ã–ª —É–∫–∞–∑–∞–Ω –ª—é–±–æ–π —Ç–æ–∫–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Å–º. —Ä–∞–∑–¥–µ–ª ["–¢–æ–∫–µ–Ω"](#–¢–æ–∫–µ–Ω)). –¢–∞–∫–∂–µ, –µ—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á `--output`, —Ç–æ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª, –ª–∏–±–æ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Ñ–∞–π–ª –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `user-info.md`.

–†–∞–∑–¥–µ–ª [–æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ](https://tinkoff.github.io/investAPI/users/#getinforesponse).

<details>
  <summary>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∑–Ω–∞—á–∞—é—Ç:</summary>

- `Qualified user` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞;
- `Tariff name` ‚Äî –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- `Premium user` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –ø—Ä–µ–º–∏—É–º –∫–ª–∏–µ–Ω—Ç–∞;
- `Allowed to work with instruments` ‚Äî [–Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π](https://tinkoff.github.io/investAPI/faq_users/#qualified_for_work_with), —Å –∫–æ—Ç–æ—Ä—ã–º–∏ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏).

</details>

–†–∞–∑–¥–µ–ª [–∞–∫–∫–∞—É–Ω—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](https://tinkoff.github.io/investAPI/users/#account).

<details>
  <summary>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∑–Ω–∞—á–∞—é—Ç:</summary>

- `ID` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è;
- `Account type` ‚Äî [—Ç–∏–ø –∞–∫–∫–∞—É–Ω—Ç–∞](https://tinkoff.github.io/investAPI/users/#accounttype): –±—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á—ë—Ç –¢–∏–Ω—å–∫–æ—Ñ—Ñ, –ò–ò–° —Å—á—ë—Ç –∏–ª–∏ –∏–Ω–≤–µ—Å—Ç–∫–æ–ø–∏–ª–∫–∞;
- `Account name` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ (–µ–≥–æ –º–æ–∂–Ω–æ –ø–æ–º–µ–Ω—è—Ç—å –Ω–∞ —Å–∞–π—Ç–µ –∏–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏);
- `Account status` ‚Äî [—Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞](https://tinkoff.github.io/investAPI/users/#accountstatus): –Ω–æ–≤—ã–π (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ—Ç–∫—Ä—ã—Ç–∏—è), –æ—Ç–∫—Ä—ã—Ç—ã–π –∏ –∞–∫—Ç–∏–≤–Ω—ã–π –∏–ª–∏ –∑–∞–∫—Ä—ã—Ç—ã–π —Å—á—ë—Ç;
- `Access level` ‚Äî [—É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç—É–ø–∞](https://tinkoff.github.io/investAPI/users/#accesslevel) –∫ —Å—á—ë—Ç—É –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ–∫–µ–Ω–∞, –ø–æ–¥ –∫–æ—Ç–æ—Ä—ã–º –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ TKSBrokerAPI: –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø, —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ –∏–ª–∏ –¥–æ—Å—Ç—É–ø –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç;
- `Date opened` ‚Äî –¥–∞—Ç–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—á—ë—Ç–∞ (UTC);
- `Date closed` ‚Äî –¥–∞—Ç–∞ –∑–∞–∫—Ä—ã—Ç–∏—è —Å—á—ë—Ç–∞ (UTC) –∏–ª–∏ –ø—Ä–æ—á–µ—Ä–∫, –µ—Å–ª–∏ –æ–Ω –∞–∫—Ç–∏–≤–Ω—ã–π;
- `Margin status` ‚Äî [–º–∞—Ä–∂–∏–Ω–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏](https://tinkoff.github.io/investAPI/users/#getmarginattributesresponse), –µ—Å–ª–∏ —Ç–æ—Ä–≥–æ–≤–ª—è —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–ª–µ—á–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∞ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞:
  - `Liquid portfolio` ‚Äî –ª–∏–∫–≤–∏–¥–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—è ([–ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://www.tinkoff.ru/invest/account/help/margin/about/#q4)),
  - `Margin starting` ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –Ω–æ–≤–æ–π —Å–¥–µ–ª–∫–∏ ([–ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://www.tinkoff.ru/invest/account/help/margin/about/#q6)),
  - `Margin minimum` ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –º–∞—Ä–∂–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã ([–ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://www.tinkoff.ru/invest/account/help/margin/about/#q6)),
  - `Sufficiency level` ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ –æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –ª–∏–∫–≤–∏–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∫ –Ω–∞—á–∞–ª—å–Ω–æ–π –º–∞—Ä–∂–µ,
  - `Missing funds` ‚Äî –æ–±—ä—ë–º –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤, —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É —Å—Ç–∞—Ä—Ç–æ–≤–æ–π –º–∞—Ä–∂–æ–π –∏ –ª–∏–∫–≤–∏–¥–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –ø–æ—Ä—Ç—Ñ–µ–ª—è.

</details>

–†–∞–∑–¥–µ–ª [–ª–∏–º–∏—Ç–æ–≤ –ø–æ —Ç–∞—Ä–∏—Ñ—É](https://tinkoff.github.io/investAPI/limits/).

<details>
  <summary>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–∑–Ω–∞—á–∞—é—Ç:</summary>

- `Unary limits` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ unary-–∑–∞–ø—Ä–æ—Å–æ–≤](https://tinkoff.github.io/investAPI/users/#unarylimit) –≤ –º–∏–Ω—É—Ç—É;
- `Stream limits` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ stream-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π](https://tinkoff.github.io/investAPI/users/#streamlimit).

</details>

–ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ —É–∑–Ω–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫–∫–∞—É–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –±–µ–∑ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π, —Ç–æ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫–ª—é—á–æ–º `--account` (`--accounts`, `-a`). –û–Ω –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ—Å—Ç—É—é —Ç–∞–±–ª–∏—Ü—É —Å–æ –≤—Å–µ–º–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ `accountId` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–∞–±–ª–∏—Ü–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–∞–π–ª `accounts.md` –∏–ª–∏ –ø–µ—Ä–µ–Ω–∞–∑–Ω–∞—á—å—Ç–µ –µ–≥–æ —Å –∫–ª—é—á–æ–º `--output`).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –∏ –ª–∏–º–∏—Ç–∞—Ö</summary>

```commandline
$ tksbrokerapi --user-info --output user-account-info.md

TKSBrokerAPI.py     L:3798 INFO    [2022-10-25 01:04:57,536] # Full user information

* **Actual date:** [2022-10-24 22:04:57 UTC]

## Common information

* **Qualified user:** No
* **Tariff name:** premium
* **Premium user:** Yes
* **Allowed to work with instruments:**
  - Bonds with low rating
  - Foreign shares not included in the exchange quotation lists
  - Margin trading, unsecured leveraged trades
  - Russian shares not included in quotation lists
  - Structured income bonds


## User accounts

### ID: [**********]

| Parameters           | Values                                                       |
|----------------------|--------------------------------------------------------------|
| Account type:        | Tinkoff brokerage account                                    |
| Account name:        | Testing                                                      |
| Account status:      | Opened and active account                                    |
| Access level:        | Full access                                                  |
| Date opened:         | 2018-05-23 00:00:00                                          |
| Date closed:         | ‚Äî                                                            |
| Margin status:       | Enabled                                                      |
| - Liquid portfolio:  | 148420.61 rub                                                |
| - Margin starting:   | 105900.73 rub                                                |
| - Margin minimum:    | 52950.37 rub                                                 |
| - Margin difference: | -42510.88 rub                                                |
| - Sufficiency level: | 1.81 (181.00%)                                               |
| - Not covered funds: | -49650.45 rub                                                |

### ID: [**********]

| Parameters           | Values                                                       |
|----------------------|--------------------------------------------------------------|
| Account type:        | Tinkoff brokerage account                                    |
| Account name:        | Personal - **********                                        |
| Account status:      | Opened and active account                                    |
| Access level:        | Full access                                                  |
| Date opened:         | 2022-08-10 00:00:00                                          |
| Date closed:         | ‚Äî                                                            |
| Margin status:       | Disabled                                                     |


## Current user tariff limits

See also:
* Tinkoff limit policy: https://tinkoff.github.io/investAPI/limits/
* Tinkoff Invest API: https://tinkoff.github.io/investAPI/
  - More about REST API requests: https://tinkoff.github.io/investAPI/swagger-ui/
  - More about gRPC requests for stream connections: https://tinkoff.github.io/investAPI/grpc/

### Unary limits

* Max requests per minute: 5
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetBrokerReport
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetDividendsForeignIssuer

* Max requests per minute: 50
  - tinkoff.public.invest.api.contract.v1.StopOrdersService/CancelStopOrder
  - tinkoff.public.invest.api.contract.v1.StopOrdersService/GetStopOrders
  - tinkoff.public.invest.api.contract.v1.StopOrdersService/PostStopOrder

* Max requests per minute: 60
  - tinkoff.public.invest.api.contract.v1.OrdersService/GetOrders

* Max requests per minute: 100
  - tinkoff.public.invest.api.contract.v1.OrdersService/CancelOrder
  - tinkoff.public.invest.api.contract.v1.OrdersService/GetOrderState
  - tinkoff.public.invest.api.contract.v1.OrdersService/PostOrder
  - tinkoff.public.invest.api.contract.v1.OrdersService/ReplaceOrder
  - tinkoff.public.invest.api.contract.v1.UsersService/GetAccounts
  - tinkoff.public.invest.api.contract.v1.UsersService/GetInfo
  - tinkoff.public.invest.api.contract.v1.UsersService/GetMarginAttributes
  - tinkoff.public.invest.api.contract.v1.UsersService/GetUserTariff

* Max requests per minute: 200
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/BondBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Bonds
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Currencies
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/CurrencyBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/EditFavorites
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/EtfBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Etfs
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/FindInstrument
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/FutureBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Futures
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetAccruedInterests
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetAssetBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetAssets
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetBondCoupons
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetBrandBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetBrands
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetCountries
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetDividends
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetFavorites
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetFuturesMargin
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/GetInstrumentBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/OptionBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Options
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/ShareBy
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/Shares
  - tinkoff.public.invest.api.contract.v1.InstrumentsService/TradingSchedules
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetOperations
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetOperationsByCursor
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetPortfolio
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetPositions
  - tinkoff.public.invest.api.contract.v1.OperationsService/GetWithdrawLimits
  - tinkoff.public.invest.api.contract.v1.SandboxService/CancelSandboxOrder
  - tinkoff.public.invest.api.contract.v1.SandboxService/CloseSandboxAccount
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxAccounts
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxOperations
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxOrderState
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxOrders
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxPortfolio
  - tinkoff.public.invest.api.contract.v1.SandboxService/GetSandboxPositions
  - tinkoff.public.invest.api.contract.v1.SandboxService/OpenSandboxAccount
  - tinkoff.public.invest.api.contract.v1.SandboxService/PostSandboxOrder
  - tinkoff.public.invest.api.contract.v1.SandboxService/SandboxPayIn

* Max requests per minute: 300
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetCandles
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetClosePrices
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetLastPrices
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetLastTrades
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetOrderBook
  - tinkoff.public.invest.api.contract.v1.MarketDataService/GetTradingStatus

### Stream limits

* Max stream connections: 2
  - tinkoff.public.invest.api.contract.v1.OrdersStreamService/TradesStream
  - tinkoff.public.invest.api.contract.v1.OperationsStreamService/PortfolioStream
  - tinkoff.public.invest.api.contract.v1.OperationsStreamService/PositionsStream

* Max stream connections: 6
  - tinkoff.public.invest.api.contract.v1.MarketDataStreamService/MarketDataStream

TKSBrokerAPI.py     L:3804 INFO    [2022-10-25 01:04:57,541] User data was saved to file: [user-account-info.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∞–∫–∫–∞—É–Ω—Ç–∞—Ö</summary>

```commandline
$ tksbrokerapi --accounts --output user-accounts.md

TKSBrokerAPI.py     L:3635 INFO    [2022-10-24 00:09:47,101] # User accounts

* **Actual date:** [2022-10-23 21:09:47 UTC]

| Account ID   | Type                      | Status                    | Name                           |
|--------------|---------------------------|---------------------------|--------------------------------|
| **********   | Tinkoff brokerage account | Opened and active account | Testing - **********           |
| **********   | Tinkoff brokerage account | Opened and active account | Personal - **********          |
| **********   | Tinkoff brokerage account | New, open in progress...  | Account **********             |

TKSBrokerAPI.py     L:3641 INFO    [2022-10-24 00:09:47,102] User accounts were saved to file: [user-accounts.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º

TKSBrokerAPI v1.4.90 —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–≤—É—é –∫–æ–Ω—Å–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É `--bonds-xlsx` (`-b`). –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –±—É–¥—É—Ç –ø–æ–ª—É—á–µ–Ω—ã –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–µ—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ –∫–ª—é—á) –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –æ–±–ª–∏–≥–∞—Ü–∏–π (–µ—Å–ª–∏ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å FIGI –∏–ª–∏ —Ç–∏–∫–µ—Ä—ã), –∞ –∑–∞—Ç–µ–º –æ–±–æ–≥–∞—â–µ–Ω—ã –¥–∞–Ω–Ω—ã–º–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω—ã –≤ –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–π Pandas DataFrame —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ–±–ª–∏–≥–∞—Ü–∏—è—Ö: –æ—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, —Ç–µ–∫—É—â–∏–µ —Ü–µ–Ω—ã, –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º, –∫—É–ø–æ–Ω–Ω—ã–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏, —Ç–µ–∫—É—â–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∑–∞–≤–∏—Å—è—â–∏–µ –æ—Ç —Ü–µ–Ω—ã –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ.

–ó–∞—Ç–µ–º –¥–∞–Ω–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ XLSX-—Ñ–∞–π–ª, –ø—Ä–∏–≥–æ–¥–Ω—ã–π –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `ext-bonds.xlsx`. –ï–≥–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –µ–≥–æ —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ `--output`.

‚ùó **–í–Ω–∏–º–∞–Ω–∏–µ**: —ç—Ç–æ –¥–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –µ—Å–ª–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–ª–∏ –≤—Å–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: ~90-120 –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–±–ª–∏–≥–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–∏–º–∏—Ç–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏).

–ß—Ç–æ –æ–∑–Ω–∞—á–∞—é—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –æ–±–æ–≥–∞—â—ë–Ω–Ω–æ–º XLSX-—Ñ–∞–π–ª–µ –∏–ª–∏ –≤ Pandas DataFrame: —á–∞—Å—Ç—å –∏–∑ –Ω–∏—Ö –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–µ–∫—Ü–∏–∏ [–æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –æ–±–ª–∏–≥–∞—Ü–∏—è—Ö](https://tinkoff.github.io/investAPI/instruments/#bond), –∞ –¥—Ä—É–≥–∞—è —á–∞—Å—Ç—å –≤ —Å–µ–∫—Ü–∏–∏ [–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É–ø–æ–Ω–∞—Ö](https://tinkoff.github.io/investAPI/instruments/#coupon).

<details>
  <summary>–ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ XLSX-—Ñ–∞–π–ª–µ –∏–ª–∏ –≤ Pandas DataFrame:</summary>

- `actualDateTime` ‚Äî –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `figi` ‚Äî FIGI-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `ticker` ‚Äî —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `classCode` ‚Äî [–∫–ª–∞—Å—Å-–∫–æ–¥](https://tinkoff.github.io/investAPI/faq_instruments/#class_code) (—Å–µ–∫—Ü–∏—è –±–∏—Ä–∂–∏, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π —Ç–æ—Ä–≥—É–µ—Ç—Å—è –¥–∞–Ω–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç);
- `isin` ‚Äî ISIN-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `lot` ‚Äî [–ª–æ—Ç–Ω–æ—Å—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞](https://tinkoff.github.io/investAPI/glossary/#lot) (–≤–æ–∑–º–æ–∂–Ω–æ —Å–æ–≤–µ—Ä—à–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π —Ç–æ–ª—å–∫–æ –Ω–∞ [–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–Ω–Ω–æ–π –±—É–º–∞–≥–∏](https://tinkoff.github.io/investAPI/faq_marketdata/#_3), –∫—Ä–∞—Ç–Ω–æ–µ —ç—Ç–æ–º—É –ø–∞—Ä–∞–º–µ—Ç—Ä—É);
- `currency` ‚Äî –≤–∞–ª—é—Ç–∞ —Ä–∞—Å—á—ë—Ç–æ–≤ (–¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞);
- `shortEnabledFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –≤ —à–æ—Ä—Ç;
- `name` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ-–ø–æ–Ω—è—Ç–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `exchange` ‚Äî —Ç–æ—Ä–≥–æ–≤–∞—è –ø–ª–æ—â–∞–¥–∫–∞ (`MOEX` ‚Äî –ú–æ—Å–∫–æ–≤—Å–∫–∞—è –±–∏—Ä–∂–∞, `SPBEX` ‚Äî –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥—Å–∫–∞—è –±–∏—Ä–∂–∞ –∏ `OTC` ‚Äî –≤–Ω–µ–±–∏—Ä–∂–µ–≤—ã–µ —Å–¥–µ–ª–∫–∏);
- `couponQuantityPerYear` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–ª–∞—Ç –ø–æ –∫—É–ø–æ–Ω–∞–º –≤ –≥–æ–¥;
- `maturityDate` ‚Äî –¥–∞—Ç–∞ –ø–æ–≥–∞—à–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `nominal` ‚Äî —Ç–µ–∫—É—â–∞—è –Ω–æ–º–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `stateRegDate` ‚Äî –¥–∞—Ç–∞ –≤—ã–ø—É—Å–∫–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `placementDate` ‚Äî –¥–∞—Ç–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `placementPrice` ‚Äî —Ü–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –æ–Ω–∞ –±—ã–ª–∞ —Ä–∞–∑–º–µ—â–µ–Ω–∞;
- `aciValue` ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ –ù–ö–î (–Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π –∫—É–ø–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥, ACI) –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É;
- `countryOfRisk` ‚Äî –∫–æ–¥ —Å—Ç—Ä–∞–Ω—ã —Ä–∏—Å–∫–∞ (—Ç–æ–π —Å—Ç—Ä–∞–Ω—ã, –≤ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–º–ø–∞–Ω–∏—è –≤–µ–¥—ë—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å);
- `countryOfRiskName` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã —Ä–∏—Å–∫–∞ (–≤ –∫–æ—Ç–æ—Ä–æ–π –∫–æ–º–ø–∞–Ω–∏—è –≤–µ–¥—ë—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –±–∏–∑–Ω–µ—Å);
- `sector` ‚Äî —Å–µ–∫—Ç–æ—Ä —ç–∫–æ–Ω–æ–º–∏–∫–∏;
- `issueKind` ‚Äî —Ñ–æ—Ä–º–∞ –≤—ã–ø—É—Å–∫–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (`documentary` ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ä–Ω–∞—è, `non_documentary` ‚Äî –±–µ–∑–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ä–Ω–∞—è);
- `issueSize` ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –≤—ã–ø—É—Å–∫–∞;
- `issueSizePlan` ‚Äî –ø–ª–∞–Ω–æ–≤—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–ø—É—Å–∫–∞;
- `tradingStatus` ‚Äî [—Ä–µ–∂–∏–º —Ç–æ—Ä–≥–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞](https://tinkoff.github.io/investAPI/instruments/#securitytradingstatus) –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏, —É–∫–∞–∑–∞–Ω–Ω—ã–π –≤ –ø–æ–ª–µ `actualDateTime`;
- `otcFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –≤–Ω–µ–±–∏—Ä–∂–µ–≤–æ–π —Ü–µ–Ω–Ω–æ–π –±—É–º–∞–≥–∏;
- `buyAvailableFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ–∫—É–ø–∫–∏;
- `sellAvailableFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏;
- `floatingCouponFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –ø–ª–∞–≤–∞—é—â–∏–º –∫—É–ø–æ–Ω–æ–º;
- `perpetualFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –±–µ—Å—Å—Ä–æ—á–Ω–æ–π –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `amortizationFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –æ–±–ª–∏–≥–∞—Ü–∏–∏ —Å –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–µ–π –¥–æ–ª–≥–∞;
- `apiTradeAvailableFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º —á–µ—Ä–µ–∑ API (–≤ —Ç–æ–º —á–∏—Å–ª–µ —á–µ—Ä–µ–∑ TKSBrokerAPI);
- `realExchange` ‚Äî [—Ä–µ–∞–ª—å–Ω–∞—è –ø–ª–æ—â–∞–¥–∫–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤](https://tinkoff.github.io/investAPI/instruments/#realexchange);
- `forIisFlag` ‚Äî –ø—Ä–∏–∑–Ω–∞–∫ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–ª—è –ò–ò–° (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π —Å—á—ë—Ç);
- `first1minCandleDate` ‚Äî –¥–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø–µ—Ä–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π –º–∏–Ω—É—Ç–Ω–æ–π —Å–≤–µ—á–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `first1dayCandleDate` ‚Äî –¥–∞—Ç–∞ –ø–µ—Ä–≤–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–Ω–µ–≤–Ω–æ–π —Å–≤–µ—á–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `type` ‚Äî —Ç–∏–ø –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (`Currencies` ‚Äî –≤–∞–ª—é—Ç–∞, `Shares` ‚Äî –∞–∫—Ü–∏–∏, `Bonds` ‚Äî –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–±–æ–Ω–¥—ã), `Etfs` ‚Äî ETF-—ã (—Ñ–æ–Ω–¥—ã) –∏ `Futures` ‚Äî —Ñ—å—é—á–µ—Ä—Å—ã);
- `step` ‚Äî [–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —à–∞–≥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã](https://tinkoff.github.io/investAPI/faq_marketdata/);
- `nominalCurrency` ‚Äî –≤–∞–ª—é—Ç–∞ –Ω–æ–º–∏–Ω–∞–ª–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –æ—Ü–µ–Ω–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—è –ø—Ä–∏ –≤—ã–ø—É—Å–∫–µ;
- `aciCurrency` ‚Äî –≤–∞–ª—é—Ç–∞ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∫—É–ø–æ–Ω—É –¥–ª—è –æ–±–ª–∏–≥–∞—Ü–∏–π;
- `klong` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ç–∞–≤–∫–∏ —Ä–∏—Å–∫–∞ –¥–ª—è –¥–ª–∏–Ω–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É;
- `kshort` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å—Ç–∞–≤–∫–∏ —Ä–∏—Å–∫–∞ –¥–ª—è –∫–æ—Ä–æ—Ç–∫–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É;
- `dlong` ‚Äî [—Å—Ç–∞–≤–∫–∞ —Ä–∏—Å–∫–∞](https://www.tinkoff.ru/invest/account/help/margin/about/#q5) –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –º–∞—Ä–∂–∏ –≤ –ª–æ–Ω–≥;
- `dshort` ‚Äî [—Å—Ç–∞–≤–∫–∞ —Ä–∏—Å–∫–∞](https://www.tinkoff.ru/invest/account/help/margin/about/#q5) –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –º–∞—Ä–∂–∏ –≤ —à–æ—Ä—Ç;
- `dlongMin` ‚Äî [—Å—Ç–∞–≤–∫–∞ —Ä–∏—Å–∫–∞](https://www.tinkoff.ru/invest/account/help/margin/about/#q5) –Ω–∞—á–∞–ª—å–Ω–æ–π –º–∞—Ä–∂–∏ –≤ –ª–æ–Ω–≥;
- `dshortMin` ‚Äî [—Å—Ç–∞–≤–∫–∞ —Ä–∏—Å–∫–∞](https://www.tinkoff.ru/invest/account/help/margin/about/#q5) –Ω–∞—á–∞–ª—å–Ω–æ–π –º–∞—Ä–∂–∏ –≤ —à–æ—Ä—Ç;
- `limitUpPercent` ‚Äî –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂–µ–π —Ü–µ–Ω –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é, –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞;
- `limitDownPercent` ‚Äî –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂–µ–π —Ü–µ–Ω –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é, –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞;
- `lastPricePercent` ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏, –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞;
- `closePricePercent` ‚Äî —Ü–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –¥–Ω—è, –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö –æ—Ç –Ω–æ–º–∏–Ω–∞–ª–∞;
- `changes` ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–Ω–æ–π –æ–±–ª–∏–≥–∞—Ü–∏–∏ –∏ —Ü–µ–Ω–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –¥–Ω—è, –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö;
- `limitUp` ‚Äî –≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂–µ–π —Ü–µ–Ω –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é, –≤ –≤–∞–ª—é—Ç–µ —Ä–∞—Å—á—ë—Ç–æ–≤ `currency`;
- `limitDown` ‚Äî –Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –±–∏—Ä–∂–µ–π —Ü–µ–Ω –Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏—é, –≤ –≤–∞–ª—é—Ç–µ —Ä–∞—Å—á—ë—Ç–æ–≤ `currency`;
- `lastPrice` ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏, –≤ –≤–∞–ª—é—Ç–µ —Ä–∞—Å—á—ë—Ç–æ–≤ `currency`;
- `closePrice` ‚Äî —Ü–µ–Ω–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏–∏ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –¥–Ω—è, –≤ –≤–∞–ª—é—Ç–µ —Ä–∞—Å—á—ë—Ç–æ–≤ `currency`;
- `changesDelta` ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ü–µ–Ω–æ–π –æ–±–ª–∏–≥–∞—Ü–∏–∏ –∏ —Ü–µ–Ω–æ–π –∑–∞–∫—Ä—ã—Ç–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –¥–Ω—è, –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –≤ –≤–∞–ª—é—Ç–µ —Ä–∞—Å—á—ë—Ç–æ–≤ `currency`;
- `sumCoupons` ‚Äî —Å—É–º–º–∞ –≤—Å–µ—Ö –∑–∞—è–≤–ª–µ–Ω–Ω—ã—Ö –∫—É–ø–æ–Ω–æ–≤ –¥–ª—è –≤—ã–ø–ª–∞—Ç—ã –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –µ—ë –¥–µ–π—Å—Ç–≤–∏—è;
- `periodDays` ‚Äî —Å—É–º–º–∞—Ä–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –ø–æ –≤—Å–µ–º –∫—É–ø–æ–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `couponsYield` ‚Äî –≥–æ–¥–æ–≤–æ–π –∫—É–ø–æ–Ω–Ω—ã–π –¥–æ—Ö–æ–¥ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (—Å—Ä–µ–¥–Ω—è—è –¥–Ω–µ–≤–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å, –ø—Ä–∏ —É—Å–ª–æ–≤–∏–∏ –≤—ã–ø–ª–∞—Ç—ã –≤—Å–µ—Ö –∫—É–ø–æ–Ω–æ–≤, —É–º–Ω–æ–∂–µ–Ω–Ω–∞—è –Ω–∞ 365 –¥–Ω–µ–π);
- `daysToMaturity` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π, –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ –ø–æ–≥–∞—à–µ–Ω–∏—è –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `sumLastCoupons` ‚Äî —Å—É–º–º–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∫—É–ø–æ–Ω–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç (–≤ –≤–∞–ª—é—Ç–µ –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –∫—É–ø–æ–Ω—É `aciCurrency`);
- `lastPayments` ‚Äî —Å—É–º–º–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –Ω–∞ —Ç–µ–∫—É—â—É—é –¥–∞—Ç—É `actualDateTime` –≤—ã–ø–ª–∞—Ç `sumLastCoupons`, —É–º–µ–Ω—å—à–µ–Ω–Ω–∞—è –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É –ù–ö–î `aciValue`;
- `currentYield` ‚Äî —Ç–µ–∫—É—â–∞—è –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –Ω–∞ –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ `actualDateTime` (—É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞, —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–µ–¥–Ω—è—è –µ–∂–µ–¥–Ω–µ–≤–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å –∏ —É–º–Ω–æ–∂–∞–µ—Ç—Å—è –Ω–∞ 365 –¥–Ω–µ–π);
- `calendar` ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –ª–∏—Å—Ç —Å–ª–æ–≤–∞—Ä–µ–π Python, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π [–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –≤—Å–µ–º –∫—É–ø–æ–Ω–Ω—ã–º –≤—ã–ø–ª–∞—Ç–∞–º](https://tinkoff.github.io/investAPI/instruments/#coupon), –≤ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—è –æ–∑–Ω–∞—á–∞—é—Ç:
  - `couponDate` ‚Äî –¥–∞—Ç–∞ –≤—ã–ø–ª–∞—Ç—ã –∫—É–ø–æ–Ω–∞;
  - `couponNumber` ‚Äî –Ω–æ–º–µ—Ä –∫—É–ø–æ–Ω–∞;
  - `fixDate` ‚Äî –¥–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–µ–µ—Å—Ç—Ä–∞, –¥–æ –∫–æ—Ç–æ—Ä–æ–π –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ —É—Å–ø–µ—Ç—å –∫—É–ø–∏—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏—é, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—ã–ø–ª–∞—Ç—ã;
  - `payCurrency` ‚Äî –≤–∞–ª—é—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –≤—ã–ø–ª–∞—á–µ–Ω –∫—É–ø–æ–Ω (–æ–±—ã—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å `aciCurrency`);
  - `payOneBond` ‚Äî –≤—ã–ø–ª–∞—Ç–∞ –Ω–∞ –æ–¥–Ω—É –æ–±–ª–∏–≥–∞—Ü–∏—é (–≤ –≤–∞–ª—é—Ç–µ –ø–ª–∞—Ç–µ–∂–∞ `payCurrency`);
  - `couponType` ‚Äî [—Ç–∏–ø –∫—É–ø–æ–Ω–∞](https://tinkoff.github.io/investAPI/instruments/#coupontype) (`Constant` ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, `Floating` ‚Äî –ø–ª–∞–≤–∞—é—â–∏–π, `Discount` ‚Äî –¥–∏—Å–∫–æ–Ω—Ç, `Mortgage` ‚Äî –∏–ø–æ—Ç–µ—á–Ω—ã–π, `Fixed` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, `Variable` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π –∏ `Other` ‚Äî –ø—Ä–æ—á–µ–µ);
  - `couponStartDate` ‚Äî –Ω–∞—á–∞–ª–æ –∫—É–ø–æ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
  - `couponEndDate` ‚Äî –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∫—É–ø–æ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
  - `couponPeriod` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –∫—É–ø–æ–Ω–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ.

</details>

–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ XLSX-—Ñ–∞–π–ª–∞, —Å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–¥–µ—Å—å: [./docs/media/ext-bonds.xlsx](./docs/media/ext-bonds.xlsx). 

![](./docs/media/ext-bonds.xlsx.png)

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ–±–ª–∏–≥–∞—Ü–∏—è–º</summary>

```commandline
$ tksbrokerapi -v 10 --bonds-xlsx RU000A1002C2 RU000A102CK5 RU000A101YV8 BBG00JS9D851 --output ext-bonds--2022-11-05.xlsx

TKSBrokerAPI.py     L:4451 DEBUG   [2022-11-05 17:54:31,756] >>> TKSBrokerAPI module started at: [2022-11-05 14:54:31] UTC, it is [2022-11-05 17:54:31] local time
TKSBrokerAPI.py     L:4465 DEBUG   [2022-11-05 17:54:31,757] TKSBrokerAPI major.minor.build version used: [1.4.dev0]
TKSBrokerAPI.py     L:4466 DEBUG   [2022-11-05 17:54:31,757] Host CPU count: [8]
TKSBrokerAPI.py     L:210  DEBUG   [2022-11-05 17:54:31,757] Bearer token for Tinkoff OpenAPI set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:223  DEBUG   [2022-11-05 17:54:31,757] Main account ID [2000096541] set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:272  DEBUG   [2022-11-05 17:54:31,757] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:430  DEBUG   [2022-11-05 17:54:31,780] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:431  DEBUG   [2022-11-05 17:54:31,780] Dump file was last modified [2022-11-05 09:56:11] UTC
TKSBrokerAPI.py     L:1365 DEBUG   [2022-11-05 17:54:31,780] Requested instruments without duplicates of tickers or FIGIs: ['RU000A1002C2', 'RU000A102CK5', 'RU000A101YV8', 'BBG00JS9D851']
TKSBrokerAPI.py     L:1388 DEBUG   [2022-11-05 17:54:31,781] Unique list of FIGIs: ['BBG00N6MD6M2', 'BBG00Y5TNGR6', 'TCS00A101YV8', 'BBG00JS9D851']
TKSBrokerAPI.py     L:3833 DEBUG   [2022-11-05 17:54:31,781] Requesting raw bonds calendar from server, transforming and extending it. Wait, please...
TKSBrokerAPI.py     L:1134 DEBUG   [2022-11-05 17:54:31,782] Requesting current prices: ticker [RU000A1002C2], FIGI [BBG00N6MD6M2]. Wait, please...
TKSBrokerAPI.py     L:3787 DEBUG   [2022-11-05 17:54:31,919] Requesting bond payment calendar, ticker: [RU000A1002C2], FIGI: [BBG00N6MD6M2], from: [2019-02-01T00:00:00Z], to: [2024-01-26T00:00:00Z]. Wait, please...
TKSBrokerAPI.py     L:3802 DEBUG   [2022-11-05 17:54:32,094] Records about bond payment calendar successfully received
TKSBrokerAPI.py     L:3941 DEBUG   [2022-11-05 17:54:32,103] 25.0% bonds processed [1 / 4]...
TKSBrokerAPI.py     L:1134 DEBUG   [2022-11-05 17:54:32,105] Requesting current prices: ticker [RU000A102CK5], FIGI [BBG00Y5TNGR6]. Wait, please...
TKSBrokerAPI.py     L:3787 DEBUG   [2022-11-05 17:54:32,221] Requesting bond payment calendar, ticker: [RU000A102CK5], FIGI: [BBG00Y5TNGR6], from: [2020-11-20T00:00:00Z], to: [2027-11-20T00:00:00Z]. Wait, please...
TKSBrokerAPI.py     L:3802 DEBUG   [2022-11-05 17:54:32,365] Records about bond payment calendar successfully received
TKSBrokerAPI.py     L:3941 DEBUG   [2022-11-05 17:54:32,376] 50.0% bonds processed [2 / 4]...
TKSBrokerAPI.py     L:1134 DEBUG   [2022-11-05 17:54:32,378] Requesting current prices: ticker [RU000A101YV8], FIGI [TCS00A101YV8]. Wait, please...
TKSBrokerAPI.py     L:3787 DEBUG   [2022-11-05 17:54:32,469] Requesting bond payment calendar, ticker: [RU000A101YV8], FIGI: [TCS00A101YV8], from: [2020-07-29T00:00:00Z], to: [2023-07-26T00:00:00Z]. Wait, please...
TKSBrokerAPI.py     L:3802 DEBUG   [2022-11-05 17:54:32,619] Records about bond payment calendar successfully received
TKSBrokerAPI.py     L:3941 DEBUG   [2022-11-05 17:54:32,625] 75.0% bonds processed [3 / 4]...
TKSBrokerAPI.py     L:1134 DEBUG   [2022-11-05 17:54:32,627] Requesting current prices: ticker [XS1760786340], FIGI [BBG00JS9D851]. Wait, please...
TKSBrokerAPI.py     L:3787 DEBUG   [2022-11-05 17:54:32,717] Requesting bond payment calendar, ticker: [XS1760786340], FIGI: [BBG00JS9D851], from: [2018-01-30T00:00:00Z], to: [2111-01-01T00:00:00Z]. Wait, please...
TKSBrokerAPI.py     L:3802 DEBUG   [2022-11-05 17:54:32,845] Records about bond payment calendar successfully received
TKSBrokerAPI.py     L:3941 DEBUG   [2022-11-05 17:54:32,853] 100.0% bonds processed [4 / 4]...
TKSBrokerAPI.py     L:3961 INFO    [2022-11-05 17:54:32,953] XLSX-file with extended bonds data for further used by data scientists or stock analytics: [ext-bonds--2022-11-05.xlsx]
TKSBrokerAPI.py     L:4810 DEBUG   [2022-11-05 17:54:32,953] All operations were finished success (summary code is 0).
TKSBrokerAPI.py     L:4817 DEBUG   [2022-11-05 17:54:32,953] >>> TKSBrokerAPI module work duration: [0:00:01.197099]
TKSBrokerAPI.py     L:4818 DEBUG   [2022-11-05 17:54:32,953] >>> TKSBrokerAPI module finished: [2022-11-05 14:54:32 UTC], it is [2022-11-05 17:54:32] local time
```

</details>

#### –ü–æ—Å—Ç—Ä–æ–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º

–ù–∞—á–∏–Ω–∞—è —Å TKSBrokerAPI v1.4.90 –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∫–æ–Ω—Å–æ–ª—å–Ω—É—é –∫–æ–º–∞–Ω–¥—É `--calendar` (`-c`). –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–ª–∞—Ç–µ–∂–µ–π –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã. –ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–ª—è –æ–¥–Ω–æ–π –æ–±–ª–∏–≥–∞—Ü–∏–∏ –∏–ª–∏ —Å–ø–∏—Å–∫–∞ –∑–∞–¥–∞–Ω–Ω—ã—Ö —Ç–∏–∫–µ—Ä–æ–≤ –∏–ª–∏ FIGI, –ª–∏–±–æ –¥–ª—è –≤—Å–µ—Ö –æ–±–ª–∏–≥–∞—Ü–∏–π —Å—Ä–∞–∑—É, –µ—Å–ª–∏ –ø–æ—Å–ª–µ –∫–ª—é—á–∞ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π.

–¢–∞–∫–∂–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ XLSX-—Ñ–∞–π–ª –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–∞–º–∏ –∏–ª–∏ –±–∏—Ä–∂–µ–≤—ã–º–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º–∏, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª `calendar.xlsx`. –ï—Å–ª–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∫–ª—é—á `--output`, —Ç–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ç–∞–∫–∂–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ —Ñ–∞–π–ª Markdown `calendar.md`, –µ–≥–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —Å –ø–æ–º–æ—â—å—é –∫–ª—é—á–∞ `--output`.

‚ùó **–í–Ω–∏–º–∞–Ω–∏–µ**: —ç—Ç–æ –¥–æ–ª–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è, –µ—Å–ª–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–ª–∏ –≤—Å–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ: ~90-120 –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã—Ö –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–±–ª–∏–≥–∞—Ü–∏–π –≤ –º–∏–Ω—É—Ç—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ª–∏–º–∏—Ç–æ–≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Å–∫–æ—Ä–æ—Å—Ç–∏).

–î–∞–Ω–Ω—ã–µ, –ø–æ–ª—É—á–∞–µ–º—ã–µ –ø–æ –∫—É–ø–æ–Ω–∞–º, –æ–ø–∏—Å–∞–Ω—ã –≤ —Å–µ–∫—Ü–∏–∏ [–æ–±—â–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫—É–ø–æ–Ω–∞—Ö](https://tinkoff.github.io/investAPI/instruments/#coupon). –î–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤ –≤–∏–¥–µ Pandas DataFrame –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã —Ç–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å–∞–Ω—ã –≤ –ø–æ–ª–µ `calendar` –≤ —Ä–∞–∑–¥–µ–ª–µ "[–ü–æ–ª—É—á–∏—Ç—å –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º](#–ü–æ–ª—É—á–∏—Ç—å-–æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º)", –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–æ–º. –ó–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤ –≤–∏–¥–µ XLSX-—Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –≤ –±–æ–ª–µ–µ —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç.

<details>
  <summary>–ó–∞–≥–æ–ª–æ–≤–∫–∏ –≤ XLSX-—Ñ–∞–π–ª–µ:</summary>

- `Paid` ‚Äî –≤—ã–ø–ª–∞—á–µ–Ω –ª–∏ —É–∂–µ –∫—É–ø–æ–Ω (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è);
- `Payment date` ‚Äî –¥–∞—Ç–∞ –ø–ª–∞—Ç–µ–∂–∞ –ø–æ –∫—É–ø–æ–Ω—É;
- `FIGI` ‚Äî FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `Ticker` ‚Äî —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞;
- `Name` ‚Äî —á–µ–ª–æ–≤–µ–∫–æ-—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏, –∫–æ—Ç–æ—Ä–∞—è –≤—ã–ø—É—Å—Ç–∏–ª–∞ –æ–±–ª–∏–≥–∞—Ü–∏–∏;
- `No.` ‚Äî –Ω–æ–º–µ—Ä –∫—É–ø–æ–Ω–∞;
- `Value` ‚Äî –≤—ã–ø–ª–∞—Ç–∞ –Ω–∞ –æ–¥–Ω—É –æ–±–ª–∏–≥–∞—Ü–∏—é;
- `Currency` ‚Äî –≤–∞–ª—é—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ—Ç –≤—ã–ø–ª–∞—á–µ–Ω –∫—É–ø–æ–Ω;
- `Coupon type` ‚Äî —Ç–∏–ø –∫—É–ø–æ–Ω–∞ (`Constant` ‚Äî –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π, `Floating` ‚Äî –ø–ª–∞–≤–∞—é—â–∏–π, `Discount` ‚Äî –¥–∏—Å–∫–æ–Ω—Ç, `Mortgage` ‚Äî –∏–ø–æ—Ç–µ—á–Ω—ã–π, `Fixed` ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π, `Variable` ‚Äî –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–π –∏ `Other` ‚Äî –ø—Ä–æ—á–µ–µ);
- `Period` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π –≤ –∫—É–ø–æ–Ω–Ω–æ–º –ø–µ—Ä–∏–æ–¥–µ;
- `End registry date` ‚Äî –¥–∞—Ç–∞ —Ñ–∏–∫—Å–∞—Ü–∏–∏ —Ä–µ–µ—Å—Ç—Ä–∞, –¥–æ –∫–æ—Ç–æ—Ä–æ–π –≤–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ —É—Å–ø–µ—Ç—å –∫—É–ø–∏—Ç—å –æ–±–ª–∏–≥–∞—Ü–∏—é, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –≤—ã–ø–ª–∞—Ç—ã;
- `Coupon start date` ‚Äî –Ω–∞—á–∞–ª–æ –∫—É–ø–æ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC;
- `Coupon end date` ‚Äî –æ–∫–æ–Ω—á–∞–Ω–∏–µ –∫—É–ø–æ–Ω–Ω–æ–≥–æ –ø–µ—Ä–∏–æ–¥–∞ –≤ —á–∞—Å–æ–≤–æ–º –ø–æ—è—Å–µ UTC.

</details>

–ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º–æ–≥–æ XLSX-—Ñ–∞–π–ª–∞ —Å –∫–∞–ª–µ–Ω–¥–∞—Ä—ë–º –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∑–¥–µ—Å—å: [./docs/media/calendar.xlsx](./docs/media/calendar.xlsx), –∞ –≤ –≤–∏–¥–µ Markdown-—Ñ–∞–π–ª–∞, –∑–¥–µ—Å—å: [./docs/media/calendar.md](./docs/media/calendar.md). –í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Å—Ç—Ä–æ–∏—Ç—Å—è –±–æ–ª–µ–µ —á–µ–º –¥–ª—è –æ–¥–Ω–æ–π –æ–±–ª–∏–≥–∞—Ü–∏–∏, —Ç–æ –ø–ª–∞—Ç–µ–∂–∏ –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –º–µ—Å—è—Ü –≥—Ä—É–ø–ø–∏—Ä—É—é—Ç—Å—è.

![](./docs/media/calendar.xlsx.png)

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥—ã `--calendar` —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º –∫–ª—é—á–æ–º `--html`, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å –≤ HTML-—Ñ–æ—Ä–º–∞—Ç–µ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

![](./docs/media/calendar.html.png)

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –≤—ã–ø–ª–∞—Ç –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –æ–±–ª–∏–≥–∞—Ü–∏—è–º</summary>

```commandline
$ tksbrokerapi --calendar RU000A1002C2 IBM RU000A101YV8 BBG00JS9D851 ISSUANCEBRUS

TKSBrokerAPI.py     L:3934 WARNING [2022-11-05 21:56:23,772] Instrument with ticker [IBM] and FIGI [BBG000BLNNH6] is not a bond!
TKSBrokerAPI.py     L:4042 INFO    [2022-11-05 21:56:24,400] XLSX-file with bond payments calendar for further used by data scientists or stock analytics: [calendar.xlsx]
TKSBrokerAPI.py     L:4110 INFO    [2022-11-05 21:56:24,403] # Bond payments calendar

| Paid  | Payment date    | FIGI         | Ticker       | No. | Value         | Type      | Period | End registry date |
|-------|-----------------|--------------|--------------|-----|---------------|-----------|--------|-------------------|
|   ‚àö   | 2018-04-30      | BBG00JS9D851 | XS1760786340 | 1   | 17.375 usd    | Variable  | 90     | 2018-04-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2018-07-30      | BBG00JS9D851 | XS1760786340 | 2   | 17.375 usd    | Variable  | 90     | 2018-07-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2018-10-30      | BBG00JS9D851 | XS1760786340 | 3   | 17.375 usd    | Variable  | 90     | 2018-10-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2019-01-30      | BBG00JS9D851 | XS1760786340 | 4   | 17.375 usd    | Variable  | 90     | 2019-01-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2019-04-30      | BBG00JS9D851 | XS1760786340 | 5   | 17.375 usd    | Variable  | 90     | 2019-04-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2019-07-30      | BBG00JS9D851 | XS1760786340 | 6   | 17.375 usd    | Variable  | 90     | 2019-07-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2019-08-02      | BBG00N6MD6M2 | RU000A1002C2 | 1   | 43.38 rub     | Constant  | 182    | 2019-08-01        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2019-10-30      | BBG00JS9D851 | XS1760786340 | 7   | 17.375 usd    | Variable  | 90     | 2019-10-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2020-01-30      | BBG00JS9D851 | XS1760786340 | 8   | 17.375 usd    | Variable  | 90     | 2020-01-29        |
|   ‚àö   | 2020-01-31      | BBG00N6MD6M2 | RU000A1002C2 | 2   | 43.38 rub     | Constant  | 182    | 2020-01-30        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2020-04-30      | BBG00JS9D851 | XS1760786340 | 9   | 17.375 usd    | Variable  | 90     | 2020-04-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2020-07-30      | BBG00JS9D851 | XS1760786340 | 10  | 17.375 usd    | Variable  | 90     | 2020-07-29        |
|   ‚àö   | 2020-07-31      | BBG00N6MD6M2 | RU000A1002C2 | 3   | 43.38 rub     | Constant  | 182    | 2020-07-30        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2020-10-28      | TCS00A101YV8 | RU000A101YV8 | 1   | 28.67 rub     | Constant  | 91     | 2020-10-27        |
|   ‚àö   | 2020-10-30      | BBG00JS9D851 | XS1760786340 | 11  | 17.375 usd    | Variable  | 90     | 2020-10-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-01-27      | TCS00A101YV8 | RU000A101YV8 | 2   | 28.67 rub     | Constant  | 91     | 2021-01-26        |
|   ‚àö   | 2021-01-29      | BBG00N6MD6M2 | RU000A1002C2 | 4   | 43.38 rub     | Constant  | 182    | 2021-01-28        |
|   ‚àö   | 2021-01-30      | BBG00JS9D851 | XS1760786340 | 12  | 17.375 usd    | Variable  | 90     | 2021-01-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-04-28      | TCS00A101YV8 | RU000A101YV8 | 3   | 28.67 rub     | Constant  | 91     | 2021-04-27        |
|   ‚àö   | 2021-04-30      | BBG00JS9D851 | XS1760786340 | 13  | 17.375 usd    | Variable  | 90     | 2021-04-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-07-28      | TCS00A101YV8 | RU000A101YV8 | 4   | 28.67 rub     | Constant  | 91     | 2021-07-27        |
|   ‚àö   | 2021-07-30      | BBG00N6MD6M2 | RU000A1002C2 | 5   | 43.38 rub     | Constant  | 182    | 2021-07-29        |
|   ‚àö   | 2021-07-30      | BBG00JS9D851 | XS1760786340 | 14  | 17.375 usd    | Variable  | 90     | 2021-07-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2021-10-27      | TCS00A101YV8 | RU000A101YV8 | 5   | 28.67 rub     | Constant  | 91     | 2021-10-26        |
|   ‚àö   | 2021-10-30      | BBG00JS9D851 | XS1760786340 | 15  | 17.375 usd    | Variable  | 90     | 2021-10-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-01-26      | TCS00A101YV8 | RU000A101YV8 | 6   | 28.67 rub     | Constant  | 91     | 2022-01-25        |
|   ‚àö   | 2022-01-28      | BBG00N6MD6M2 | RU000A1002C2 | 6   | 43.38 rub     | Constant  | 182    | 2022-01-27        |
|   ‚àö   | 2022-01-30      | BBG00JS9D851 | XS1760786340 | 16  | 17.375 usd    | Variable  | 90     | 2022-01-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-04-27      | TCS00A101YV8 | RU000A101YV8 | 7   | 28.67 rub     | Constant  | 91     | 2022-04-26        |
|   ‚àö   | 2022-04-30      | BBG00JS9D851 | XS1760786340 | 17  | 17.375 usd    | Variable  | 90     | 2022-04-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-07-27      | TCS00A101YV8 | RU000A101YV8 | 8   | 28.67 rub     | Constant  | 91     | 2022-07-26        |
|   ‚àö   | 2022-07-29      | BBG00N6MD6M2 | RU000A1002C2 | 7   | 43.38 rub     | Constant  | 182    | 2022-07-28        |
|   ‚àö   | 2022-07-30      | BBG00JS9D851 | XS1760786340 | 18  | 17.375 usd    | Variable  | 90     | 2022-07-29        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚àö   | 2022-10-26      | TCS00A101YV8 | RU000A101YV8 | 9   | 28.67 rub     | Constant  | 91     | 2022-10-25        |
|   ‚àö   | 2022-10-30      | BBG00JS9D851 | XS1760786340 | 19  | 17.375 usd    | Variable  | 90     | 2022-10-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-01-25      | TCS00A101YV8 | RU000A101YV8 | 10  | 21.5 rub      | Constant  | 91     | 2023-01-24        |
|   ‚Äî   | 2023-01-27      | BBG00N6MD6M2 | RU000A1002C2 | 8   | 43.38 rub     | Constant  | 182    | 2023-01-26        |
|   ‚Äî   | 2023-01-30      | BBG00JS9D851 | XS1760786340 | 20  | 17.375 usd    | Variable  | 90     | 2023-01-27        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-04-26      | TCS00A101YV8 | RU000A101YV8 | 11  | 14.34 rub     | Constant  | 91     | 2023-04-25        |
|   ‚Äî   | 2023-04-30      | BBG00JS9D851 | XS1760786340 | 21  | 17.375 usd    | Variable  | 90     | 2023-04-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2023-07-26      | TCS00A101YV8 | RU000A101YV8 | 12  | 7.17 rub      | Constant  | 91     | 2023-07-25        |
|   ‚Äî   | 2023-07-28      | BBG00N6MD6M2 | RU000A1002C2 | 9   | 43.38 rub     | Constant  | 182    | 2023-07-27        |
|   ‚Äî   | 2023-07-30      | BBG00JS9D851 | XS1760786340 | 22  | 0 usd         | Variable  | 90     | 2023-07-28        |
|       |                 |              |              |     |               |           |        |                   |
|   ‚Äî   | 2024-01-26      | BBG00N6MD6M2 | RU000A1002C2 | 10  | 43.38 rub     | Constant  | 182    | 2024-01-25        |

TKSBrokerAPI.py     L:4116 INFO    [2022-11-05 21:56:24,404] Bond payment calendar was saved to file: [calendar.md]
```

</details>

### –ö–∞–∫ Python API —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è TKSBrokerAPI

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º –∏ –º–µ—Ç–æ–¥–∞–º –∫–ª–∞—Å—Å–∞ `TKSBrokerAPI.TinkoffBrokerServer()` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è [–ø–æ —Å—Å—ã–ª–∫–µ](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html). –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ ["–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"](#–û—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).

–° –ø–æ–º–æ—â—å—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ —è–∑—ã–∫–µ Python –ª—é–±–æ–π —Ç–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π. –ß—Ç–æ –±—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –≤–∞–º–∏ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–Ω—è—Ç–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–µ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–µ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç—á—ë—Ç–æ–≤ –∏–ª–∏ —Å–ª–µ–∂–µ–Ω–∏–µ –∑–∞ —Å–¥–µ–ª–∫–∞–º–∏ –¥—Ä—É–≥–∏—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤), –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –±–∞–∑–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–¥–µ–ª–∫–∏. –ú–æ–¥—É–ª—å `TKSBrokerAPI` –±—É–¥–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –∫–∞–∫ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –∫–æ–¥–æ–º —Å –ª–æ–≥–∏–∫–æ–π —Ç–æ—Ä–≥–æ–≤ –∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏ –≤ [–±—Ä–æ–∫–µ—Ä—Å–∫–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ](https://tinkoff.ru/sl/AaX1Et1omnH).

‚ùó **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ:** –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–π (HFT) —Ç–æ—Ä–≥–æ–≤–ª–∏, –∏–∑-–∑–∞ —Å–∏—Å—Ç–µ–º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π TINKOFF INVEST API (–ø–æ–¥—Ä–æ–±–Ω–µ–µ [–ø–æ —Å—Å—ã–ª–∫–µ](https://tinkoff.github.io/investAPI/limits/)). –í —Å—Ä–µ–¥–Ω–µ–º, —ç—Ç–æ 50-300 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö —Ç–∏–ø–∞, —á—Ç–æ –æ—á–µ–Ω—å –º–∞–ª–æ –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∫–æ—Ä–æ—Å—Ç—è–º HFT (–µ—Å—Ç—å [–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π](https://tinkoff.github.io/investAPI/speedup/) –ø–æ —É—Å–∫–æ—Ä–µ–Ω–∏—é –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Ä—É—á–µ–Ω–∏–π). –û–¥–Ω–∞–∫–æ –≤—ã –≤–ø–æ–ª–Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ—ë –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–≤–æ–∏—Ö –∏–Ω—Ç—Ä–∞–¥–µ–π, –∫—Ä–∞—Ç–∫–æ-, —Å—Ä–µ–¥–Ω–µ- –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.

![](./docs/media/TKSBrokerAPI-flow.png)

–°—Ö–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ —Å –ø–æ–º–æ—â—å—é TKSBrokerAPI –æ—á–µ–Ω—å –ø—Ä–æ—Å—Ç–∞—è:
1. –í—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç–µ –≥–µ–Ω–∏–∞–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º.
2. –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç–µ –µ–≥–æ –ø–æ—à–∞–≥–æ–≤–æ –≤ –≤–∏–¥–µ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –ø–ª–∞–Ω–∞ –∏–ª–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.
3. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞ Python –ø—Ä–∏ –ø–æ–º–æ—â–∏ TKSBrokerAPI.
4. TKSBrokerAPI –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è –≤—Å—é —Ä–∞–±–æ—Ç—É —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.
5. –ü—Ä–æ—Ñ–∏—Ç!

–ù–æ –æ—Ç–∫—É–¥–∞ –∂–µ –≤–∑—è—Ç—å —ç—Ç–æ—Ç "–≥–µ–Ω–∏–∞–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º"? –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ TKSBrokerAPI –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –∏ –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–≤–∏—á–Ω—ã—Ö, "—Å—ã—Ä—ã—Ö" –¥–∞–Ω–Ω—ã—Ö –ø–æ —Ç–æ—Ä–≥–æ–≤—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º (–∞–∫—Ü–∏–∏, –æ–±–ª–∏–≥–∞—Ü–∏–∏, —Ñ–æ–Ω–¥—ã, —Ñ—å—é—á–µ—Ä—Å—ã –∏ –≤–∞–ª—é—Ç—ã) —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞, –¥–ª—è –∏—Ö –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤ –ª—é–±–æ–º —É–¥–æ–±–Ω–æ–º –¥–ª—è –≤–∞—Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ. –î–ª—è —ç—Ç–æ–≥–æ –≤ –º–µ—Ç–æ–¥–∞—Ö –º–æ–¥—É–ª—è TKSBrokerAPI –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–±–æ–≥–∞—â–µ–Ω–∏—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö: XLSX –∏ CSV (–¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤ —Ç–∞–±–ª–∏—á–Ω—ã—Ö —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞—Ö), Markdown (–¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —á—Ç–µ–Ω–∏—è), –∞ —Ç–∞–∫–∂–µ Pandas DataFrame (–¥–ª—è –¥–∞—Ç–∞—Å–∞–π–Ω—Ç–∏—Å—Ç–æ–≤ –∏ –±–∏—Ä–∂–µ–≤—ã—Ö –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–≤). –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ—Ç–æ–¥—ã –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ "[–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–û—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)" –∏–ª–∏ –≤ –ø–æ–ª–Ω–æ–π "[API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html)" –Ω–∞ –º–æ–¥—É–ª—å TKSBrokerAPI.

–í –∫–∞—á–µ—Å—Ç–≤–µ "—Å—ã—Ä—ã—Ö" –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—Å—ë, —á—Ç–æ [–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å](https://tinkoff.github.io/investAPI/swagger-ui/) —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞. –ü–æ—Å–ª–µ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –∏–∑ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –ø–æ—Å—Ç—Ä–æ–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, [—Å–≤–æ–¥–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å](#–ü–æ—Å—Ç—Ä–æ–∏—Ç—å-–∫–∞–ª–µ–Ω–¥–∞—Ä—å-–≤—ã–ø–ª–∞—Ç-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º) –≤—ã–ø–ª–∞—Ç –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º –∏ –ø–æ–¥—Å—á–∏—Ç–∞—Ç—å –∏—Ö [–∫—É–ø–æ–Ω–Ω—ã–µ –∏ —Ç–µ–∫—É—â–∏–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏](#–ü–æ–ª—É—á–∏—Ç—å-–æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ-–¥–∞–Ω–Ω—ã–µ-–ø–æ-–æ–±–ª–∏–≥–∞—Ü–∏—è–º), –∏–ª–∏ –º–æ–∂–Ω–æ —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ [—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∞–∫—Ç–∏–≤–æ–≤](#–ü–æ–ª—É—á–∏—Ç—å-—Ç–µ–∫—É—â–∏–π-–ø–æ—Ä—Ç—Ñ–µ–ª—å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∏-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è-–∞–∫—Ç–∏–≤–æ–≤) –ø–æ —Ç–∏–ø–∞–º, –∫–æ–º–ø–∞–Ω–∏—è–º, –æ—Ç—Ä–∞—Å–ª—è–º, –≤–∞–ª—é—Ç–∞–º –∏ —Å—Ç—Ä–∞–Ω–∞–º. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å [–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ](#–°–∫–∞—á–∞—Ç—å-–∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ-–¥–∞–Ω–Ω—ã–µ-–≤-—Ñ–æ—Ä–º–∞—Ç–µ-OHLCV-—Å–≤–µ—á–µ–π) –ø–æ —Ü–µ–Ω–∞–º –ª—é–±–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –≤ –≤–∏–¥–µ OHLCV-—Å–≤–µ—á–µ–π.

![](./docs/media/TKSBrokerAPI-extend-data-flow.png)

–ö–∞–∫ –æ–±–æ–≥–∞—â–∞—é—Ç—Å—è –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –≤ TKSBrokerAPI:
1. –í—ã –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç–µ –Ω—É–∂–Ω—ã–µ –≤–∞–º –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è TKSBrokerAPI:
   - –≤ —ç—Ç–æ–º –º–æ–¥—É–ª–µ –ø–æ—á—Ç–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç "—Å—ã—Ä—ã–µ" –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è Python.
2. –î–∞–ª–µ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∞, –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ:
   - –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á—ë—Ç—ã.
3. –ü–æ—Å–ª–µ –æ–±–æ–≥–∞—â–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø—Ä–∏–≥–æ–¥–Ω–æ–º –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ: 
   - –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è Python –∏–ª–∏ Pandas DataFrame;
   - –µ—Å–ª–∏ –≤—ã –∑–∞–ø—É—Å–∫–∞–ª–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É TKSBrokerAPI –≤ –∫–æ–Ω—Å–æ–ª–∏, —Ç–æ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ñ–æ—Ä–º–∞—Ç–∞—Ö XLSX, CSV –∏–ª–∏ Markdown.
4. –î–∞–ª–µ–µ –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∏–≤—ã—á–Ω—É—é –≤–∞–º –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é —Å–∏—Å—Ç–µ–º—É –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –≤ –Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π, –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π, –¥–µ–ª–∞—Ç—å –ø—Ä–æ–≥–Ω–æ–∑—ã –∏ —Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏—è.
5. –î–∞–ª–µ–µ, –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≤—ã –ø—Ä–∏–¥—É–º—ã–≤–∞–µ—Ç–µ —Ç–æ—Ç —Å–∞–º—ã–π "–≥–µ–Ω–∏–∞–ª—å–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º".
6. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç–µ —Ç–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π (–ø–æ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ö–µ–º–µ).
7. –ü—Ä–æ—Ñ–∏—Ç!

#### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

–í –¥–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –∞–∫—Ü–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∞ —Ç–æ–ª—å–∫–æ –ª–∏—à—å —É–∫–∞–∑–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. –ü–æ—ç—Ç–æ–º—É, –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –æ–±—ä—ë–º–æ–≤ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫—É–ø–æ–∫ –∏ –ø—Ä–æ–¥–∞–∂, –∏ —Ä–µ–∞–ª–∏–∑—É–µ–º –µ–≥–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–æ–¥—É–ª—è TKSBrokerAPI, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –î–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç —Å–ª–µ–¥—É—é—â–∏–µ:

- –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞;
- –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –≥–ª—É–±–∏–Ω–æ–π 20 –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–∫—Ü–∏–∏ —Å —Ç–∏–∫–µ—Ä–∞–º–∏ `YNDX`, `IBM` –∏ `GOOGLE`;
- –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–Ω–µ–µ –µ—â—ë –Ω–µ –±—ã–ª –∫—É–ø–ª–µ–Ω, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
  - –µ—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (—Å–≤–æ–±–æ–¥–Ω—ã–π –∫–µ—à) –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–µ, —á–µ–º 5% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–π –≤–∞–ª—é—Ç–µ, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
    - –µ—Å–ª–∏ –≤ —Å—Ç–∞–∫–∞–Ω–µ –æ–±—ä—ë–º—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É –±–æ–ª—å—à–µ –æ–±—ä—ë–º–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –º–∏–Ω–∏–º—É–º –Ω–∞ 10%, —Ç–æ –∫—É–ø–∏—Ç—å 1 –∞–∫—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É –∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∫–∞–∫ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –Ω–∞ 3% –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏ —Å–æ —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è 1 —á–∞—Å;
- –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —É–∂–µ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ 2.5%, —Ç–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –≤–µ—Å—å –æ–±—ä—ë–º, –Ω–æ –µ—â—ë —á—É—Ç—å-—á—É—Ç—å –≤—ã—à–µ (–Ω–∞ 0.1%) –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å —Å –ø—Ä–æ—Ñ–∏—Ç–æ–º —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏;
- –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–æ–º –Ω–∏–∂–µ. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å —Å–≤–æ–π token –∏ accountId –≤ —Ä–∞–∑–¥–µ–ª–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ –∫–æ–¥–µ (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)). –ë–æ–ª—å—à–∞—è —á–∞—Å—Ç—å –∫–æ–¥–∞ –ø–æ–¥—Ä–æ–±–Ω–æ –ø—Ä–æ–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –∏ –¥–∞–Ω—ã —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã API.

<details>
  <summary>–¢–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞ Python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI</summary>

–°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–¥–µ—Å—å: [./docs/examples/scenario1.py](./docs/examples/scenario1.py)

```python
# -*- coding: utf-8 -*-
# Author: Timur Gilmullin


# --- –°–µ–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: –∏–º–ø–æ—Ä—Ç—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ------------------------------------------------------------

from datetime import datetime, timedelta
from dateutil.tz import tzlocal, tzutc
from math import ceil
from tksbrokerapi.TKSBrokerAPI import TinkoffBrokerServer, uLogger  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html

uLogger.level = 10  # DEBUG (10) —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `TKSBrokerAPI.log`
uLogger.handlers[0].level = 20  # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å STDOUT, INFO (20) —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

start = datetime.now(tzutc())

uLogger.debug("=--=" * 20)
uLogger.debug("Trading scenario started at: [{}] UTC, it is [{}] local time".format(
    start.strftime("%Y-%m-%d %H:%M:%S"),
    start.astimezone(tzlocal()).strftime("%Y-%m-%d %H:%M:%S"),
))

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–¥–µ—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ –≤–∞—à–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É:
TICKERS_LIST_FOR_TRADING = ["YNDX", "IBM", "GOOGL"]  # –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º: –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –∑–∞–¥–∞—Ç—å –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Å–∫—Ä–∏–Ω–µ—Ä–∞
RESERVED_MONEY = 0.05  # –î–æ–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (–æ—Ç 0 –¥–æ 1), –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Ç–æ—Ä–≥–∞—Ö, 0.05 (—ç—Ç–æ 5%) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
LOTS = 1  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ª–æ—Ç–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∏
TP_STOP_DIFF = 0.03  # 3% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤
TP_LIMIT_DIFF = 0.025  # 2.5% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
TOLERANCE = 0.001  # –î–æ–ø—É—Å—Ç–∏–º–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω—ã –æ—Ç —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, 0.1% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DEPTH_OF_MARKET = 20  # –ù–∞—Å–∫–æ–ª—å–∫–æ –≥–ª—É–±–æ–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—É—â–∏—Ö –æ–±—ä—ë–º–æ–≤ —Ç–æ—Ä–≥–æ–≤, >= 1
VOLUME_DIFF = 0.1  # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –æ–±—ä—ë–º–∞—Ö —Ç–µ–∫—É—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏, 10% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞, TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__
trader = TinkoffBrokerServer(
    token="",  # –í–Ω–∏–º–∞–Ω–∏–µ! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º —Å—é–¥–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN`
    accountId="",  # –í–Ω–∏–º–∞–Ω–∏–µ! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º accountId —Å—é–¥–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_ACCOUNT_ID`
)


# --- –°–µ–∫—Ü–∏—è –æ–ø–∏—Å–∞–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è -------------------------------------------------------------------------------

for ticker in TICKERS_LIST_FOR_TRADING:
    uLogger.info("--- Ticker [{}], data analysis...".format(ticker))

    # - –®–∞–≥ 1: –∑–∞–ø—Ä–æ—Å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ –∏ –≤–∞–ª—é—Ç –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏

    # –ü–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ–∫—Ü–∏—è–º–∏: {"raw": {...}, "stat": {...}, "analytics": {...}}
    portfolio = trader.Overview(show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview

    uLogger.info("Total portfolio cost: {:.2f} rub; blocked: {:.2f} rub; changes: {}{:.2f} rub ({}{:.2f}%)".format(
        portfolio["stat"]["portfolioCostRUB"],
        portfolio["stat"]["blockedRUB"],
        "+" if portfolio["stat"]["totalChangesRUB"] > 0 else "", portfolio["stat"]["totalChangesRUB"],
        "+" if portfolio["stat"]["totalChangesPercentRUB"] > 0 else "", portfolio["stat"]["totalChangesPercentRUB"],
    ))

    # –°–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏? –ù—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å (total - blocked).
    funds = portfolio["stat"]["funds"]  # –°–ª–æ–≤–∞—Ä—å, –Ω–∞–ø—Ä–∏–º–µ—Ä: {"rub": {"total": 10000.99, "totalCostRUB": 10000.99, "free": 1234.56, "freeCostRUB": 1234.56}, "usd": {"total": 250.55, "totalCostRUB": 15375.80, "free": 125.05, "freeCostRUB": 7687.50}, ...}

    uLogger.info("Available funds free for trading: {}".format("; ".join(["{:.2f} {}".format(funds[currency]["free"], currency) for currency in funds.keys()])))

    # - –®–∞–≥ 2: –∑–∞–ø—Ä–æ—Å —Å—Ç–∞–∫–∞–Ω–∞ —Ü–µ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

    trader.ticker = ticker
    trader.figi = ""  # –ú—ã –Ω–µ –∑–Ω–∞–µ–º FIGI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É —É–∫–∞–∑—ã–≤–∞–µ–º –∑–¥–µ—Å—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ TKSBrokerAPI –æ–ø—Ä–µ–¥–µ–ª–∏—Ç FIGI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
    trader.depth = DEPTH_OF_MARKET

    # –ü–æ–ª—É—á–∞–µ–º —Ü–µ–Ω—ã –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
    ordersBook = trader.GetCurrentPrices(show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetCurrentPrices

    if not (ordersBook["buy"] and ordersBook["sell"]):
        uLogger.warning("Not possible to trade an instrument with the ticker [{}]! Try again later.".format(trader.ticker))

    else:

        # - –®–∞–≥ 3: –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–∏—Å–∫–µ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
        #   - –µ—Å–ª–∏ –¥–µ–Ω–µ–∂–Ω—ã–π —Ä–µ–∑–µ—Ä–≤ (—Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–µ–Ω—å–≥–∏) –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–µ, —á–µ–º 5% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
        #     –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–π –≤–∞–ª—é—Ç–µ, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
        #     - –µ—Å–ª–∏ –æ–±—ä—ë–º—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ –±–æ–ª—å—à–µ —Ö–æ—Ç—è –±—ã –Ω–∞ 10% —á–µ–º –æ–±—ä—ë–º—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤, —Ç–æ–≥–¥–∞ –ø–æ–∫—É–ø–∞–µ–º 1 –ª–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        #       –ø–æ —Ä—ã–Ω–∫—É –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∫–∞–∫ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –Ω–∞ 3% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Å –æ—Ç–º–µ–Ω–æ–π –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ 1 —á–∞—Å;

        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ç–µ–∫—É—â–µ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–∞–¥–∞–Ω–Ω–æ–º—É —á–µ—Ä–µ–∑ `ticker`, –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
        isInPortfolio = trader.IsInPortfolio(portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.IsInPortfolio

        if not isInPortfolio:
            uLogger.info("Ticker [{}]: no current open positions with that instrument, checking opens rules...".format(trader.ticker))

            # –¢–∞–∫ –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–µ—Ç —Å—Ä–µ–¥–∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —Ç–æ –ø–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏ –µ–≥–æ –≤–∞–ª—é—Ç–µ —É –±—Ä–æ–∫–µ—Ä–∞:
            rawIData = trader.SearchByTicker(requestPrice=False, show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByTicker
            iCurr = rawIData["currency"]  # –≤–∞–ª—é—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

            # –ü–æ–ª—É—á–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ—Ä—Ç—Ñ–µ–ª—è: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–∞–ª—é—Ç–∞–º, —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–Ω–µ–µ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫:
            distrByCurr = portfolio["analytics"]["distrByCurrencies"]  # —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–∞–ª—é—Ç–∞–º, –æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö
            assetsCostInRuble = distrByCurr[iCurr]["cost"]  # —Å—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª–∏
            currencyFreeCostInRuble = funds[iCurr]["freeCostRUB"]  # –æ—Ü–µ–Ω–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª—è—Ö, –¥–ª—è –≤–∞–ª—é—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

            # –ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑–µ—Ä–≤—ã –∏ —Ä–∞–∑–Ω–∏—Ü—É –æ–±—ä—ë–º–æ–≤ —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
            if currencyFreeCostInRuble / assetsCostInRuble >= RESERVED_MONEY:
                sumSellers = sum([x["quantity"] for x in ordersBook["buy"]])  # —Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ —Å—Ç–∞–∫–∞–Ω–µ (—É –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å)
                sumBuyers = sum([x["quantity"] for x in ordersBook["sell"]])  # —Ç–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ (–ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å)

                if sumBuyers >= sumSellers * (1 + VOLUME_DIFF):
                    # –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É, –≤—ã—á–∏—Å–ª—è–µ–º —Ü–µ–Ω—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞:
                    currentPriceToBuy = ordersBook["buy"][0]["price"]  # –ø–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ –æ—Ä–¥–µ—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å
                    target = currentPriceToBuy * (1 + TP_STOP_DIFF)  # —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–ª—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞, –±–µ–∑ —É—á—ë—Ç–∞ —à–∞–≥–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã
                    targetStop = ceil(target / rawIData["step"]) * rawIData["step"]  # —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, —Å —É—á—ë—Ç–æ–º –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ —à–∞–≥–∞ —Ü–µ–Ω—ã
                    localAliveTo = (datetime.now() + timedelta(hours=1)).strftime("%Y-%m-%d %H:%M:%S")  # —Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è + 1 —á–∞—Å

                    uLogger.info("Opening BUY position... (Buyers volumes [{}] >= {} * sellers volumes [{}] and current price to buy: [{:.2f} {}])".format(
                        sumBuyers, 1 + VOLUME_DIFF, sumSellers, currentPriceToBuy, iCurr,
                    ))

                    # –û—Ç–∫—Ä—ã–≤–∞–µ–º BUY –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É –∏ —Å–æ–∑–¥–∞—ë–º —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –ø–æ –∂–µ–ª–∞–µ–º–æ–π —Ü–µ–Ω–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞:
                    trader.Buy(lots=LOTS, tp=targetStop, sl=0, expDate=localAliveTo)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Buy

                else:
                    uLogger.info("BUY position not opened, because buyers volumes [{}] < {} * sellers volumes [{}]".format(sumBuyers, 1 + VOLUME_DIFF, sumSellers))

            else:
                uLogger.info("BUY position not opened, because the reserves in [{}] will be less than {:.2f}% of free funds".format(iCurr, RESERVED_MONEY * 100))

        else:

            # - –®–∞–≥ 4: –µ—Å–ª–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É —É–∂–µ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ–∑–∏—Ü–∏—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
            #   - –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ 2.5% –≤—ã—à–µ, —á–µ–º —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Ç–æ —Ä–∞–∑–º–µ—â–∞–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π
            #     –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –≤–µ—Å—å –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ü–µ–Ω–µ –Ω–∞ 0.1% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è 
            #     –∑–∞–∫—Ä—ã–ª–∞—Å—å —Å –ø—Ä–æ—Ñ–∏—Ç–æ–º, —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏.

            uLogger.info("Ticker [{}]: there is an open position with that instrument, checking close rules...".format(trader.ticker))

            # –ü–æ–ª—É—á–∞–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏–∑ —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
            iData = trader.GetInstrumentFromPortfolio(portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetInstrumentFromPortfolio

            # –í—ã—á–∏—Å–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏, —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ç–µ–∫—É—â—É—é —Ä—ã–Ω–æ—á–Ω—É—é —Ü–µ–Ω—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:
            lotsToSell = iData["volume"] - iData["blocked"]  # –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
            averagePrice = iData["average"]  # —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏
            curPriceToSell = ordersBook["sell"][0]["price"]  # –ø–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

            # –í—ã—á–∏—Å–ª—è–µ–º —Ü–µ–Ω—É —Å —É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å —Å—Ç—Ä–æ–≥–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —Ü–µ–Ω–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞:
            curProfit = (curPriceToSell - averagePrice) / averagePrice  # –¥–æ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–æ–π –∏ —Å—Ä–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
            target = curPriceToSell * (1 + TOLERANCE)  # –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
            targetLimit = ceil(target / iData["step"]) * iData["step"]  # —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ + —É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ-–æ—Ä–¥–µ—Ä–∞

            # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é —Ä–∞–∑–Ω–∏—Ü—É –≤ —Ü–µ–Ω–µ –¥–ª—è –ø—Ä–æ—Ñ–∏—Ç–∞:
            if curProfit >= TP_LIMIT_DIFF:
                uLogger.info("The current price is [{:.2f} {}], average price is [{:.2f} {}], so profit {:.2f}% more than {:.2f}%. Opening SELL pending limit order...".format(
                    curPriceToSell, iData["currency"], averagePrice, iData["currency"], curProfit * 100, TP_LIMIT_DIFF * 100,
                ))

                # –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π SELL –æ—Ä–¥–µ—Ä:
                trader.SellLimit(lots=lotsToSell, targetPrice=targetLimit)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellLimit

            else:
                uLogger.info("SELL order not created, because the current price is [{:.2f} {}], average price is [{:.2f} {}], so profit {:.2f}% less than {:.2f}% target.".format(
                    curPriceToSell, iData["currency"], averagePrice, iData["currency"], curProfit * 100, TP_LIMIT_DIFF * 100,
                ))

# - –®–∞–≥ 5: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

uLogger.info("--- All trade operations finished. Let's show what we got in the user's portfolio after all trades.")

# –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
trader.Overview(show=True)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview


# --- –°–µ–∫—Ü–∏—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π -----------------------------------------------------------------------------

finish = datetime.now(tzutc())
uLogger.debug("Trading scenario work duration: [{}]".format(finish - start))
uLogger.debug("Trading scenario finished: [{}] UTC, it is [{}] local time".format(
    finish.strftime("%Y-%m-%d %H:%M:%S"),
    finish.astimezone(tzlocal()).strftime("%Y-%m-%d %H:%M:%S"),
))
uLogger.debug("=--=" * 20)
```

</details>

<details>
  <summary>–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–ø—É—Å–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è</summary>

```commandline
scenario1.py        L:83   INFO    [2022-08-23 17:35:55,631] --- Ticker [YNDX], data analysis...
scenario1.py        L:90   INFO    [2022-08-23 17:35:56,479] Total portfolio cost: 407899.66 rub; blocked: 0.00 rub; changes: +7151.71 rub (+1.77%)
scenario1.py        L:100  INFO    [2022-08-23 17:35:56,479] Available funds free for trading: 5.29 eur; 928.93 cny; 1.00 chf; 10.00 gbp; 100.00 try; 167.84 usd; 237.75 hkd; 540.45 rub
scenario1.py        L:112  INFO    [2022-08-23 17:35:56,573] The current price is [2056.40 rub], average price is [1997.20 rub], so profit more than +2.50%. Opening SELL pending limit order...
scenario1.py        L:112  INFO    [2022-08-23 17:35:56,573] Limit-order [*********] was created: ticker [YNDX], FIGI [BBG006L8G4H1], action [Sell], lots [4.0], target price [2056.40 rub]
scenario1.py        L:83   INFO    [2022-08-23 17:35:56,574] --- Ticker [IBM], data analysis...
scenario1.py        L:90   INFO    [2022-08-23 17:35:57,297] Total portfolio cost: 407899.66 rub; blocked: 0.00 rub; changes: +7151.71 rub (+1.77%)
scenario1.py        L:100  INFO    [2022-08-23 17:35:57,297] Available funds free for trading: 5.29 eur; 928.93 cny; 1.00 chf; 10.00 gbp; 100.00 try; 167.84 usd; 237.75 hkd; 540.45 rub
scenario1.py        L:126  INFO    [2022-08-23 17:35:57,396] Ticker [IBM]: no current open positions with that instrument, checking opens rules...
scenario1.py        L:157  INFO    [2022-08-23 17:35:57,396] BUY position not opened, because buyers volumes [452] < 1.1 * sellers volumes [944]
scenario1.py        L:83   INFO    [2022-08-23 17:35:57,396] --- Ticker [GOOGL], data analysis...
scenario1.py        L:90   INFO    [2022-08-23 17:35:58,066] Total portfolio cost: 407899.66 rub; blocked: 0.00 rub; changes: +7151.71 rub (+1.77%)
scenario1.py        L:100  INFO    [2022-08-23 17:35:58,066] Available funds free for trading: 5.29 eur; 928.93 cny; 1.00 chf; 10.00 gbp; 100.00 try; 167.84 usd; 237.75 hkd; 540.45 rub
scenario1.py        L:126  INFO    [2022-08-23 17:35:58,161] Ticker [GOOGL]: no current open positions with that instrument, checking opens rules...
scenario1.py        L:149  INFO    [2022-08-23 17:35:58,161] Opening BUY position... (Buyers volumes [3974] >= 1.1 * sellers volumes [2611] and current price to buy: [119.98 usd])
TKSBrokerAPI.py     L:2398 INFO    [2022-08-23 17:35:58,647] [Buy] market order [456488037450] was executed: ticker [GOOGL], FIGI [BBG009S39JX6], lots [1]. Total order price: [119.9800 usd] (with commission: [0.04 usd]). Average price of lot: [119.98 usd]
TKSBrokerAPI.py     L:2669 INFO    [2022-08-23 17:35:59,162] Stop-order [********-****-****-****-************] was created: ticker [GOOGL], FIGI [BBG009S39JX6], action [Sell], lots [1], target price [123.58 usd], limit price [123.58 usd], stop-order type [Take profit] and expiration date in UTC [2022-08-18 17:35:58]
scenario1.py        L:204  INFO    [2022-08-23 17:35:59,163] --- All trade operations finished. Let's show what we got in the user's portfolio after all trades.
TKSBrokerAPI.py     L:1922 INFO    [2022-08-23 17:35:59,958] Statistics of client's portfolio:
# Client's portfolio
...
```

</details>

–ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, –≤ –ø—Ä–∏–º–µ—Ä–µ –≤—ã—à–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–∞–ø–∏—Å–∞–Ω –ª–∏–Ω–µ–π–Ω—ã–π —Å–∫—Ä–∏–ø—Ç, –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—â–∏–π —Ç–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π. –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –Ω–∞—á–∞–ª–µ —Å–∫—Ä–∏–ø—Ç–∞, –¥–∞–ª–µ–µ –∏–¥—É—Ç –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ç–æ—Ä–≥–æ–≤—ã—Ö —à–∞–≥–æ–≤-–∫–æ–º–∞–Ω–¥. –¢–æ –µ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞—Ä–∞–¥–∏–≥–º–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è. –ò–∑ –ø–ª—é—Å–æ–≤ —Ç–∞–∫–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞, —á—Ç–æ –ª–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∫—Ä–∏–ø—Ç–µ –ø–æ–¥—Ä—è–¥, —à–∞–≥ –∑–∞ —à–∞–≥–æ–º, –∏ —Å—Ä–∞–∑—É –≤–∏–¥–Ω–æ, —á—Ç–æ –∏ –¥–ª—è —á–µ–≥–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è. –ï—Å–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–æ—Å—Ç–æ–π, –º–æ–∂–Ω–æ –æ–∫–∏–Ω—É—Ç—å –≤–∑–≥–ª—è–¥–æ–º –µ–≥–æ –∫–æ–¥ —Ü–µ–ª–∏–∫–æ–º. –≠—Ç–æ—Ç –∂–µ –ø–ª—é—Å —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–∏–Ω—É—Å–æ–º, –∫–æ–≥–¥–∞ –ª–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–∞—è, —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤–µ—Ç–≤–ª–µ–Ω–∏–π. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ —Å–∫—Ä–∏–ø—Ç –º–æ–∂–µ—Ç –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å—Å—è –≤ "–ø–æ—Ä—Ç—è–Ω–∫—É" —Ç—Ä—É–¥–Ω–æ-—á–∏—Ç–∞–µ–º–æ–≥–æ –∫–æ–¥–∞.

–ï—Å–ª–∏ –≤—ã –ø–æ–∫–ª–æ–Ω–Ω–∏–∫ –±–æ–ª—å—à–µ –æ–±—ä–µ–∫—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ –∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—é, —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–ª–∞—Å—Å–∞–º–∏. –ü—Ä–∏ —ç—Ç–æ–º –∏—Å—á–µ–∑–Ω–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–π –º–∏–Ω—É—Å: –ª–æ–≥–∏–∫–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —à–∞–≥–æ–≤ –±—É–¥–µ—Ç –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ –º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞, —á—Ç–æ —É–ø—Ä–æ—Å—Ç–∏—Ç –∏—Ö –æ—Ç–ª–∞–¥–∫—É, –∞ —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ç–æ—Ä–≥–æ–≤—ã—Ö —à–∞–≥–æ–≤ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ–ø–∏—Å–∞—Ç—å –∫–æ—Ä–æ—Ç–∫–∏–º–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –≤–∏–¥–∞ `if ... else`.

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª—É—á—à–µ —Å–æ–∑–¥–∞—Ç—å —É–Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–Ω—ã–π –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ API-–∫–ª–∞—Å—Å–∞ `TinkoffBrokerServer()` –∫–ª–∞—Å—Å `TradeScenario(TinkoffBrokerServer)`. –í –∫–∞—á–µ—Å—Ç–≤–µ –ø–æ–ª–µ–π –∫–ª–∞—Å—Å–∞ –º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∏–º–µ–Ω–∞ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, –Ω–∞–ø–∏—Å–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞ –∏ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫, –∏ –∑–∞—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—ã–∑–æ–≤ –≤—Å–µ—Ö —É—Å–ª–æ–≤–∏–π –∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤ –º–µ—Ç–æ–¥–µ `run()`. –í –æ—Å–Ω–æ–≤–Ω–æ–º –±–ª–æ–∫–µ `if __name__ == "__main__:"` –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å–æ–∑–¥–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–ª–∞—Å—Å–∞-—Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞—Ç—å –µ–≥–æ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏ –∏–∑ –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞, –∞ –∑–∞—Ç–µ–º –≤—ã–∑–≤–∞—Ç—å –º–µ—Ç–æ–¥ `run()`.

–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–æ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è, –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–Ω—ã–π –∫–ª–∞—Å—Å–∞–º–∏, –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–æ–º –Ω–∏–∂–µ. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–π token –∏ accountId (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)).

<details>
  <summary>–¢–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI (–≤–∞—Ä–∏–∞–Ω—Ç —Å –∫–ª–∞—Å—Å–æ–º –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è)</summary>

–°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–¥–µ—Å—å: [./docs/examples/scenario1a.py](./docs/examples/scenario1a.py)

```python
# -*- coding: utf-8 -*-
# Author: Timur Gilmullin


# --- –°–µ–∫—Ü–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏: –∏–º–ø–æ—Ä—Ç—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ ------------------------------------------------------------

from datetime import datetime, timedelta
from dateutil.tz import tzlocal, tzutc
from math import ceil

from tksbrokerapi.TKSBrokerAPI import TinkoffBrokerServer, uLogger  # –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html
from tksbrokerapi.TKSEnums import TKS_PRINT_DATE_TIME_FORMAT


class TradeScenario(TinkoffBrokerServer):
    """–≠—Ç–æ—Ç –∫–ª–∞—Å—Å –æ–ø–∏—Å—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è –ª–æ–≥–∏–∫–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è."""

    def __init__(self, userToken: str, userAccount: str = None) -> None:
        """
        –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è.

        :param userToken: Bearer token –¥–ª—è Tinkoff Invest API. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN`.
        :param userAccount: —Å—Ç—Ä–æ–∫–∞ —Å –Ω–æ–º–µ—Ä–æ–º –∞–∫–∫–∞—É–Ω—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è accountId. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_ACCOUNT_ID`.

        –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –º–æ–¥—É–ª—å TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__
        """
        super().__init__(token=userToken, accountId=userAccount)  # –≤—ã–∑–æ–≤ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ `__init__()` –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –≤ TKSBrokerAPI

        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è:
        self.tickers = []  # –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º: –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –∑–∞–¥–∞—Ç—å –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Å–∫—Ä–∏–Ω–µ—Ä–∞
        self.reserve = 0.05  # –î–æ–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (–æ—Ç 0 –¥–æ 1), –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Ç–æ—Ä–≥–∞—Ö, 0.05 (—ç—Ç–æ 5%) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        self.lots = 1  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ª–æ—Ç–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∏
        self.tpStopDiff = 0.03  # 3% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤
        self.tpLimitDiff = 0.025  # 2.5% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
        self.tolerance = 0.001  # –î–æ–ø—É—Å—Ç–∏–º–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω—ã –æ—Ç —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, 0.1% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        self.depth = 20  # –ù–∞—Å–∫–æ–ª—å–∫–æ –≥–ª—É–±–æ–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—É—â–∏—Ö –æ–±—ä—ë–º–æ–≤ —Ç–æ—Ä–≥–æ–≤, >= 1
        self.volDiff = 0.1  # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –æ–±—ä—ë–º–∞—Ö —Ç–µ–∫—É—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏, 10% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

        # –í—ã—á–∏—Å–ª—è–µ–º—ã–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–Ω–µ –¥–ª—è —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏):
        self._portfolio = {}  # –ü–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ–∫—Ü–∏—è–º–∏: {"raw": {...}, "stat": {...}, "analytics": {...}}
        self._funds = {}  # –°–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏? –ù—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å (total - blocked), –Ω–∞–ø—Ä–∏–º–µ—Ä: {"rub": {"total": 10000.99, "totalCostRUB": 10000.99, "free": 1234.56, "freeCostRUB": 1234.56}, "usd": {"total": 250.55, "totalCostRUB": 15375.80, "free": 125.05, "freeCostRUB": 7687.50}, ...}
        self._ordersBook = {"buy": [], "sell": [], "limitUp": 0, "limitDown": 0, "lastPrice": 0, "closePrice": 0}  # –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–µ–Ω—ã –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        self._rawIData = {}  # –°—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞
        self._sumSellers = 0  # –¢–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ —Å—Ç–∞–∫–∞–Ω–µ (—É –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å)
        self._sumBuyers = 0  # –¢–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ (–ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å)
        self._iCurr = ""  # –í–∞–ª—é—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        self._distrByCurr = {}  # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–∞–ª—é—Ç–∞–º, –æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö
        self._assetsCostInRuble = 0  # –°—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª–∏
        self._currencyFreeCostInRuble = 0  # –û—Ü–µ–Ω–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª—è—Ö, –¥–ª—è –≤–∞–ª—é—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        self._iData = {}  # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏–∑ —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        self._lotsToSell = 0  # –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
        self._averagePrice = 0  # –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏
        self._curPriceToSell = 0  # –ü–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
        self._curProfit = 0  # –î–æ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–æ–π –∏ —Å—Ä–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
        self._targetLimit = 0  # –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ + —É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ-–æ—Ä–¥–µ—Ä–∞
        self._changes = False  # –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ `True` –µ—Å–ª–∏ –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

    def _GetPortfolio(self) -> None:
        """
        –ü–æ–ª—É—á–∏—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –≠—Ç–æ —Å–ª–æ–≤–∞—Ä—å —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–µ–∫—Ü–∏—è–º–∏: {"raw": {...}, "stat": {...}, "analytics": {...}}
        """
        self._portfolio = self.Overview(show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview

        uLogger.info("Total portfolio cost: {:.2f} rub; blocked: {:.2f} rub; changes: {}{:.2f} rub ({}{:.2f}%)".format(
            self._portfolio["stat"]["portfolioCostRUB"],
            self._portfolio["stat"]["blockedRUB"],
            "+" if self._portfolio["stat"]["totalChangesRUB"] > 0 else "", self._portfolio["stat"]["totalChangesRUB"],
            "+" if self._portfolio["stat"]["totalChangesPercentRUB"] > 0 else "", self._portfolio["stat"]["totalChangesPercentRUB"],
        ))

    def _CalculateFreeFunds(self) -> None:
        """
        –°–∫–æ–ª—å–∫–æ –¥–µ–Ω–µ–≥ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤–∞–ª—é—Ç–∞—Ö –¥–æ—Å—Ç—É–ø–Ω–æ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏? –ù—É–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å (total - blocked).

        –ü—Ä–∏–º–µ—Ä: `self._funds = {"rub": {"total": 10000.99, "totalCostRUB": 10000.99, "free": 1234.56, "freeCostRUB": 1234.56},
                                "usd": {"total": 250.55, "totalCostRUB": 15375.80, "free": 125.05, "freeCostRUB": 7687.50}, ...}`
        """
        self._funds = self._portfolio["stat"]["funds"]

        uLogger.info("Available funds free for trading: {}".format("; ".join(["{:.2f} {}".format(self._funds[currency]["free"], currency) for currency in self._funds.keys()])))

    def _GetOrderBook(self, currentTicker: str) -> bool:
        """
        –ü–æ–ª—É—á–∏—Ç—å —Ü–µ–Ω—ã –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.

        :param currentTicker: –±–∏—Ä–∂–µ–≤–æ–π —Å—Ç–∞–∫–∞–Ω (DOM, Depth of Market) –±—É–¥–µ—Ç –∑–∞–ø—Ä–æ—à–µ–Ω –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–∫–µ—Ä–∞.
        :return: `True`, –µ—Å–ª–∏ –±—É–¥–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–æ—Ä–≥–æ–≤–∞—Ç—å (–±–∏—Ä–∂–µ–≤–æ–π —Å—Ç–∞–∫–∞–Ω –Ω–µ –ø—É—Å—Ç).
        """
        emptyBook = True
        self.ticker = currentTicker
        self.figi = ""  # –ú—ã –Ω–µ –∑–Ω–∞–µ–º FIGI –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–∫–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É —É–∫–∞–∑—ã–≤–∞–µ–º –∑–¥–µ—Å—å –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ TKSBrokerAPI –æ–ø—Ä–µ–¥–µ–ª–∏—Ç FIGI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

        self._ordersBook = self.GetCurrentPrices(show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetCurrentPrices

        if not (self._ordersBook["buy"] and self._ordersBook["sell"]):
            uLogger.warning("Not possible to trade an instrument with the ticker [{}]! Try again later.".format(self.ticker))

        else:
            emptyBook = False

        return emptyBook

    def _CalculateDataForOpenRules(self):
        """
        –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏ –µ–≥–æ –≤–∞–ª—é—Ç–µ —É –±—Ä–æ–∫–µ—Ä–∞. –ò –∑–∞—Ç–µ–º –ø–æ–ª—É—á–∞–µ–º –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ—Ä—Ç—Ñ–µ–ª—è:
        —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–∞–ª—é—Ç–∞–º, —Å—Ç–æ–∏–º–æ—Å—Ç—å —Ä–∞–Ω–µ–µ –∫—É–ø–ª–µ–Ω–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤ –∏ –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–≤–æ–±–æ–¥–Ω—ã–π –æ—Å—Ç–∞—Ç–æ–∫.
        """
        uLogger.info("Ticker [{}]: no current open positions with that instrument, checking opens rules...".format(self.ticker))

        self._rawIData = self.SearchByTicker(requestPrice=False, show=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByTicker
        self._iCurr = self._rawIData["currency"]  # –í–∞–ª—é—Ç–∞ —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        self._distrByCurr = self._portfolio["analytics"]["distrByCurrencies"]  # –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–∞–ª—é—Ç–∞–º, –æ—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤ —Ä—É–±–ª—è—Ö
        self._assetsCostInRuble = self._distrByCurr[self._iCurr]["cost"]  # –°—Ç–æ–∏–º–æ—Å—Ç—å –∞–∫—Ç–∏–≤–æ–≤ –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª–∏
        self._currencyFreeCostInRuble = self._funds[self._iCurr]["freeCostRUB"]  # –û—Ü–µ–Ω–∫–∞ —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤, –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω–Ω–∞—è –≤ —Ä—É–±–ª—è—Ö, –¥–ª—è –≤–∞–ª—é—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞

    def _CalculateDOMSums(self):
        """–í—ã—á–∏—Å–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –æ–±—ä—ë–º—ã –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ –±–∏—Ä–∂–µ–≤–æ–º —Å—Ç–∞–∫–∞–Ω–µ."""
        self._sumSellers = sum([x["quantity"] for x in self._ordersBook["buy"]])  # –¢–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ —Å—Ç–∞–∫–∞–Ω–µ (—É –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å)
        self._sumBuyers = sum([x["quantity"] for x in self._ordersBook["sell"]])  # –¢–µ–∫—É—â–∏–π –æ–±—ä—ë–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ (–ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å)

    def _OpenBuyMarketPosition(self):
        """
        –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É, –≤—ã—á–∏—Å–ª—è–µ–º —Ü–µ–Ω—É –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞ –∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞.
        –ò –∑–∞—Ç–µ–º –æ—Ç–∫—Ä—ã–≤–∞–µ–º BUY –ø–æ–∑–∏—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É –∏ —Å–æ–∑–¥–∞—ë–º —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –ø–æ –∂–µ–ª–∞–µ–º–æ–π —Ü–µ–Ω–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞.
        """
        currentPriceToBuy = self._ordersBook["buy"][0]["price"]  # –ü–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ –æ—Ä–¥–µ—Ä–æ–≤ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∫—É–ø–∏—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç
        target = currentPriceToBuy * (1 + self.tpStopDiff)  # –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–ª—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞
        targetStop = ceil(target / self._rawIData["step"]) * self._rawIData["step"]  # –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å —É—á—ë—Ç–æ–º –¥–æ–ø—É—Å—Ç–∏–º–æ–≥–æ —à–∞–≥–∞ –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞
        localAliveTo = (datetime.now() + timedelta(hours=1)).strftime(TKS_PRINT_DATE_TIME_FORMAT)  # –¢–µ–∫—É—â–µ–µ –ª–æ–∫–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è + 1 —á–∞—Å

        uLogger.info("Opening BUY position... (Buyers volumes [{}] >= {} * sellers volumes [{}] and current price to buy: [{:.2f} {}])".format(
            self._sumBuyers, 1 + self.volDiff, self._sumSellers, currentPriceToBuy, self._iCurr,
        ))

        buyResponse = self.Buy(lots=self.lots, tp=targetStop, sl=0, expDate=localAliveTo)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Buy

        if "message" in buyResponse.keys() and buyResponse["message"]:
            uLogger.warning("Server message: {}".format(buyResponse["message"]))

        else:
            self._changes = True

    def _Step3(self):
        """
        - –®–∞–≥ 3: –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–∏—Å–∫–µ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
          - –µ—Å–ª–∏ –¥–µ–Ω–µ–∂–Ω—ã–π —Ä–µ–∑–µ—Ä–≤ (—Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–µ–Ω—å–≥–∏) –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–µ, —á–µ–º 5% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
            –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–π –≤–∞–ª—é—Ç–µ, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
            - –µ—Å–ª–∏ –æ–±—ä—ë–º—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ –±–æ–ª—å—à–µ —Ö–æ—Ç—è –±—ã –Ω–∞ 10% —á–µ–º –æ–±—ä—ë–º—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤, —Ç–æ–≥–¥–∞ –ø–æ–∫—É–ø–∞–µ–º 1 –ª–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
              –ø–æ —Ä—ã–Ω–∫—É –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∫–∞–∫ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –Ω–∞ 3% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Å –æ—Ç–º–µ–Ω–æ–π –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ 1 —á–∞—Å;
        """
        # –ü—Ä–µ–∂–¥–µ —á–µ–º —Å–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∑–µ—Ä–≤—ã –∏ —Ä–∞–∑–Ω–∏—Ü—É –æ–±—ä—ë–º–æ–≤ —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
        if self._currencyFreeCostInRuble / self._assetsCostInRuble >= self.reserve:
            self._CalculateDOMSums()

            if self._sumBuyers >= self._sumSellers * (1 + self.volDiff):
                self._OpenBuyMarketPosition()

            else:
                uLogger.info("BUY position not opened, because buyers volumes [{}] < {} * sellers volumes [{}]".format(self._sumBuyers, 1 + self.volDiff, self._sumSellers))

        else:
            uLogger.info("BUY position not opened, because the reserves in [{}] will be less than {:.2f}% of free funds".format(self._iCurr, self.reserve * 100))

    def _CalculateDataForCloseRules(self):
        """
        –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏–∑ —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ó–∞—Ç–µ–º –≤—ã—á–∏—Å–ª—è–µ–º
        –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ª–æ—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏, —Å—Ä–µ–¥–Ω—é—é —Ü–µ–Ω—É –ø–æ–∑–∏—Ü–∏–∏ –∏ —Ç–µ–∫—É—â—É—é —Ä—ã–Ω–æ—á–Ω—É—é —Ü–µ–Ω—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞. –ò –∑–∞—Ç–µ–º
        –≤—ã—á–∏—Å–ª—è–µ–º —Ü–µ–Ω—É —Å —É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é, –Ω–µ –¥–æ–∂–∏–¥–∞—è—Å—å —Å—Ç—Ä–æ–≥–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ —Ü–µ–Ω–µ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç–∞.
        """
        uLogger.info("Ticker [{}]: there is an open position with that instrument, checking close rules...".format(self.ticker))

        self._iData = self.GetInstrumentFromPortfolio(self._portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetInstrumentFromPortfolio

        self._lotsToSell = self._iData["volume"] - self._iData["blocked"]  # –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ—Ç—ã —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
        self._averagePrice = self._iData["average"]  # –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏
        self._curPriceToSell = self._ordersBook["sell"][0]["price"]  # –ü–µ—Ä–≤–∞—è —Ü–µ–Ω–∞ –≤ —Å–ø–∏—Å–∫–µ –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –µ—Å—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –ø—Ä–æ–¥–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

        self._curProfit = (self._curPriceToSell - self._averagePrice) / self._averagePrice  # –î–æ–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–æ–π –∏ —Å—Ä–µ–¥–Ω–µ–π –ø–æ–∑–∏—Ü–∏–µ–π –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É
        target = self._curPriceToSell * (1 + self.tolerance)  # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ü–µ–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏
        self._targetLimit = ceil(target / self._iData["step"]) * self._iData["step"]  # –¶–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ + —É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ, –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ-–æ—Ä–¥–µ—Ä–∞

    def _OpenSellMarketPosition(self):
        """–û—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π SELL –æ—Ä–¥–µ—Ä, –µ—Å–ª–∏ —É–∂–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–æ—Ñ–∏—Ç–∞."""
        uLogger.info(
            "The current price is [{:.2f} {}], average price is [{:.2f} {}], so profit {:.2f}% more than {:.2f}%. Opening SELL pending limit order...".format(
                self._curPriceToSell, self._iData["currency"], self._averagePrice, self._iData["currency"],
                self._curProfit * 100, self.tpLimitDiff * 100,
            ))

        # –û—Ç–∫—Ä—ã–≤–∞–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π SELL –æ—Ä–¥–µ—Ä:
        sellResponse = self.SellLimit(lots=self._lotsToSell, targetPrice=self._targetLimit)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellLimit

        if "message" in sellResponse.keys() and sellResponse["message"]:
            uLogger.warning("Server message: {}".format(sellResponse["message"]))

        else:
            self._changes = True

    def _Step4(self):
        """
        - –®–∞–≥ 4: –µ—Å–ª–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É —É–∂–µ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ–∑–∏—Ü–∏—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
          - –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ 2.5% –≤—ã—à–µ, —á–µ–º —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Ç–æ —Ä–∞–∑–º–µ—â–∞–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π
            –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –≤–µ—Å—å –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ü–µ–Ω–µ –Ω–∞ 0.1% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è 
            –∑–∞–∫—Ä—ã–ª–∞—Å—å —Å –ø—Ä–æ—Ñ–∏—Ç–æ–º, —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏.
        """
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é —Ä–∞–∑–Ω–∏—Ü—É –≤ —Ü–µ–Ω–µ –¥–ª—è –ø—Ä–æ—Ñ–∏—Ç–∞, –ø–µ—Ä–µ–¥ –ø—Ä–æ–¥–∞–∂–µ–π:
        if self._curProfit >= self.tpLimitDiff:
            self._OpenSellMarketPosition()

        else:
            uLogger.info("SELL order not created, because the current price is [{:.2f} {}], average price is [{:.2f} {}], so profit {:.2f}% less than {:.2f}% target.".format(
                self._curPriceToSell, self._iData["currency"], self._averagePrice, self._iData["currency"],
                self._curProfit * 100, self.tpLimitDiff * 100,
            ))

    def Steps(self, **kwargs):
        """–°–µ–∫—Ü–∏—è —à–∞–≥–æ–≤ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –æ–¥–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏."""
        self._changes = False  # –ù–∞ –Ω–∞—á–∞–ª–æ –∏—Ç–µ—Ä–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ –±—ã–ª–æ

        uLogger.info("--- Ticker [{}], data analysis...".format(kwargs["ticker"]))

        # - –®–∞–≥ 1: –∑–∞–ø—Ä–æ—Å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ –∏ –≤–∞–ª—é—Ç –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏
        self._GetPortfolio()
        self._CalculateFreeFunds()

        # - –®–∞–≥ 2: –∑–∞–ø—Ä–æ—Å —Å—Ç–∞–∫–∞–Ω–∞ —Ü–µ–Ω –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        emptyBook = self._GetOrderBook(currentTicker=kwargs["ticker"])

        if not emptyBook:
            # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ç–µ–∫—É—â–µ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–∞–¥–∞–Ω–Ω–æ–º—É —á–µ—Ä–µ–∑ `ticker`, –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
            isInPortfolio = self.IsInPortfolio(self._portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.IsInPortfolio

            if not isInPortfolio:

                # - –®–∞–≥ 3: –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Å–ø–∏—Å–∫–µ —Ç–µ–∫—É—â–∏—Ö –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
                #   - –µ—Å–ª–∏ –¥–µ–Ω–µ–∂–Ω—ã–π —Ä–µ–∑–µ—Ä–≤ (—Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–µ–Ω—å–≥–∏) –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–µ, —á–µ–º 5% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
                #     –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–π –≤–∞–ª—é—Ç–µ, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
                #     - –µ—Å–ª–∏ –æ–±—ä—ë–º—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Å—Ç–∞–∫–∞–Ω–µ –±–æ–ª—å—à–µ —Ö–æ—Ç—è –±—ã –Ω–∞ 10% —á–µ–º –æ–±—ä—ë–º—ã –ø—Ä–æ–¥–∞–≤—Ü–æ–≤, —Ç–æ–≥–¥–∞ –ø–æ–∫—É–ø–∞–µ–º 1 –ª–æ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
                #       –ø–æ —Ä—ã–Ω–∫—É –∏ —Ä–∞–∑–º–µ—â–∞–µ–º —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∫–∞–∫ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –Ω–∞ 3% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Å –æ—Ç–º–µ–Ω–æ–π –æ—Ä–¥–µ—Ä–∞ —á–µ—Ä–µ–∑ 1 —á–∞—Å;

                self._CalculateDataForOpenRules()
                self._Step3()

            else:

                # - –®–∞–≥ 4: –µ—Å–ª–∏ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É —É–∂–µ –±—ã–ª–∞ –æ—Ç–∫—Ä—ã—Ç–∞ –ø–æ–∑–∏—Ü–∏—è, —Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º:
                #   - –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ 2.5% –≤—ã—à–µ, —á–µ–º —Å—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞ –ø–æ–∫—É–ø–∫–∏, —Ç–æ —Ä–∞–∑–º–µ—â–∞–µ–º –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π
                #     –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –≤–µ—Å—å –æ–±—ä—ë–º –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ü–µ–Ω–µ –Ω–∞ 0.1% –≤—ã—à–µ, —á–µ–º —Ç–µ–∫—É—â–∞—è —Ä—ã–Ω–æ—á–Ω–∞—è —Ü–µ–Ω–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è 
                #     –∑–∞–∫—Ä—ã–ª–∞—Å—å —Å –ø—Ä–æ—Ñ–∏—Ç–æ–º, —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏.

                self._CalculateDataForCloseRules()
                self._Step4()

    def Run(self):
        """–ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π."""
        for ticker in self.tickers:
            self.Steps(**{"ticker": ticker})

        # - –®–∞–≥ 5: –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ –≤—Å–µ—Ö –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

        uLogger.info("--- All trade operations finished.{}".format(" Let's show what we got in the user's portfolio after all trades." if self._changes else ""))

        # –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –≤ –Ω—ë–º –±—ã–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
        if self._changes:
            self.Overview(show=True)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview


def TimerDecorator(func):
    """–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –∑–∞—Ç–µ–º –ø–æ—Å–ª–µ –µ–≥–æ –æ–∫–æ–Ω—á–∞–Ω–∏—è."""

    def Wrapper():
        uLogger.level = 10  # DEBUG (10) —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è `TKSBrokerAPI.log`
        uLogger.handlers[0].level = 20  # –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –∫–æ–Ω—Å–æ–ª—å STDOUT, INFO (20) —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

        start = datetime.now(tzutc())

        uLogger.debug("=--=" * 25)
        uLogger.debug("Trading scenario started at: [{}] UTC, it is [{}] local time".format(start.strftime(TKS_PRINT_DATE_TIME_FORMAT), start.astimezone(tzlocal()).strftime(TKS_PRINT_DATE_TIME_FORMAT)))

        func()

        finish = datetime.now(tzutc())

        uLogger.debug("Trading scenario work duration: [{}]".format(finish - start))
        uLogger.debug("Trading scenario finished: [{}] UTC, it is [{}] local time".format(finish.strftime(TKS_PRINT_DATE_TIME_FORMAT), finish.astimezone(tzlocal()).strftime(TKS_PRINT_DATE_TIME_FORMAT)))
        uLogger.debug("=--=" * 25)

    return Wrapper


@TimerDecorator
def Trade():
    """
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –∫–ª–∞—Å—Å–∞ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤.

    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –º–æ–¥—É–ª—å TKSBrokerAPI:
    - –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html

    –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É TKSBrokerAPI:
    - –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º: https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md
    - –Ω–∞ —Ä—É—Å—Å–∫–æ–º: https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README.md
    """
    # --- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ —Ç—Ä–µ–π–¥–µ—Ä–∞:
    trader = TradeScenario(
        userToken="",  # –í–Ω–∏–º–∞–Ω–∏–µ! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º —Ç–æ–∫–µ–Ω–æ–º —Å—é–¥–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN`
        userAccount="",  # –í–Ω–∏–º–∞–Ω–∏–µ! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å –≤–∞—à–∏–º accountId —Å—é–¥–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_ACCOUNT_ID`
    )

    # --- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–¥–µ—Å—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –ø–æ –≤–∞—à–µ–º—É –∞–ª–≥–æ—Ä–∏—Ç–º—É:
    trader.tickers = ["YNDX", "IBM", "GAZP"]  # –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–∑–ª–∏—á–Ω—ã–º –æ–±—Ä–∞–∑–æ–º: –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –∏—Ö –Ω–∞–ø—Ä—è–º—É—é –∏–ª–∏ –∑–∞–¥–∞—Ç—å –∫–∞–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏–ª–∏ —Å–∫—Ä–∏–Ω–µ—Ä–∞
    trader.reserve = 0.05  # –î–æ–ª—è —Ä–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (–æ—Ç 0 –¥–æ 1), –Ω–µ —É—á–∞—Å—Ç–≤—É—é—â–∏—Ö –≤ —Ç–æ—Ä–≥–∞—Ö, 0.05 (—ç—Ç–æ 5%) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    trader.lots = 1  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ –ª–æ—Ç–æ–≤ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–∏
    trader.tpStopDiff = 0.03  # 3% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤
    trader.tpLimitDiff = 0.025  # 2.5% —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤
    trader.tolerance = 0.001  # –î–æ–ø—É—Å—Ç–∏–º–æ–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω—ã –æ—Ç —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤, 0.1% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    trader.depth = 20  # –ù–∞—Å–∫–æ–ª—å–∫–æ –≥–ª—É–±–æ–∫–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ç–µ–∫—É—â–∏—Ö –æ–±—ä—ë–º–æ–≤ —Ç–æ—Ä–≥–æ–≤, >= 1
    trader.volDiff = 0.1  # –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ –≤ –æ–±—ä—ë–º–∞—Ö —Ç–µ–∫—É—â–∏—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –Ω–∞ –ø–æ–∫—É–ø–∫—É –∏ –ø—Ä–æ–¥–∞–∂—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏, 10% –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

    trader.moreDebug = False  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `True` –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –±–æ–ª—å—à–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Ç–∞–∫–æ–π –∫–∞–∫ —Ö–µ–¥–µ—Ä—ã, —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã

    trader.Run()  # –ó–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤—ã—Ö –∏—Ç–µ—Ä–∞—Ü–∏–π —Å–æ –≤—Å–µ–º–∏ —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏


if __name__ == "__main__":
    Trade()  # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è, –ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è
```

</details>

–í—ã–≤–æ–¥ —Å–∫—Ä–∏–ø—Ç–∞ –≤ –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–Ω–∞–ª–æ–≥–∏—á–µ–Ω, –∫–∞–∫ –≤ –ø–µ—Ä–≤–æ–º –ø—Ä–∏–º–µ—Ä–µ.


#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Jupyter Notebook

–í—Å–µ –º–µ—Ç–æ–¥—ã TKSBrokerAPI ([–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html) –Ω–∞ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö) –∏ TradeRoutines ([–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TradeRoutines.html) –Ω–∞ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –≤ —Ç–æ–º —á–∏—Å–ª–µ –Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö) ‚Äî –¥–æ—Å—Ç—É–ø–Ω—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Jupyter Notebook. –°–æ–≤–º–µ—Å—Ç–Ω–æ —Å —ç—Ç–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥—ã –∏–∑ [PriceGenerator](https://github.com/Tim55667757/PriceGenerator/blob/master/README_RU.md) ‚Äî —ç—Ç–æ—Ç –º–æ–¥—É–ª—å —É–º–µ–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã —Å –¥–∞–Ω–Ω—ã–º–∏, –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã–µ –±–∏—Ä–∂–µ–≤—ã–µ —Ü–µ–Ω—ã —Å –∞–Ω–æ–º–∞–ª–∏—è–º–∏, –∞ —Ç–∞–∫–∂–µ —Å—Ç—Ä–æ–∏—Ç—å –≥—Ä–∞—Ñ–∏–∫–∏ —Ü–µ–Ω.

–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –≤ –Ω–æ—É—Ç–±—É–∫–∞—Ö, –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ –∑–∞–¥–∞—á–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –≤—ã–±—Ä–æ—Å–æ–≤ —Ü–µ–Ω, —Å–º–æ—Ç—Ä–∏—Ç–µ —Ç—É—Ç: [HampelFilteringExample.ipynb](https://nbviewer.org/github/Tim55667757/TKSBrokerAPI/blob/develop/docs/examples/HampelFilteringExample.ipynb).

–°—Ç–∞—Ç—å–∏ –ø–æ —Ç–µ–º–µ:
- [–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –∞–Ω–æ–º–∞–ª–∏–∏ –≤ —á–∏—Å–ª–æ–≤—ã—Ö —Ä—è–¥–∞—Ö —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ –•–∞–º–ø–µ–ª—è](https://forworktests.blogspot.com/2022/12/blog-post.html).
- [–ü–æ–ª—É—á–∞–µ–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º –±–∏—Ä–∂–µ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å –ø–æ–º–æ—â—å—é TKSBrokerAPI ‚Äî –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤](https://forworktests.blogspot.com/2022/11/tksbrokerapi.html)
- (EN) [–ü—Ä–∏–º–µ—Ä —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ Python: –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä –•–∞–º–ø–µ–ª—è –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∞–Ω–æ–º–∞–ª–∏–π –≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–∞—Ö](https://github.com/Tim55667757/TKSBrokerAPI/tree/develop/docs/examples/TestAnomalyFilter.py)


#### –î–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤

**[–î–µ—Ç–µ–∫—Ç–æ—Ä –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤](https://github.com/Tim55667757/TKSBrokerAPI/tree/develop/docs/examples/AnomalyVolumesDetector)** ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π –¢–µ–ª–µ–≥—Ä–∞–º –±–æ—Ç, —Å–æ–∑–¥–∞–Ω–Ω—ã–π –Ω–∞ –±–∞–∑–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã TKSBrokerAPI, –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –æ–±—ä—ë–º–æ–≤ —Å–ø—Ä–æ—Å–∞ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤.

–ë–æ—Ç —Å–ª–µ–¥–∏—Ç –∑–∞ –æ–±—ä—ë–º–∞–º–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –≤ –±–∏—Ä–∂–µ–≤–æ–º —Å—Ç–∞–∫–∞–Ω–µ, –∏—â–µ—Ç –∞–Ω–æ–º–∞–ª–∏–∏ –≤ —á–∏—Å–ª–æ–≤–æ–º —Ä—è–¥—É –æ–±—ä—ë–º–æ–≤ –∏ –æ–ø–æ–≤–µ—â–∞–µ—Ç –æ –Ω–∏—Ö –≤ –¢–µ–ª–µ–≥—Ä–∞–º. –û–ø–æ–≤–µ—â–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç: —Ç–µ–∫—É—â—É—é —Ü–µ–Ω—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏ —Ü–µ–Ω—ã —Å –∞–Ω–æ–º–∞–ª—å–Ω—ã–º–∏ –æ–±—ä—ë–º–∞–º–∏.

<a href="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/README.md#–ö–∞–∫-Python-API-—á–µ—Ä–µ–∑-–∏–º–ø–æ—Ä—Ç-–º–æ–¥—É–ª—è-TKSBrokerAPI" target="_blank"><img src="https://github.com/Tim55667757/TKSBrokerAPI/blob/develop/docs/media/AnomalyVolumesDetector-TG-example-RU.jpg?raw=true" alt="AnomalyVolumesDetector-example" width="307" /></a>

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –±–æ—Ç–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ –µ–≥–æ –∑–∞–ø—É—Å–∫—É –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ: [./docs/examples/AnomalyVolumesDetector](https://github.com/Tim55667757/TKSBrokerAPI/tree/develop/docs/examples/AnomalyVolumesDetector#–î–µ—Ç–µ–∫—Ç–æ—Ä-–∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö-–æ–±—ä—ë–º–æ–≤).


–ù–∞ —ç—Ç–æ–º –≤—Å—ë, –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.

üöÄ –£—Å–ø–µ—Ö–æ–≤ –≤–∞–º –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±–∏—Ä–∂–µ–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏! –ò –ø—Ä–æ—Ñ–∏—Ç–∞!

[![gift](https://badgen.net/badge/gift/donate/green)](https://yoomoney.ru/fundraise/4WOyAgNgb7M.230111)
