# TKSBrokerAPI

**[TKSBrokerAPI](https://github.com/Tim55667757/TKSBrokerAPI)** ‚Äî —ç—Ç–æ python API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Tinkoff Open API –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–æ—Ä–≥–æ–≤–æ–º—É —Å–µ—Ä–≤–µ—Ä—É –±—Ä–æ–∫–µ—Ä–∞ [–¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏](http://tinkoff.ru/sl/AaX1Et1omnH) —á–µ—Ä–µ–∑ REST –ø—Ä–æ—Ç–æ–∫–æ–ª. –° –º–æ–¥—É–ª–µ–º TKSBrokerAPI –º–æ–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏, –∏—Å–ø–æ–ª—å–∑—É—è –±–æ–≥–∞—Ç—É—é —Å–∏—Å—Ç–µ–º—É –∫–æ–º–∞–Ω–¥, –∏, –∫–∞–∫ –æ–±—ã—á–Ω–æ, —á–µ—Ä–µ–∑ `python import`. TKSBrokerAPI –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –ª–∏–±–æ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç –±—Ä–æ–∫–µ—Ä–∞. –ï–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD.

[![Build Status](https://travis-ci.com/Tim55667757/TKSBrokerAPI.svg?branch=master)](https://travis-ci.com/Tim55667757/TKSBrokerAPI)
[![pypi](https://img.shields.io/pypi/v/TKSBrokerAPI.svg)](https://pypi.python.org/pypi/TKSBrokerAPI)
[![license](https://img.shields.io/pypi/l/TKSBrokerAPI.svg)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/LICENSE)
[![release-notes](https://badgen.net/badge/release/notes/orange)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/CHANGELOG.md)
[![en-doc](https://badgen.net/badge/english/readme/pink)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md)
[![api-doc](https://badgen.net/badge/api-doc/TKSBrokerAPI/blue)](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html)
[![gift](https://badgen.net/badge/gift/donate/green)](https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=%D0%94%D0%BE%D0%BD%D0%B0%D1%82%20(%D0%BF%D0%BE%D0%B4%D0%B0%D1%80%D0%BE%D0%BA)%20%D0%B4%D0%BB%D1%8F%20%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B2%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0%20TKSBrokerAPI&default-sum=999&button-text=13&payment-type-choice=on&successURL=https%3A%2F%2Ftim55667757.github.io%2FTKSBrokerAPI%2F&quickpay=shop&account=410015019068268)

‚ùó –ï—Å–ª–∏ –≤–∞–º –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –∫–∞–∫–æ–π-—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏–ª–∏ –∫–∞–∫–æ–≥–æ-—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã –º–æ–¥—É–ª—è TKSBrokerAPI (–≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –∫–∞–∫ python API), —Ç–æ –æ–ø–∏—à–∏—Ç–µ –≤–∞—à —Å–ª—É—á–∞–π –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞. –ü–æ –º–µ—Ä–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ—Å—Ç–∞—Ä–∞–µ–º—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω—É–∂–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ –æ—á–µ—Ä–µ–¥–Ω–æ–º —Ä–µ–ª–∏–∑–µ.

**–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**

* üìö [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (documentation and examples in english here)](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md)
  * ‚öô [–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è API-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º –¥–ª—è –º–æ–¥—É–ª—è TKSBrokerAPI (API documentation here)](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html)
  * üá∫üá∏ [–†–µ–ª–∏–∑-–Ω–æ—Ç—ã –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/CHANGELOG_EN.md)
  * üá∑üá∫ [–†–µ–ª–∏–∑-–Ω–æ—Ç—ã –Ω–∞ —Ä—É—Å—Å–∫–æ–º](https://github.com/Tim55667757/TKSBrokerAPI/blob/master/CHANGELOG.md)
    * üí° [–í—Å–µ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ–ª–∏–∑—ã –∏ –≤–æ—à–µ–¥—à–∏–µ –≤ –Ω–∏—Ö —Ñ–∏—á–∏](https://github.com/Tim55667757/TKSBrokerAPI/milestones?direction=desc&sort=title&state=open)
    * üìÇ [–í—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –∑–∞–¥–∞—á–∏ –≤ –±–µ–∫–ª–æ–≥–µ](https://github.com/Tim55667757/TKSBrokerAPI/issues?q=is%3Aissue+is%3Aopen+sort%3Acreated-asc)
* üéÅ –ü–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–æ–Ω–∞—Ç–æ–º –Ω–∞ –Æ–ú–∞–Ω–∏-–∫–æ—à–µ–ª—ë–∫: [410015019068268](https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=%D0%94%D0%BE%D0%BD%D0%B0%D1%82%20(%D0%BF%D0%BE%D0%B4%D0%B0%D1%80%D0%BE%D0%BA)%20%D0%B4%D0%BB%D1%8F%20%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B2%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0%20TKSBrokerAPI&default-sum=999&button-text=13&payment-type-choice=on&successURL=https%3A%2F%2Ftim55667757.github.io%2FTKSBrokerAPI%2F&quickpay=shop&account=410015019068268)

**–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏**

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–í–≤–µ–¥–µ–Ω–∏–µ)
   - [–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–û—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
2. [–ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å](#–ö–∞–∫-—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å)
3. [–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
   - [–¢–æ–∫–µ–Ω](#–¢–æ–∫–µ–Ω)
   - [–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](#–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä-—Å—á—ë—Ç–∞-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
4. [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ü—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
   - [–ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏](#–ò–∑-–∫–æ–º–∞–Ω–¥–Ω–æ–π-—Å—Ç—Ä–æ–∫–∏)
     - [–ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–ª—é—á–∞–º](#–ü–æ–ª—É—á–∏—Ç—å-—Å–ø—Ä–∞–≤–∫—É-–ø–æ-–∫–ª—é—á–∞–º)
     - [–õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–∞–Ω–Ω—ã—Ö](#–õ–æ–∫–∞–ª—å–Ω—ã–π-–∫—ç—à-–¥–∞–Ω–Ω—ã—Ö)
     - [–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤](#–ü–æ–ª—É—á–∏—Ç—å-—Å–ø–∏—Å–æ–∫-–≤—Å–µ—Ö-–¥–æ—Å—Ç—É–ø–Ω—ã—Ö-–¥–ª—è-—Ç–æ—Ä–≥–æ–≤–ª–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
     - [–ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç](#–ù–∞–π—Ç–∏-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç)
     - [–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É](#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–ø–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)
     - [–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π](#–ó–∞–ø—Ä–æ—Å–∏—Ç—å-—Å—Ç–∞–∫–∞–Ω-—Ü–µ–Ω-—Å-–∑–∞–¥–∞–Ω–Ω–æ–π-–≥–ª—É–±–∏–Ω–æ–π)
     - [–ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤](#–ó–∞–ø—Ä–æ—Å–∏—Ç—å-—Ç–∞–±–ª–∏—Ü—É-–ø–æ—Å–ª–µ–¥–Ω–∏—Ö-–∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö-—Ü–µ–Ω-–¥–ª—è-—Å–ø–∏—Å–∫–∞-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
     - [–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤](#–ü–æ–ª—É—á–∏—Ç—å-—Ç–µ–∫—É—â–∏–π-–ø–æ—Ä—Ç—Ñ–µ–ª—å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–∏-—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É-—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è-–∞–∫—Ç–∏–≤–æ–≤)
     - [–ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥](#–ü–æ–ª—É—á–∏—Ç—å-–æ—Ç—á—ë—Ç-–ø–æ-–æ–ø–µ—Ä–∞—Ü–∏—è–º-—Å-–ø–æ—Ä—Ç—Ñ–µ–ª–µ–º-–∑–∞-—É–∫–∞–∑–∞–Ω–Ω—ã–π-–ø–µ—Ä–∏–æ–¥)
     - [–°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ä—ã–Ω–∫—É](#–°–æ–≤–µ—Ä—à–∏—Ç—å-—Å–¥–µ–ª–∫—É-–ø–æ-—Ä—ã–Ω–∫—É)
     - [–û—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä](#–û—Ç–∫—Ä—ã—Ç—å-–æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π-–ª–∏–º–∏—Ç–Ω—ã–π-–∏–ª–∏-—Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä)
     - [–û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏](#–û—Ç–º–µ–Ω–∏—Ç—å-–æ—Ä–¥–µ—Ä–∞-–∏-–∑–∞–∫—Ä—ã—Ç—å-–ø–æ–∑–∏—Ü–∏–∏)
   - [–ö–∞–∫ python API —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è TKSBrokerAPI](#–ö–∞–∫-python-API-—á–µ—Ä–µ–∑-–∏–º–ø–æ—Ä—Ç-–º–æ–¥—É–ª—è-TKSBrokerAPI)
     - [–ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è](#–ü—Ä–∏–º–µ—Ä-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏-–∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ-—Å—Ü–µ–Ω–∞—Ä–∏—è)


## –í–≤–µ–¥–µ–Ω–∏–µ

–ï—Å–ª–∏ –≤—ã –∑–∞–Ω–∏–º–∞–µ—Ç–µ—Å—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏–Ω–≤–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–µ–π, —Ç–æ –Ω–∞–≤–µ—Ä–Ω—è–∫–∞ —Å–ª—ã—à–∞–ª–∏ –ø—Ä–æ [Tinkoff Open API](https://tinkoff.github.io/investAPI/) (–∫ –Ω–µ–º—É –µ—Å—Ç—å –Ω–µ–ø–ª–æ—Ö–∞—è [Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://tinkoff.github.io/investAPI/swagger-ui/)) ‚Äî —ç—Ç–æ API, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ–µ –±—Ä–æ–∫–µ—Ä–æ–º –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã –±–∏—Ä–∂–µ–≤—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–æ–±–æ—Ç–æ–≤. –ï—Å–ª–∏ –µ—â—ë –Ω–µ —Å–ª—ã—à–∞–ª–∏, —Ç–æ –º–æ–∂–µ—Ç–µ –∑–∞–≤–µ—Å—Ç–∏ —Å–µ–±–µ –∞–∫–∫–∞—É–Ω—Ç [–ø–æ —Å—Å—ã–ª–∫–µ](http://tinkoff.ru/sl/AaX1Et1omnH) –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–∞–º–∏.

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –ª—é–±—ã–º–∏ API, –≤—Å–µ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞—é—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏: –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–∂–¥–µ–Ω–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∏–∑—É—á–µ–Ω–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –∏ –æ—Ç–ª–∞–¥–∫–∞ –∫–æ–¥–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–µ—Ç–µ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É API. –ü—Ä–æ–π–¥—ë—Ç –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–µ–∂–¥–µ —á–µ–º —É –≤–∞—Å –¥–æ–π–¥—ë—Ç –¥–µ–ª–æ –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.

**[TKSBrokerAPI](https://github.com/Tim55667757/TKSBrokerAPI)** ‚Äî —ç—Ç–æ –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–π python-–º–æ–¥—É–ª—å –∏–ª–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∏ —Å—Ä–∞–∑—É –∏–∑ –∫–æ—Ä–æ–±–∫–∏ –ø–æ–ª—É—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—á—ë—Ç–æ–º —É –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏: –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è, –≤–∫–ª—é—á–∞—è —ç–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—É—é –∞–Ω–∞–ª–∏—Ç–∏–∫—É, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –ø–æ–∑–∏—Ü–∏–∏, –ø–æ–ª—É—á–∞—Ç—å –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ—Ä–≥—É–µ–º—ã—Ö –Ω–∞ –±–∏—Ä–∂–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö, –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ü–µ–Ω—ã –∏ –ø–æ–ª—É—á–∞—Ç—å –æ—Ç—á—ë—Ç—ã –æ–± –æ–ø–µ—Ä–∞—Ü–∏—è—Ö –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥. –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—è—Ç—Å—è —Å—Ä–∞–∑—É –≤ –∫–æ–Ω—Å–æ–ª—å: –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –≤–∏–¥–µ –∏–ª–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª–∞—Ö —Ñ–æ—Ä–º–∞—Ç–∞ Markdown.

<details>
  <summary>–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∏ –≤—ã–≤–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª—å</summary>

```commandline
$ tksbrokerapi --overview

TKSBrokerAPI.py     L:1821 INFO    [2022-08-10 22:06:27,150] Statistics of client's portfolio:
# Client's portfolio

* **Actual date:** [2022-08-10 19:06:27] (UTC)
* **Portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Open positions

| Ticker [FIGI]               | Volume (blocked)                | Lots     | Curr. price  | Avg. price   | Current volume cost | Profit (%)
|-----------------------------|---------------------------------|----------|--------------|--------------|---------------------|----------------------
| Ruble                       |                 5.62 (0.00) rub |          |              |              |                     |
|                             |                                 |          |              |              |                     |
| **Currencies:**             |                                 |          |              |              |        13886.03 RUB |
| EUR_RUB__TOM [BBG0013HJJ31] |                 5.29 (0.00) eur | 0.0053   |    62.75 rub |    61.41 rub |          331.96 rub | +7.10 rub (+2.19%)
| CNYRUB_TOM [BBG0013HRTL0]   |               928.93 (0.00) cny | 0.9289   |     9.09 rub |     8.95 rub |         8443.97 rub | +134.69 rub (+1.62%)
| CHFRUB_TOM [BBG0013HQ5K4]   |                 1.00 (0.00) chf | 0.0010   |    60.54 rub |    64.00 rub |           60.54 rub | -3.46 rub (-5.41%)
| GBPRUB_TOM [BBG0013HQ5F0]   |                10.00 (0.00) gbp | 0.0100   |    74.39 rub |    75.88 rub |          743.85 rub | -14.94 rub (-1.97%)
| TRYRUB_TOM [BBG0013J12N1]   |               100.00 (0.00) try | 0.1000   |     3.42 rub |     3.41 rub |          342.00 rub | +0.65 rub (+0.19%)
| USD000UTSTOM [BBG0013HGFT4] |                34.42 (0.05) usd | 0.0344   |    60.66 rub |    60.33 rub |         2088.09 rub | +11.44 rub (+0.55%)
| HKDRUB_TOM [BBG0013HSW87]   |               237.75 (0.00) hkd | 0.2378   |     7.89 rub |     7.83 rub |         1875.61 rub | +14.27 rub (+0.77%)
|                             |                                 |          |              |              |                     |
| **Shares:**                 |                                 |          |              |              |       199987.52 RUB |
| POSI [TCS00A103X66]         |                           3 (0) | 3        |  1161.80 rub |  1120.20 rub |         3485.40 rub | +124.60 rub (+3.71%)
| 288 [BBG00699M8Q7]          |                         800 (0) | 8        |     5.53 hkd |     5.69 hkd |         4424.00 hkd | -128.00 hkd (-2.81%)
| YNDX [BBG006L8G4H1]         |                           4 (0) | 4        |  1971.80 rub |  1958.80 rub |         7887.20 rub | +52.22 rub (+0.67%)
| IBM [BBG000BLNNH6]          |                           1 (1) | 1        |   131.03 usd |   131.13 usd |          131.03 usd | -0.10 usd (-0.08%)
| 1810 [BBG00KVTBY91]         |                        1100 (0) | 11       |    11.79 hkd |    11.76 hkd |        12969.00 hkd | +30.00 hkd (+0.23%)
| 9988 [BBG006G2JVL2]         |                          60 (0) | 6        |    91.80 hkd |    91.05 hkd |         5508.00 hkd | +45.50 hkd (+0.83%)
|                             |                                 |          |              |              |                     |
| **Bonds:**                  |                                 |          |              |              |        56240.33 RUB |
| RU000A105104 [TCS00A105104] |                           5 (0) | 5        |  1012.00 cny |  1013.00 cny |         5064.80 cny | -5.00 cny (-0.10%)
| RU000A101YV8 [TCS00A101YV8] |                          10 (0) | 10       |  1015.40 rub |  1011.21 rub |        10201.30 rub | +41.90 rub (+0.41%)
|                             |                                 |          |              |              |                     |
| **Etfs:**                   |                                 |          |              |              |       135586.27 RUB |
| TGLD [BBG222222222]         |                       30000 (0) | 300      |     0.07 usd |     0.07 usd |         2235.00 usd | -3.39 usd (-0.15%)
|                             |                                 |          |              |              |                     |
| **Futures:** no trades      |                                 |          |              |              |                     |

## Opened pending limit-orders: 1

| Ticker [FIGI]               | Order ID       | Lots (exec.) | Current price (% delta) | Target price  | Action    | Type      | Create date (UTC)
|-----------------------------|----------------|--------------|-------------------------|---------------|-----------|-----------|---------------------
| IBM [BBG000BLNNH6]          | ************   | 1 (0)        |     131.02 usd (-4.36%) |    137.00 usd | ‚Üì Sell    | Limit     | 2022-08-10 22:02:44

## Opened stop-orders: 3

| Ticker [FIGI]               | Stop order ID                        | Lots   | Current price (% delta) | Target price  | Limit price   | Action    | Type        | Expire type  | Create date (UTC)   | Expiration (UTC)
|-----------------------------|--------------------------------------|--------|-------------------------|---------------|---------------|-----------|-------------|--------------|---------------------|---------------------
| 1810 [BBG00KVTBY91]         | ********-****-****-****-************ | 11     |         N/A hkd (0.00%) |     14.00 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:24:57 | Undefined
| 288 [BBG00699M8Q7]          | ********-****-****-****-************ | 8      |         N/A hkd (0.00%) |      5.80 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:06:28 | Undefined
| IBM [BBG000BLNNH6]          | ********-****-****-****-************ | 1      |     130.99 usd (-4.49%) |    137.15 usd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 19:02:21 | Undefined

# Analytics

* **Current total portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Portfolio distribution by assets

| Type       | Uniques | Percent | Current cost
|------------|---------|---------|-----------------
| Ruble      | 1       | 0.00%   | 5.62 rub
| Currencies | 7       | 3.42%   | 13886.03 rub
| Shares     | 6       | 49.29%  | 199987.52 rub
| Bonds      | 2       | 13.86%  | 56240.33 rub
| Etfs       | 1       | 33.42%  | 135586.27 rub

## Portfolio distribution by companies

| Company                                     | Percent | Current cost
|---------------------------------------------|---------|-----------------
| All money cash                              | 3.42%   | 13891.65 rub
| [POSI] Positive Technologies                | 0.86%   | 3485.40 rub
| [288] WH Group                              | 8.60%   | 34900.94 rub
| [YNDX] Yandex                               | 1.94%   | 7887.20 rub
| [IBM] IBM                                   | 1.96%   | 7948.93 rub
| [1810] Xiaomi                               | 25.22%  | 102312.44 rub
| [9988] Alibaba                              | 10.71%  | 43452.61 rub
| [RU000A105104] –†–£–°–ê–õ –≤—ã–ø—É—Å–∫ 5               | 11.35%  | 46039.03 rub
| [RU000A101YV8] –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1 | 2.51%   | 10201.30 rub
| [TGLD] –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ                      | 33.42%  | 135586.28 rub

## Portfolio distribution by sectors

| Sector         | Percent | Current cost
|----------------|---------|-----------------
| All money cash | 3.42%   | 13891.65 rub
| it             | 30.55%  | 123948.08 rub
| consumer       | 19.31%  | 78353.55 rub
| telecom        | 1.94%   | 7887.20 rub
| materials      | 11.35%  | 46039.03 rub
| other          | 33.42%  | 135586.28 rub

## Portfolio distribution by currencies

| Instruments currencies   | Percent | Current cost
|--------------------------|---------|-----------------
| [rub] –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å   | 5.32%   | 21579.52 rub
| [hkd] –ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä | 44.99%  | 182541.60 rub
| [usd] –î–æ–ª–ª–∞—Ä –°–®–ê         | 35.89%  | 145623.30 rub
| [cny] –Æ–∞–Ω—å               | 13.43%  | 54483.01 rub
| [eur] –ï–≤—Ä–æ               | 0.08%   | 331.96 rub
| [chf] –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫  | 0.01%   | 60.54 rub
| [gbp] –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤    | 0.18%   | 743.85 rub
| [try] –¢—É—Ä–µ—Ü–∫–∞—è –ª–∏—Ä–∞      | 0.08%   | 342.00 rub

## Portfolio distribution by countries

| Assets by country                  | Percent | Current cost
|------------------------------------|---------|-----------------
| All other countries                | 36.84%  | 149472.30 rub
| [RU] –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è          | 16.67%  | 67612.93 rub
| [CN] –ö–∏—Ç–∞–π—Å–∫–∞—è –ù–∞—Ä–æ–¥–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞ | 44.53%  | 180665.99 rub
| [US] –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏     | 1.96%   | 7948.93 rub

TKSBrokerAPI.py     L:1827 INFO    [2022-08-10 22:06:27,153] Client's portfolio is saved to file: [overview.md]
```

</details>

TKSBrokerAPI –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞—à–∏ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏, –ª–∏–±–æ —Ç–æ–ª—å–∫–æ –ø–æ–ª—É—á–∞—Ç—å –Ω—É–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ—Ç –±—Ä–æ–∫–µ—Ä–∞. –ë–ª–∞–≥–æ–¥–∞—Ä—è –±–æ–≥–∞—Ç–æ–π —Å–∏—Å—Ç–µ–º–µ –∫–æ–Ω—Å–æ–ª—å–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –µ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç—Ä–æ–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ CI/CD.

–í –±—É–¥—É—â–µ–º, –Ω–∞ –æ—Å–Ω–æ–≤–µ —ç—Ç–æ–≥–æ –º–æ–¥—É–ª—è, —Å—é–¥–∞ –≤ –æ–ø–µ–Ω—Å–æ—Ä—Å –±—É–¥—É—Ç –≤—ã–ª–æ–∂–µ–Ω—ã –≥–æ—Ç–æ–≤—ã–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏ —à–∞–±–ª–æ–Ω—ã –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ —è–∑—ã–∫–µ Python.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

–ù–∞ –º–æ–º–µ–Ω—Ç [–ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ —Ä–µ–ª–∏–∑–∞](https://pypi.org/project/tksbrokerapi/) –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç TKSBrokerAPI —É–º–µ–µ—Ç:

- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –≤—Å–µ–º —Ç–æ—Ä–≥—É–µ–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ —Ñ–∞–π–ª `dump.json` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —á–∏—Å–ª–æ –æ–±—Ä–∞—â–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä –±—Ä–æ–∫–µ—Ä–∞;
  - –∫–ª—é—á `--no-cache` –æ—Ç–º–µ–Ω—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞, –¥–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–∞–ø—É—Å–∫–µ;
  - API-–º–µ—Ç–æ–¥: [`DumpInstruments()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.DumpInstruments).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: –≤–∞–ª—é—Ç, –∞–∫—Ü–∏–π, –æ–±–ª–∏–≥–∞—Ü–∏–π, —Ñ–æ–Ω–¥–æ–≤ –∏ —Ñ—å—é—á–µ—Ä—Å–æ–≤;
  - –∫–ª—é—á `--list` –∏–ª–∏ `-l`;
  - API-–º–µ—Ç–æ–¥: [`Listing()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Listing).
- –í—ã–ø–æ–ª–Ω—è—Ç—å –ø–æ–∏—Å–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —É–∫–∞–∑–∞–≤ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å –∏—Ö –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞, –ª–∏–±–æ –∑–∞–¥–∞–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ;
  - –∫–ª—é—á `--search` –∏–ª–∏ `-s`;
  - API-–º–µ—Ç–æ–¥: [`SearchInstruments()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchInstruments).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –±—Ä–æ–∫–µ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–µ, –∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä –∏–ª–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä FIGI;
  - –∫–ª—é—á `--info` –∏–ª–∏ `-i`;
  - API-–º–µ—Ç–æ–¥—ã: [`SearchByTicker()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByTicker), [`SearchByFIGI()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByFIGI) –∏ [`ShowInstrumentInfo()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.ShowInstrumentInfo).
- –ó–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —É –±—Ä–æ–∫–µ—Ä–∞ —Å—Ç–∞–∫–∞–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –±–∏—Ä–∂–µ–≤—ã—Ö —Ü–µ–Ω –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ —Ç–∏–∫–µ—Ä—É –∏–ª–∏ FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≥–ª—É–±–∏–Ω—É —Å—Ç–∞–∫–∞–Ω–∞;
  - –∫–ª—é—á `--price` —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–æ–º `--depth`;
  - API-–º–µ—Ç–æ–¥: [`GetCurrentPrices()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetCurrentPrices).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ü–µ–Ω;
  - –∫–ª—é—á `--prices` —Å –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ–º —Å–ø–∏—Å–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤;
  - API-–º–µ—Ç–æ–¥: [`GetListOfPrices()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetListOfPrices).
- –ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É –ø–æ –Ω–µ–º—É: —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ –∞–∫—Ç–∏–≤–∞–º, –∫–æ–º–ø–∞–Ω–∏—è–º, —Å–µ–∫—Ç–æ—Ä–∞–º, –≤–∞–ª—é—Ç–∞–º –∏ —Å—Ç—Ä–∞–Ω–∞–º –∞–∫—Ç–∏–≤–æ–≤;
  - –∫–ª—é—á `--overview` –∏–ª–∏ `-o`;
  - API-–º–µ—Ç–æ–¥: [`Overview()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview).
- –ü–æ–ª—É—á–∞—Ç—å —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–æ–≤–µ—Ä—à—ë–Ω–Ω—ã—Ö —Å–¥–µ–ª–∫–∞—Ö –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –µ—ë –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ;
  - –∫–ª—é—á `--deals` –∏–ª–∏ `-d`;
  - API-–º–µ—Ç–æ–¥: [`Deals()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Deals).
- –°–æ–≤–µ—Ä—à–∞—Ç—å —Å–¥–µ–ª–∫–∏ –ø–æ —Ä—ã–Ω–∫—É, –ø–æ–∫—É–ø–∞—è –∏–ª–∏ –ø—Ä–æ–¥–∞–≤–∞—è –∞–∫—Ç–∏–≤—ã –≤ —Å—Ç–∞–∫–∞–Ω–µ, —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä—è—è –∏–º–µ—é—â–∏–µ—Å—è –∑–∞—è–≤–∫–∏ –æ—Ç –ø—Ä–æ–¥–∞–≤—Ü–æ–≤ –∏–ª–∏ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π;
  - –æ–±—â–∏–π –∫–ª—é—á `--trade` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `--buy`, `--sell`;
  - API-–º–µ—Ç–æ–¥—ã: [`Trade()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Trade), [`Buy()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Buy) –∏ [`Sell()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Sell).
- –û—Ç–∫—Ä—ã–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞: –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç–Ω—ã–µ, –¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–π —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏, –∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã –∏–ª–∏ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã;
  - –æ–±—â–∏–π –∫–ª—é—á `--order` –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏: `--buy-limit`, `--sell-limit`, `--buy-stop`, `--sell-stop`;
  - API-–º–µ—Ç–æ–¥—ã: [`Order()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Order), [`BuyLimit()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.BuyLimit), [`SellLimit()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellLimit), [`BuyStop()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.BuyStop) –∏ [`SellStop()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellStop).
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ä–∞–Ω–µ–µ –æ—Ä–¥–µ—Ä–∞ –∏–ª–∏ —Å–ø–∏—Å–∫–∏ –æ—Ä–¥–µ—Ä–æ–≤ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –ø–æ –∏—Ö ID;
  - –∫–ª—é—á–∏ `--close-order` –∏–ª–∏ `--cancel-order`, `--close-orders` –∏–ª–∏ `--cancel-orders`;
  - API-–º–µ—Ç–æ–¥: [`CloseOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseOrders).
- –ó–∞–∫—Ä—ã–≤–∞—Ç—å —Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é (–∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤), —É–∫–∞–∑–∞–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –∏—Ö —Ç–∏–∫–µ—Ä—ã –∏–ª–∏ FIGI;
  - –∫–ª—é—á `--close-trade` –∏–ª–∏ `--cancel-trade`;
  - API-–º–µ—Ç–æ–¥: [`CloseTrades()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseTrades).
- –û—Ç–º–µ–Ω—è—Ç—å –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ —Ä–∞–Ω–µ–µ –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º —Å—Ä–∞–∑—É, –∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ –∏ –ø–æ–∑–∏—Ü–∏–π –ø–æ –≤–∞–ª—é—Ç–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ;
  - –∫–ª—é—á `--close-all`, —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞, —Ç–∏–ø –∞–∫—Ç–∏–≤–∞ –∏–ª–∏ —É–∫–∞–∑–∞—Ç—å —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ –ø–æ—Å–ª–µ –∫–ª—é—á–∞ `--close-all`: `orders`, `shares`, `bonds`, `etfs` –∏–ª–∏ `futures`;
  - API-–º–µ—Ç–æ–¥—ã: [`CloseAll()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAll), [`CloseAllOrders()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllOrders) –∏ [`CloseAllTrades()`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.CloseAllTrades).


## –ö–∞–∫ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å

–ü—Ä–æ—â–µ –≤—Å–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ PyPI:

```commandline
pip install tksbrokerapi
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É –∫–æ–º–∞–Ω–¥–æ–π:

```commandline
pip show tksbrokerapi
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å TKSBrokerAPI, —Å–∫–∞—á–∞–≤ –µ–≥–æ –Ω–∞–ø—Ä—è–º—É—é –∏–∑ [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](https://github.com/Tim55667757/TKSBrokerAPI/) —á–µ—Ä–µ–∑ `git clone` –∏ –≤–∑—è–≤ –∫–æ–¥–æ–≤—É—é –±–∞–∑—É –ª—é–±–æ–≥–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ [—Ä–µ–ª–∏–∑–∞](https://github.com/Tim55667757/TKSBrokerAPI/releases).

–í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –∫–æ–Ω—Å–æ–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É `tksbrokerapi`, –∞ –≤–æ –≤—Ç–æ—Ä–æ–º —Å–ª—É—á–∞–µ –≤–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –µ–≥–æ –∫–∞–∫ –æ–±—ã—á–Ω—ã–π python-—Å–∫—Ä–∏–ø—Ç, —á–µ—Ä–µ–∑ `python TKSBrokerAPI.py` –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º.

–î–∞–ª–µ–µ –≤—Å–µ –ø—Ä–∏–º–µ—Ä—ã –Ω–∞–ø–∏—Å–∞–Ω—ã –¥–ª—è —Å–ª—É—á–∞—è, –∫–æ–≥–¥–∞ TKSBrokerAPI —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —á–µ—Ä–µ–∑ PyPI.


## –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

### –¢–æ–∫–µ–Ω

–°–µ—Ä–≤–∏—Å TINKOFF INVEST API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω. –¢–æ–∫–µ–Ω ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ, –ø—Ä–∞–≤–∞—Ö –¥–æ—Å—Ç—É–ø –∏ –ø—Ä–æ—á–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è, –Ω–µ–æ–±—Ö–æ–¥–∏–º–∞—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Å–µ—Ä–≤–∏—Å–µ. –¢–æ–∫–µ–Ω –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –∫–∞–∂–¥—ã–º —Å–µ—Ç–µ–≤—ã–º –∑–∞–ø—Ä–æ—Å–æ–º.

–ú–æ–¥—É–ª—å TKSBrokerAPI –±–µ—Ä—ë—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –Ω–∞ —Å–µ–±—è. –ï—Å—Ç—å —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `tksbrokerapi` –≤ –∫–æ–Ω—Å–æ–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–ª—é—á: `--token "your_token_here"`;
- –ª–∏–±–æ —É–∫–∞–∂–∏—Ç–µ `token` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ –≤ python-—Å–∫—Ä–∏–ø—Ç–µ: [`TKSBrokerAPI.TinkoffBrokerServer(token="your_token_here", ...)`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__);
- –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏: `TKS_API_TOKEN=your_token_here`.

‚ùó **–†–∞–±–æ—Ç–∞ —Å TINKOFF INVEST API –±–µ–∑ –≤—ã–ø—É—Å–∫–∞ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞**. –î–æ –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥—É–ª–µ–º TKSBrokerAPI, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ [–±—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á—ë—Ç –≤ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏](http://tinkoff.ru/sl/AaX1Et1omnH), –∞ –∑–∞—Ç–µ–º –≤—ã–±–µ—Ä–µ—Ç–µ –Ω—É–∂–Ω—ã–π –≤–∞–º –≤–∏–¥ —Ç–æ–∫–µ–Ω–∞ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ, –∫–∞–∫ —É–∫–∞–∑–∞–Ω–æ –ø–æ —Å—Å—ã–ª–∫–µ [–≤ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏](https://tinkoff.github.io/investAPI/token/).

‚ùó **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ**: –Ω–∏–∫–æ–≥–¥–∞ –∏ –Ω–∏–∫–æ–º—É –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã, –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏—Ö –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö, –∞ —Ç–∞–∫–∂–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏—Ö –≤ –ø–∞–±–ª–∏–∫–∞—Ö –∏ –≤ –∫–æ–¥–µ. –¢–æ–∫–µ–Ω–æ–º –º–æ–∂–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∫—Ç–æ —É–≥–æ–¥–Ω–æ, –Ω–æ –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —É –±—Ä–æ–∫–µ—Ä–∞ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤ CI/CD-—Å–∏—Å—Ç–µ–º–∞—Ö, —Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–æ–ª—å–∑—É–π—Ç–µ—Å—å —Å–æ–∫—Ä—ã—Ç–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è ([–ø—Ä–∏–º–µ—Ä](https://docs.travis-ci.com/user/environment-variables/#defining-variables-in-repository-settings) —É—Å—Ç–∞–Ω–æ–≤–∫–∏ "hidden variables" –¥–ª—è Travis CI, –∏ [–ø—Ä–∏–º–µ—Ä](https://docs.gitlab.com/ee/ci/variables/#protected-cicd-variables) —É—Å—Ç–∞–Ω–æ–≤–∫–∏ "protected variables" –¥–ª—è GitLab CI).

### –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–í—Ç–æ—Ä–æ–π –≤–∞–∂–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã TKSBrokerAPI ‚Äî —ç—Ç–æ —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º, –Ω–æ –±–µ–∑ –µ–≥–æ —É–∫–∞–∑–∞–Ω–∏—è –±—É–¥–µ—Ç –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –º–Ω–æ–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ API, –ª–æ–≥–∏—á–µ—Å–∫–∏ –∑–∞–≤—è–∑–∞–Ω–Ω—ã–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º—É —Å—á—ë—Ç—É, –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ). –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–æ —á–∏—Å–ª–æ –≤ –ª—é–±–æ–º –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º –æ—Ç—á—ë—Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∑–∞–∫–∞–∑–∞—Ç—å –ª–∏–±–æ –∏–∑ –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –ª–∏–±–æ –≤ –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ –Ω–∞ –∏—Ö —Å–∞–π—Ç–µ. –û–±—ã—á–Ω–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–≤–µ—Ä—Ö—É, –≤ "—à–∞–ø–∫–µ" –æ—Ç—á—ë—Ç–æ–≤. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä —Å–ø—Ä–æ—Å–∏–≤ –≤ —á–∞—Ç–µ —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∏ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.

–ï—Å—Ç—å —Ç—Ä–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –∑–∞–¥–∞–Ω–∏—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Å—á—ë—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

- –ø—Ä–∏ –≤—ã–∑–æ–≤–µ `tksbrokerapi` –≤ –∫–æ–Ω—Å–æ–ª–∏ —É–∫–∞–∂–∏—Ç–µ –∫–ª—é—á: `--account-id your_id_number"`;
- –ª–∏–±–æ —É–∫–∞–∂–∏—Ç–µ `accountId` –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ –≤ python-—Å–∫—Ä–∏–ø—Ç–µ: [`TKSBrokerAPI.TinkoffBrokerServer(token="...", accountId=your_id_number, ...)`](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__);
- –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –∑–∞—Ä–∞–Ω–µ–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏: `TKS_ACCOUNT_ID=your_id_number`.


## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–î–∞–ª–µ–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥—É–ª—è TKSBrokerAPI: –ø—Ä–∏ –µ–≥–æ –∑–∞–ø—É—Å–∫–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∏–ª–∏ –∫–∞–∫ python-—Å–∫—Ä–∏–ø—Ç.

‚ùó –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è `INFO`. –í —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –∫–∞–∫–∏—Ö-–ª–∏–±–æ –æ—à–∏–±–æ–∫, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ–≤—ã—Å–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –¥–æ `DEBUG`. –î–ª—è —ç—Ç–æ–≥–æ —É–∫–∞–∂–∏—Ç–µ –≤–º–µ—Å—Ç–µ —Å –∫–æ–º–∞–Ω–¥–æ–π –ª—é–±–æ–π –∏–∑ –∫–ª—é—á–µ–π: `--debug-level=10`, `--verbosity=10` –∏–ª–∏ `-v 10`. –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏ —Å –ø—Ä–æ–±–ª–µ–º–æ–π –∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –±–∞–≥ –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.

–¢–∞–∫–∂–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É—Ä–æ–≤–Ω—è `DEBUG` –≤—Å–µ–≥–¥–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Å–ª—É–∂–µ–±–Ω—ã–π —Ñ–∞–π–ª `TKSBrokerAPI.log` (–æ–Ω —Å–æ–∑–¥–∞—ë—Ç—Å—è –≤ —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏, –≥–¥–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–∑–æ–≤ `tksbrokerapi` –∏–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ `python TKSBrokerAPI.py`).

### –ò–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –≤ –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ. –§–æ—Ä–º–∞—Ç –ª—é–±—ã—Ö –∫–æ–º–∞–Ω–¥ —Å–ª–µ–¥—É—é—â–∏–π:

```commandline
tksbrokerapi [–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∫–ª—é—á–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã] [–æ–¥–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ]
```

‚ùó –î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∫–æ–º–∞–Ω–¥ –≤—ã –¥–æ–ª–∂–Ω—ã –∫–∞–∂–¥—ã–π —Ä–∞–∑ —É–∫–∞–∑—ã–≤–∞—Ç—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ –∫–ª—é—á `--token` –∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ –∫–ª—é—á `--account-id`, –ª–∏–±–æ –æ–¥–∏–Ω —Ä–∞–∑ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏—Ö —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN` –∏ `TKS_ACCOUNT_ID` (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)).

*–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –≤ –ø—Ä–∏–º–µ—Ä–∞—Ö –Ω–∏–∂–µ —Ç–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ –∏ ID —Å—á—ë—Ç–∞ –±—ã–ª–∏ –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_API_TOKEN` –∏ `TKS_ACCOUNT_ID`, –ø–æ—ç—Ç–æ–º—É –∫–ª—é—á–∏ `--token` –∏ `--account-id` –Ω–µ —Ñ–∏–≥—É—Ä–∏—Ä—É—é—Ç –≤ –ª–æ–≥–∞—Ö.*

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø—Ä–∞–≤–∫—É –ø–æ –∫–ª—é—á–∞–º

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--help` (`-h`), –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è. –í –∫–æ–Ω—Å–æ–ª—å –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ —Ä–µ–ª–∏–∑–∞ —Å–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π –∏ –∏—Ö –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–ø—Ä–∞–≤–∫–∏ –ø–æ —Ä–∞–±–æ—Ç–µ —Å –∫–ª—é—á–∞–º–∏</summary>

```commandline
tksbrokerapi --help
```

–í—ã–≤–æ–¥ (–≤ –ø–µ—Ä–µ–≤–æ–¥–µ):

```text
–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å: 
/–∫–∞–∫ –º–æ–¥—É–ª—å/ python TKSBrokerAPI.py [–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤] [–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞]
/as CLI tool/ tksbrokerapi [–≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤] [–æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞]

TKSBrokerAPI —ç—Ç–æ python API –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –º–µ—Ç–æ–¥–∞–º–∏ Tinkoff Open API
–∏—Å–ø–æ–ª—å–∑—É—è REST-–∑–∞–ø—Ä–æ—Å—ã. –ú–æ–¥—É–ª—å —É–º–µ–µ—Ç –ø–æ–ª—É—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ, –¥–∞–Ω–Ω—ã–µ –ø–æ –æ—Ä–¥–µ—Ä–∞–º –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Ä—ã–Ω–∫–∞.
–¢–∞–∫–∂–µ —Å –µ–≥–æ –ø–æ–º–æ—â—å—é –≤—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å –æ—Ä–¥–µ—Ä–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å "–ø–æ —Ä—ã–Ω–∫—É". –°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã:
https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Usage-examples

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –∫–æ–º–∞–Ω–¥—ã:
  -h, --help            –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —ç—Ç—É –ø–æ–º–æ—â—å –∏ –≤—ã–π—Ç–∏.
  --no-cache            –ü–∞—Ä–∞–º–µ—Ç—Ä: –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à `dump.json`, –Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å
                        —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
                        `False` –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --token TOKEN         –ü–∞—Ä–∞–º–µ—Ç—Ä: —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±—Ä–æ–∫–µ—Ä—É –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏.
                        –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä –Ω–µ —É–∫–∞–∑–∞–Ω, —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `TKS_API_TOKEN`.
                        –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–æ–∫–µ–Ω–∞–º–∏: https://tinkoff.github.io/investAPI/token/
  --account-id ACCOUNT_ID
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å —á–∏—Å–ª–æ–≤—ã–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É –±—Ä–æ–∫–µ—Ä–∞
                        –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏. –û–Ω –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–∞–π–¥–µ–Ω –≤ –ª—é–±–æ–º –±—Ä–æ–∫–µ—Ä—Å–∫–æ–º
                        –æ—Ç—á—ë—Ç–µ (–∏—â–∏—Ç–µ —Ñ—Ä–∞–∑—É "–Ω–æ–º–µ—Ä –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"). –¢–∞–∫–∂–µ —ç—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è
                        –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `TKS_ACCOUNT_ID`.
  --ticker TICKER, -t TICKER
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å —Ç–∏–∫–µ—Ä–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `IBM`, `YNDX`,
                        `GOOGL` –∏ —Ç.–ø. –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª–∏–∞—Å—ã –¥–ª—è –≤–∞–ª—é—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–º–µ—Å—Ç–æ
                        `USD000UTSTOM` –ø—Ä–æ—Å—Ç–æ `USD`, –∞ –≤–º–µ—Å—Ç–æ `EUR_RUB__TOM` –ø–∏—Å–∞—Ç—å `EUR`.
  --figi FIGI, -f FIGI  –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞ —Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–º FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä,
                        `BBG006L8G4H1` –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å —Ç–∏–∫–µ—Ä–æ–º `YNDX`.
  --depth DEPTH         –ü–∞—Ä–∞–º–µ—Ç—Ä: —á–∏—Å–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞—é—â–µ–µ "–≥–ª—É–±–∏–Ω—É –±–∏—Ä–∂–µ–≤–æ–≥–æ —Å—Ç–∞–∫–∞–Ω–∞"
                        (Depth of Market, DOM), –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å  >=1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1.
  --no-cancelled        –ü–∞—Ä–∞–º–µ—Ç—Ä: —É–¥–∞–ª–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
                        –∏–∑ –æ—Ç—á—ë—Ç–∞ –ø–æ —Å–¥–µ–ª–∫–∞–º, –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å –∫–ª—é—á–æ–º `--deals`.
                        False –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
  --output OUTPUT       –ü–∞—Ä–∞–º–µ—Ç—Ä: —Å—Ç—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å –≤—ã–≤–æ–¥–∞ –≤ —Ñ–∞–π–ª
                        –¥–ª—è –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–∞–Ω–¥. –ï—Å–ª–∏ None, —Ç–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø—É—Ç—å.
  --debug-level DEBUG_LEVEL, --verbosity DEBUG_LEVEL, -v DEBUG_LEVEL
                        –ü–∞—Ä–∞–º–µ—Ç—Ä: —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ —É–∫–∞–∑—ã–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –≤—ã–≤–æ–¥–∞
                        –ª–æ–≥–æ–≤ –≤ STDOUT, –Ω–∞–ø—Ä–∏–º–µ—Ä, 10 = DEBUG, 20 = INFO, 30 = WARNING,
                        40 = ERROR, 50 = CRITICAL. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É—Ä–æ–≤–µ–Ω—å INFO (20).
  --list, -l            –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –∏ –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
                        –∏ –Ω–µ–∫–æ—Ç–æ—Ä—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –Ω–∏–º —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ
                        –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
                        –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `instruments.md`.
  --search SEARCH, -s SEARCH
                        –ö–æ–º–∞–Ω–¥–∞: –Ω–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø–æ —á–∞—Å—Ç–∏ –µ–≥–æ –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞
                        –∏–ª–∏ FIGI. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `search-results.md`.
  --info, -i            –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É
                        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä –∏–ª–∏ FIGI. –ö–ª—é—á `--ticker` –∏–ª–∏
                        –∫–ª—é—á `--figi` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã!
  --price               –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞.
                        –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å –∫–ª—é—á–æ–º --depth, –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è
                        –≥–ª—É–±–∏–Ω—ã. –ö–ª—é—á `--ticker` –∏–ª–∏ –∫–ª—é—á `--figi` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–¥–∞–Ω—ã!
  --prices PRICES [PRICES ...], -p PRICES [PRICES ...]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö
                        –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–ø–æ –∏—Ö —Ç–∏–∫–µ—Ä–∞–º –∏–ª–∏ FIGI). –í–Ω–∏–º–∞–Ω–∏–µ!
                        –û–ø–µ—Ä–∞—Ü–∏—è –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –æ—á–µ–Ω—å –¥–æ–ª–≥–æ, –µ—Å–ª–∏ –≤—ã –∑–∞–ø—Ä–æ—Å–∏—Ç–µ
                        —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤! –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`,
                        —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ü–µ–Ω –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `prices.md`.
  --overview, -o        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –æ—Ä–¥–µ—Ä–∞ –∏ –Ω–µ–º–Ω–æ–≥–æ
                        —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å
                        —ç—Ç—É –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ —Ñ–∞–π–ª, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `overview.md`.
  --deals [DEALS [DEALS ...]], -d [DEALS [DEALS ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ —Å–¥–µ–ª–∫–∏ –º–µ–∂–¥—É –¥–≤—É–º—è –¥–∞—Ç–∞–º–∏. –ü–µ—Ä–≤—ã–π
                        –ø–∞—Ä–∞–º–µ—Ç—Ä —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–∞—á–∞–ª—å–Ω—É—é –¥–∞—Ç—É: -1, -2, -3 –¥–Ω–µ–π –Ω–∞–∑–∞–¥.
                        –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á–µ–≤–∏–∫–∏: `today`, `yesterday` (-1),
                        `week` (-7), `month` (-30) –∏ `year` (-365). –§–æ—Ä–º–∞—Ç –¥–∞—Ç –¥–æ–ª–∂–µ–Ω
                        –±—ã—Ç—å —Ç–∞–∫–æ–π: `%Y-%m-%d`, –Ω–∞–ø—Ä–∏–º–µ—Ä, 2020-02-03. –° –∫–ª—é—á–æ–º
                        `--no-cancelled` –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
                        –Ω–µ –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –æ—Ç—á—ë—Ç–µ –ø–æ —Å–¥–µ–ª–∫–∞–º. –¢–∞–∫–∂–µ –º–æ–∂–Ω–æ
                        –∑–∞–¥–∞—Ç—å –∫–ª—é—á `--output`, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Å–¥–µ–ª–∫–∏ –≤ —Ñ–∞–π–ª,
                        –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `deals.md`.
  --trade [TRADE [TRADE ...]]
                        –ö–æ–º–∞–Ω–¥–∞: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å —Å–¥–µ–ª–∫—É "–ø–æ —Ä—ã–Ω–∫—É"
                        –¥–ª—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –∑–∞–¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–æ–º –∏–ª–∏ FIGI. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å
                        –æ—Ç 1 –¥–æ 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: [–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `Buy` –∏–ª–∏ `Sell] [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`]. –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ
                        –ø—Ä–∏–º–µ—Ä—ã –≤ README.md.
  --buy [BUY [BUY ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å BUY –ø–æ–∑–∏—Ü–∏—é "–ø–æ —Ä—ã–Ω–∫—É"
                        –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI.
                        –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`].
  --sell [SELL [SELL ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å SELL –ø–æ–∑–∏—Ü–∏—é "–ø–æ —Ä—ã–Ω–∫—É"
                        –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI.
                        –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã, >= 1]
                        [—Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, >= 0] [—Å—Ç–æ–ø-–ª–æ—Å—Å, >= 0] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤
                        TP/SL, Undefined|`%Y-%m-%d %H:%M:%S`].
  --order [ORDER [ORDER ...]]
                        –ö–æ–º–∞–Ω–¥–∞: —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–±, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä
                        –≤ –ª—é–±–æ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏. –ù—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 4 –¥–æ 7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:
                        [–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ `Buy` –∏–ª–∏ `Sell] [—Ç–∏–ø –æ—Ä–¥–µ—Ä–∞ `Limit` –∏–ª–∏`Stop`]
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] [–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤:
                        [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0] [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP]
                        [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤, Undefined|`%Y-%m-%d %H:%M:%S`]].
                        –°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –≤ README.md.
  --buy-limit BUY_LIMIT BUY_LIMIT
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ BUY
                        (–Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã). –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ BUY –æ—Ä–¥–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã
                        –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π `Buy` –æ—Ä–¥–µ—Ä –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞
                        –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π `Buy` –æ—Ä–¥–µ—Ä, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã
                        –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞–ª–∏ `--buy` –æ–ø–µ—Ä–∞—Ü–∏—é!
  --sell-limit SELL_LIMIT SELL_LIMIT
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ SELL
                        (–≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã). –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:
                        [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ SELL –æ—Ä–¥–µ—Ä–∞. –ï—Å–ª–∏ –≤—ã
                        –ø–æ–ø—ã—Ç–∞–µ—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å –ª–∏–º–∏—Ç–Ω—ã–π `Sell` –æ—Ä–¥–µ—Ä –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞
                        –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π `Sell` –æ—Ä–¥–µ—Ä, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –≤—ã
                        –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞–ª–∏ `--sell` –æ–ø–µ—Ä–∞—Ü–∏—é!
  --buy-stop [BUY_STOP [BUY_STOP ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ BUY. –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ
                        2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è BUY
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å 3 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞: [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0]
                        [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤,
                        Undefined|`%Y-%m-%d %H:%M:%S`]. –ö–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –¥–æ–π–¥—ë—Ç –≤–≤–µ—Ä—Ö
                        –∏–ª–∏ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞ –±—Ä–æ–∫–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä.
                        –û—Ä–¥–µ—Ä —Ç–∏–ø–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ.
  --sell-stop [SELL_STOP [SELL_STOP ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –æ—Ç–∫—Ä—ã—Ç—å —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –≤ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ SELL. –ù—É–∂–Ω–æ –∑–∞–¥–∞—Ç—å —Ç–æ–ª—å–∫–æ
                        2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞: [–ª–æ—Ç—ã] [—Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞] –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è SELL
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞. –ú–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å 3 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –¥–ª—è
                        —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞: [—Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, >= 0]
                        [—Ç–∏–ø —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, Limit|SL|TP] [—Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –æ—Ä–¥–µ—Ä–æ–≤,
                        Undefined|`%Y-%m-%d %H:%M:%S`]. –ö–æ–≥–¥–∞ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ –¥–æ–π–¥—ë—Ç –≤–≤–µ—Ä—Ö
                        –∏–ª–∏ –≤–Ω–∏–∑ –¥–æ —Ü–µ–ª–µ–≤–æ–π —Ü–µ–Ω—ã, —Ç–æ–≥–¥–∞ –±—Ä–æ–∫–µ—Ä –æ—Ç–∫—Ä–æ–µ—Ç –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä.
                        –û—Ä–¥–µ—Ä —Ç–∏–ø–∞ —Å—Ç–æ–ø-–ª–æ—Å—Å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ —Ç–µ–∫—É—â–µ–π —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ.
  --close-order CLOSE_ORDER, --cancel-order CLOSE_ORDER
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –æ–¥–∏–Ω –æ—Ä–¥–µ—Ä, —É–∫–∞–∑–∞–≤ –µ–≥–æ `orderId` –∏–ª–∏
                        `stopOrderId`. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ –æ—Ç—á—ë—Ç–µ
                        –ø–æ –∫–ª—é—á—É `--overview`.
  --close-orders CLOSE_ORDERS [CLOSE_ORDERS ...], --cancel-orders CLOSE_ORDERS [CLOSE_ORDERS ...]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ –æ—Ä–¥–µ—Ä–æ–≤, —É–∫–∞–∑–∞–≤ —Å–ø–∏—Å–æ–∫ –∏—Ö `orderId`
                        –∏–ª–∏ `stopOrderId`. –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —ç—Ç–∏ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ –æ—Ç—á—ë—Ç–µ
                        –ø–æ –∫–ª—é—á—É `--overview`.
  --close-trade, --cancel-trade
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏—é –ø–æ –æ–¥–Ω–æ–º—É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É, –∑–∞–¥–∞–Ω–Ω–æ–º—É –∫–ª—é—á–æ–º
                        `--ticker`, –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–∫–µ—Ä—ã –≤–∞–ª—é—Ç.
  --close-trades CLOSE_TRADES [CLOSE_TRADES ...], --cancel-trades CLOSE_TRADES [CLOSE_TRADES ...]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤,
                        –≤ —Ç–æ–º —á–∏—Å–ª–µ –º–æ–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∏–∫–µ—Ä—ã –≤–∞–ª—é—Ç.
  --close-all [CLOSE_ALL [CLOSE_ALL ...]], --cancel-all [CLOSE_ALL [CLOSE_ALL ...]]
                        –ö–æ–º–∞–Ω–¥–∞: –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ (–Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ) –æ—Ç–∫—Ä—ã—Ç—ã–µ
                        –ø–æ–∑–∏—Ü–∏–∏ –∏ –æ—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞, –∫—Ä–æ–º–µ –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π. –¢–∞–∫–∂–µ –≤—ã –º–æ–∂–µ—Ç–µ
                        —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–ª–∏ –±–æ–ª–µ–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (—Ä–µ–≥–∏—Å—Ç—Ä–æ–Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö) –¥–ª—è
                        —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤: `orders`, `shares`, `bonds`,
                        `etfs` –∏–ª–∏ `futures`, –Ω–æ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `currencies`. –í–∞–ª—é—Ç–Ω—ã–µ
                        –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—ã –¥–æ–ª–∂–Ω—ã –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–∏
                        `--buy`, `--sell`, `--close-trade` –∏–ª–∏ `--close-trades`.
```

</details>

#### –õ–æ–∫–∞–ª—å–Ω—ã–π –∫—ç—à –¥–∞–Ω–Ω—ã—Ö

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–π TKSBrokerAPI v1.2.* –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∞ `dump.json` —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —Ç–æ—Ä–≥—É–µ–º—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —ç—Ç–∏—Ö –¥–∞–Ω–Ω—ã—Ö —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –∏ —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —Å—ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è. –ö—ç—à –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—Ä–∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –ª—é–±–æ–π –∫–æ–º–∞–Ω–¥—ã, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –µ–≥–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

–ï—Å–ª–∏ —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç –¥–Ω—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫—ç—à–∞, —Ç–æ –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –ø—Ä–∏ –æ—á–µ—Ä–µ–¥–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã. –ï—Å–ª–∏ —Ñ–∞–π–ª `dump.json` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–∞—Ç–∞–ª–æ–≥–µ, –æ–Ω —Ç–∞–∫–∂–µ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–û–±—ã—á–Ω–æ –Ω–∞ –±–∏—Ä–∂–∞—Ö —Ä–µ–¥–∫–æ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –≤ —Ç–µ—á–µ–Ω–∏–µ –¥–Ω—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ –º–∏–Ω–∏–º—É–º —Ä–∞–∑ –≤ –¥–µ–Ω—å –æ–ø—Ä–∞–≤–¥–∞–Ω–Ω–æ. –ù–æ –µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —É–≤–µ—Ä–µ–Ω—ã –≤ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ –º–æ–∂–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –∫–ª—é—á `--no-cahce` –≤–º–µ—Å—Ç–µ —Å –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥–æ–π. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –¥–∞–Ω–Ω—ã–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º –±—É–¥—É—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑.

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--list` (`-l`). –ü—Ä–∏ —ç—Ç–æ–º –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–∞ –±—Ä–æ–∫–µ—Ä–∞ –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –¥–æ—Å—Ç—É–ø–Ω—ã–º –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--output` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–ª–µ–¥—É–µ—Ç —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `instruments.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –ö–ª—é—á `--debug-level=10` –≤—ã–≤–µ–¥–µ—Ç –≤—Å—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å (–º–æ–∂–Ω–æ –µ–≥–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</summary>

```commandline
$ tksbrokerapi --debug-level=10 --list --output ilist.md

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-26 22:04:39,571] TKSBrokerAPI module started at: [2022-07-26 19:04:39] (UTC), it is [2022-07-26 22:04:39] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-26 22:04:39,572] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-26 22:04:39,572] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-26 22:04:39,573] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-26 22:04:39,573] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-26 22:04:39,574] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,581] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 22:04:39,582] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:925  INFO    [2022-07-26 22:04:40,400] # All available instruments from Tinkoff Broker server for current user token

* **Actual on date:** [2022-07-26 19:04] (UTC)
* **Currencies:** [21]
* **Shares:** [1900]
* **Bonds:** [655]
* **Etfs:** [105]
* **Futures:** [284]


## Currencies available. Total: [21]

| Ticker       | Full name                                                      | FIGI         | Cur | Lot    | Step
|--------------|----------------------------------------------------------------|--------------|-----|--------|---------
| USDCHF_TOM   | –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫ - –î–æ–ª–ª–∞—Ä –°–®–ê                                 | BBG0013HPJ07 | chf | 1000   | 1e-05
| EUR_RUB__TOM | –ï–≤—Ä–æ                                                           | BBG0013HJJ31 | rub | 1000   | 0.0025
| CNYRUB_TOM   | –Æ–∞–Ω—å                                                           | BBG0013HRTL0 | rub | 1000   | 0.0001
| ...          | ...                                                            | ...          | ... | ...    | ...   
| RUB000UTSTOM | –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å                                               | RUB000UTSTOM | rub | 1      | 0.0025
| USD000UTSTOM | –î–æ–ª–ª–∞—Ä –°–®–ê                                                     | BBG0013HGFT4 | rub | 1000   | 0.0025

[... –¥–∞–ª–µ–µ –∏–¥—ë—Ç –∞–Ω–∞–ª–æ–≥–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –¥—Ä—É–≥–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º ...]

TKSBrokerAPI.py     L:931  INFO    [2022-07-26 22:04:41,211] All available instruments are saved to file: [ilist.md]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-26 22:04:41,213] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-26 22:04:41,214] TKSBrokerAPI module work duration: [0:00:01.641989]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-26 22:04:41,215] TKSBrokerAPI module finished: [2022-07-26 19:04:41] (UTC), it is [2022-07-26 22:04:41] local time
```

</details>

#### –ù–∞–π—Ç–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç

–ß—Ç–æ–±—ã —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∏—Ä–∂–µ–≤—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –ø–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –Ω–∏–º, –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ü–µ–Ω—ã –∏ —Å–æ–≤–µ—Ä—à–∞—Ç—å —Å–¥–µ–ª–∫–∏, –æ–±—ã—á–Ω–æ —Ç—Ä–µ–±—É–µ—Ç—Å—è —É–∫–∞–∑–∞—Ç—å —Ç–∏–∫–µ—Ä (–∫–ª—é—á `--ticker`) –∏–ª–∏ FIGI (–∫–ª—é—á `--figi`). –ù–æ –≤—Ä—è–¥ –ª–∏ –µ—Å—Ç—å –º–Ω–æ–≥–æ –ª—é–¥–µ–π, –∫—Ç–æ –∑–Ω–∞–µ—Ç –∏—Ö –Ω–∞–∏–∑—É—Å—Ç—å. –ß–∞—â–µ –≤—Å–µ–≥–æ –∏–º–µ–µ—Ç—Å—è –ª–∏—à—å –ø—Ä–µ–¥–ø–æ–ª–æ–∂–µ–Ω–∏–µ –æ —á–∞—Å—Ç–∏ —Å–∏–º–≤–æ–ª–æ–≤ —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ –ø—Ä–∏–º–µ—Ä–Ω–æ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–∏—Å–∫–æ–º –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É: —á–∞—Å—Ç–∏ –∏–º–µ–Ω–∏, —Ç–∏–∫–µ—Ä–∞ –∏–ª–∏ FIGI, –ª–∏–±–æ —É–∫–∞–∑–∞–≤ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ. –ü–æ–∏—Å–∫ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º python –º–æ–¥—É–ª–µ–º [`re`](https://docs.python.org/3/library/re.html#re.compile), –±–µ–∑ —É—á—ë—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞.

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–π TKSBrokerAPI v1.2.* –¥–æ–±–∞–≤–ª–µ–Ω –∫–ª—é—á `--search`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä, —Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≥—Ä—É–ø–ø—ã –∫–æ–º–ø–∞–Ω–∏–π –°–±–µ—Ä, —Ç–æ–≥–¥–∞ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∑–∞–¥–∞—Ç—å —á–∞—Å—Ç—å —Å–ª–æ–≤–∞: `tksbrokerapi --search "sbe"` (–∏–ª–∏ –ø–æ-—Ä—É—Å—Å–∫–∏ `"—Å–±–µ—Ä"`). –ò–ª–∏ –∂–µ —Ö–æ—á–µ—Ç—Å—è —É–∑–Ω–∞—Ç—å –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–∞–Ω–∏–π, –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á–∞—é—Ç—Å—è —Å–ª–æ–≤–∞ "–†–æ—Å—Å–∏–π—Å–∫–∏–µ", "–∞–∫—Ü–∏–∏" –∏ "–æ–±–ª–∏–≥–∞—Ü–∏–∏". –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º–æ–∂–Ω–æ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–æ–≤–∞ –∏ –∑–∞–¥–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ: `tksbrokerapi --search "(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)"`.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –∫ –∫–ª—é—á—É `--search` –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø–æ–ª–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `search-results.md`. –í –∫–æ–Ω—Å–æ–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 5 –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –Ω—É–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—ã–ª –Ω–∞–π–¥–µ–Ω –∏ —Å—Ç–∞–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω—ã –µ–≥–æ —Ç–∏–∫–µ—Ä –∏ FIGI, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –º–æ–∂–Ω–æ –∫–æ–º–∞–Ω–¥–æ–π `tksbrokerapi -t TICKER --info` –∏–ª–∏ `tksbrokerapi -f FIGI --info` ([–ø–æ–¥—Ä–æ–±–Ω–µ–µ](https://github.com/Tim55667757/TKSBrokerAPI#–ü–æ–ª—É—á–∏—Ç—å-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é-–ø–æ-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É)).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ —á–∞—Å—Ç–∏ –Ω–∞–∑–≤–∞–Ω–∏—è</summary>

```commandline
$ tksbrokerapi --search "—Å–±–µ—Ä"

TKSBrokerAPI.py     L:1065 INFO    [2022-08-11 22:00:31,171] # Search results

* **Search pattern:** [—Å–±–µ—Ä]
* **Found instruments:** [21]

**Note:** you can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t TICKER --info` or `tksbrokerapi -f FIGI --info`.

### Shares: [2]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Shares     | SBER         | –°–±–µ—Ä –ë–∞–Ω–∫                                                      | BBG004730N88 |
| Shares     | SBERP        | –°–±–µ—Ä –ë–∞–Ω–∫ - –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏                            | BBG0047315Y7 |

### Bonds: [8]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Bonds      | RU000A101QW2 | –°–±–µ—Ä –ë–∞–Ω–∫                                                      | BBG00V9STNC5 |
| Bonds      | RU000A103YM3 | –°–±–µ—Ä –ë–∞–Ω–∫ 002P –≤—ã–ø—É—Å–∫ 1                                        | BBG013J0F816 |
| Bonds      | RU000A101C89 | –°–±–µ—Ä –ë–∞–Ω–∫ 001P-SBER15                                          | BBG00RKBQ4D2 |
| Bonds      | RU000A102FR3 | –°–±–µ—Ä–±–∞–Ω–∫                                                       | BBG00YHVQ768 |
| Bonds      | RU000A103G75 | –°–±–µ—Ä –ë–∞–Ω–∫ 001P-SBER32                                          | BBG0122KNFZ0 |
| ...        | ...          | ...                                                            | ...          |

### Etfs: [1]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Etfs       | RU000A104172 | –ó–ü–ò–§ –ü–ê–†–£–°-–°–±–µ—Ä–ª–æ–≥                                             | TCS00A104172 |

### Futures: [10]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Futures    | SPH2         | SBPR-3.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)                        | FUTSBPR03220 |
| Futures    | SRU2         | SBRF-9.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF09220 |
| Futures    | SRH3         | SBRF-3.23 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF03230 |
| Futures    | SRH2         | SBRF-3.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–æ–±—ã–∫–Ω–æ–≤–µ–Ω–Ω—ã–µ)                             | FUTSBRF03220 |
| Futures    | SPM2         | SBPR-6.22 –°–±–µ—Ä –ë–∞–Ω–∫ (–ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)                        | FUTSBPR06220 |
| ...        | ...          | ...                                                            | ...          |

TKSBrokerAPI.py     L:1066 INFO    [2022-08-11 22:00:31,172] You can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t IBM --info` or `tksbrokerapi -f BBG000BLNNH6 --info`
TKSBrokerAPI.py     L:1072 INFO    [2022-08-11 22:00:31,172] Full search results were saved to file: [search-results.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–º—É –≤—ã—Ä–∞–∂–µ–Ω–∏—é</summary>

```commandline
$ tksbrokerapi --search "(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)"

TKSBrokerAPI.py     L:1067 INFO    [2022-08-11 22:41:39,039] # Search results

* **Search pattern:** [(–†–æ—Å—Å.*).*(?:.*—Ü–∏–∏)]
* **Found instruments:** [5]

**Note:** you can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t TICKER --info` or `tksbrokerapi -f FIGI --info`.

### Shares: [1]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Shares     | RSTIP        | –†–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ç–∏ - –∞–∫—Ü–∏–∏ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ                      | BBG000KTF667 |

### Etfs: [4]

| Type       | Ticker       | Full name                                                      | FIGI         |
|------------|--------------|----------------------------------------------------------------|--------------|
| Etfs       | AMRE         | –ê–¢–û–ù –†–æ—Å—Å–∏–π—Å–∫–∏–µ –∞–∫—Ü–∏–∏ +                                        | TCS00A102XX4 |
| Etfs       | AMRB         | –ê–¢–û–ù –†–æ—Å—Å–∏–π—Å–∫–∏–µ –æ–±–ª–∏–≥–∞—Ü–∏–∏ +                                    | TCS00A102XY2 |
| Etfs       | SBCB         | –ü–µ—Ä–≤–∞—è - –§–æ–Ω–¥ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –µ–≤—Ä–æ–æ–±–ª–∏–≥–∞—Ü–∏–∏                         | BBG00NB6KGN0 |
| Etfs       | AKME         | –ê–ª—å—Ñ–∞-–ö–∞–ø–∏—Ç–∞–ª –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –†–æ—Å—Å–∏–π—Å–∫–∏–µ –ê–∫—Ü–∏–∏                     | BBG00YRW4B42 |

TKSBrokerAPI.py     L:1068 INFO    [2022-08-11 22:41:39,039] You can view info about found instruments with key `--info`, e.g.: `tksbrokerapi -t IBM --info` or `tksbrokerapi -f BBG000BLNNH6 --info`
TKSBrokerAPI.py     L:1074 INFO    [2022-08-11 22:41:39,040] Full search results were saved to file: [search-results.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –ø–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--info` (`-i`), –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö: —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –ª–∏–±–æ –µ–≥–æ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä. –û–Ω–∏ –∑–∞–¥–∞—é—Ç—Å—è –∫–ª—é—á–∞–º–∏ `--ticker` (`-t`) –∏ `--figi` (`-f`) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –í—ã–≤–æ–¥–∏–º–∞—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –¥–ª—è –æ–±–æ–∏—Ö –∫–ª—é—á–µ–π. –†–∞–∑–Ω–∏—Ü–∞ –∏–º–µ–µ—Ç—Å—è –≤ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –ø–æ–ª–µ–π, –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º—ã—Ö –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞: —ç—Ç–æ –≤–∞–ª—é—Ç–∞, –∞–∫—Ü–∏—è, –æ–±–ª–∏–≥–∞—Ü–∏—è, —Ñ–æ–Ω–¥ –∏–ª–∏ —Ñ—å—é—á–µ—Ä—Å.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–µ (–∏—Å–ø–æ–ª—å–∑—É—è –∞–ª–∏–∞—Å —Ç–∏–∫–µ—Ä–∞, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi  -t CNY -i

TKSBrokerAPI.py     L:607  INFO    [2022-07-26 23:48:31,766] Information about instrument: ticker [CNYRUB_TOM], FIGI [BBG0013HRTL0]
# Information is actual at: [2022-07-26 20:48] (UTC)

| Parameters                                              | Values
|---------------------------------------------------------|---------------------------------------------------------
| Ticker:                                                 | CNYRUB_TOM
| Full name:                                              | –Æ–∞–Ω—å
| Country of instrument:                                  |
|                                                         |
| FIGI (Financial Instrument Global Identifier):          | BBG0013HRTL0
| Exchange:                                               | FX
| Class Code:                                             | CETS
|                                                         |
| Current broker security trading status:                 | Not available for trading
| Buy operations allowed:                                 | Yes
| Sale operations allowed:                                | Yes
| Short positions allowed:                                | No
|                                                         |
| Type of the instrument:                                 | Currencies
| ISO currency name:                                      | cny
| Payment currency:                                       | rub
|                                                         |
| Previous close price of the instrument:                 | 8.6894 rub
| Last deal price of the instrument:                      | 9.2 rub
| Changes between last deal price and last close  %       | 5.88%
| Current limit price, min / max:                         | 8.1891 rub / 9.3463 rub
| Actual price, sell / buy:                               | N/A rub / N/A rub
| Minimum lot to buy:                                     | 1000
| Minimum price increment (step):                         | 0.0001
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∞–∫—Ü–∏–∏ (–∏—Å–ø–æ–ª—å–∑—É—è —Ç–∏–∫–µ—Ä, –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --info

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-26 23:49:58,496] TKSBrokerAPI module started at: [2022-07-26 20:49:58] (UTC), it is [2022-07-26 23:49:58] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-26 23:49:58,497] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-26 23:49:58,497] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-26 23:49:58,498] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-26 23:49:58,498] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-26 23:49:58,499] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 23:49:58,503] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 23:49:58,503] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 23:49:58,503] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 23:49:58,503] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-26 23:49:58,503] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-26 23:49:59,357] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:607  INFO    [2022-07-26 23:49:59,462] Information about instrument: ticker [IBM], FIGI [BBG000BLNNH6]
# Information is actual at: [2022-07-26 20:49] (UTC)

| Parameters                                              | Values
|---------------------------------------------------------|---------------------------------------------------------
| Ticker:                                                 | IBM
| Full name:                                              | IBM
| Sector:                                                 | it
| Country of instrument:                                  | (US) –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏
|                                                         |
| FIGI (Financial Instrument Global Identifier):          | BBG000BLNNH6
| Exchange:                                               | SPB
| ISIN (International Securities Identification Number):  | US4592001014
| Class Code:                                             | SPBXM
|                                                         |
| Current broker security trading status:                 | Normal trading
| Buy operations allowed:                                 | Yes
| Sale operations allowed:                                | Yes
| Short positions allowed:                                | No
|                                                         |
| Type of the instrument:                                 | Shares
| IPO date:                                               | 1915-11-11 00:00:00
| Payment currency:                                       | usd
|                                                         |
| Previous close price of the instrument:                 | 128.54 usd
| Last deal price of the instrument:                      | 128.2 usd
| Changes between last deal price and last close  %       | -0.26%
| Current limit price, min / max:                         | 126.54 usd / 129.86 usd
| Actual price, sell / buy:                               | 128.08 usd / 128.65 usd
| Minimum lot to buy:                                     | 1
| Minimum price increment (step):                         | 0.01

TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-26 23:49:59,471] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-26 23:49:59,471] TKSBrokerAPI module work duration: [0:00:00.974552]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-26 23:49:59,472] TKSBrokerAPI module finished: [2022-07-26 20:49:59] (UTC), it is [2022-07-26 23:49:59] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏–∏ (–∑–Ω–∞—è FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)</summary>

```commandline
$ tksbrokerapi -f TCS00A101YV8 --info

TKSBrokerAPI.py     L:607  INFO    [2022-07-26 23:57:22,581] Information about instrument: ticker [RU000A101YV8], FIGI [TCS00A101YV8]
# Information is actual at: [2022-07-26 20:57] (UTC)

| Parameters                                              | Values
|---------------------------------------------------------|---------------------------------------------------------
| Ticker:                                                 | RU000A101YV8
| Full name:                                              | –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1
| Sector:                                                 | it
| Country of instrument:                                  | (RU) –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è
|                                                         |
| FIGI (Financial Instrument Global Identifier):          | TCS00A101YV8
| Exchange:                                               | MOEX_PLUS
| ISIN (International Securities Identification Number):  | RU000A101YV8
| Class Code:                                             | TQCB
|                                                         |
| Current broker security trading status:                 | Break in trading
| Buy operations allowed:                                 | Yes
| Sale operations allowed:                                | Yes
| Short positions allowed:                                | No
|                                                         |
| Type of the instrument:                                 | Bonds
| Payment currency:                                       | rub
| State registration date:                                | 2020-07-21 00:00:00
| Placement date:                                         | 2020-07-29 00:00:00
| Maturity date:                                          | 2023-07-26 00:00:00
|                                                         |
| Previous close price of the instrument:                 | 101. rub
| Last deal price of the instrument:                      | 101. rub
| Changes between last deal price and last close  %       | 0.00%
| Current limit price, min / max:                         | 60.51 rub / 141.17 rub
| Actual price, sell / buy:                               | N/A rub / N/A rub
| Minimum lot to buy:                                     | 1
| Minimum price increment (step):                         | 0.01
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥—É (–∑–Ω–∞—è FIGI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞)</summary>

```commandline
$ tksbrokerapi --figi BBG222222222 -i

TKSBrokerAPI.py     L:607  INFO    [2022-07-26 23:59:07,204] Information about instrument: ticker [TGLD], FIGI [BBG222222222]
# Information is actual at: [2022-07-26 20:59] (UTC)

| Parameters                                              | Values
|---------------------------------------------------------|---------------------------------------------------------
| Ticker:                                                 | TGLD
| Full name:                                              | –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ
| Country of instrument:                                  |
|                                                         |
| FIGI (Financial Instrument Global Identifier):          | BBG222222222
| Exchange:                                               | MOEX
| ISIN (International Securities Identification Number):  | RU000A101X50
| Class Code:                                             | TQTD
|                                                         |
| Current broker security trading status:                 | Break in trading
| Buy operations allowed:                                 | Yes
| Sale operations allowed:                                | Yes
| Short positions allowed:                                | No
|                                                         |
| Type of the instrument:                                 | Etfs
| Released date:                                          | 2020-07-13 00:00:00
| Focusing type:                                          | equity
| Payment currency:                                       | usd
|                                                         |
| Previous close price of the instrument:                 | 0.07110000000000001 usd
| Last deal price of the instrument:                      | 0.07110000000000001 usd
| Changes between last deal price and last close  %       | 0.00%
| Current limit price, min / max:                         | 0.06080000000000001 usd / 0.0815 usd
| Actual price, sell / buy:                               | N/A usd / N/A usd
| Minimum lot to buy:                                     | 100
| Minimum price increment (step):                         | 0.0001
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ —Ñ—å—é—á–µ—Ä—Å—É (–∑–Ω–∞—è –µ–≥–æ —Ç–∏–∫–µ—Ä, –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏)</summary>

```commandline
$ tksbrokerapi --verbosity=10 --ticker PZH2 --info

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 00:01:48,048] TKSBrokerAPI module started at: [2022-07-26 21:01:48] (UTC), it is [2022-07-27 00:01:48] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 00:01:48,049] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 00:01:48,049] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 00:01:48,049] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 00:01:48,050] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 00:01:48,050] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 00:01:48,056] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 00:01:48,056] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 00:01:48,057] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 00:01:48,057] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 00:01:48,058] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 00:01:48,968] Requesting current prices for instrument with ticker [PZH2] and FIGI [FUTPLZL03220]...
TKSBrokerAPI.py     L:607  INFO    [2022-07-27 00:01:49,075] Information about instrument: ticker [PZH2], FIGI [FUTPLZL03220]
# Information is actual at: [2022-07-26 21:01] (UTC)

| Parameters                                              | Values
|---------------------------------------------------------|---------------------------------------------------------
| Ticker:                                                 | PZH2
| Full name:                                              | PLZL-3.22 –ü–æ–ª—é—Å –ó–æ–ª–æ—Ç–æ
| Sector:                                                 | SECTOR_MATERIALS
| Country of instrument:                                  |
|                                                         |
| FIGI (Financial Instrument Global Identifier):          | FUTPLZL03220
| Exchange:                                               | FORTS
| Class Code:                                             | SPBFUT
|                                                         |
| Current broker security trading status:                 | Not available for trading
| Buy operations allowed:                                 | Yes
| Sale operations allowed:                                | Yes
| Short positions allowed:                                | Yes
|                                                         |
| Type of the instrument:                                 | Futures
| Futures type:                                           | DELIVERY_TYPE_PHYSICAL_DELIVERY
| Asset type:                                             | TYPE_SECURITY
| Basic asset:                                            | PLZL
| Basic asset size:                                       | 10.0
| Payment currency:                                       | rub
| First trade date:                                       | 2021-09-02 20:59:59
| Last trade date:                                        | 2022-03-28 21:00:00
| Date of expiration:                                     | 2022-03-30 00:00:00
|                                                         |
| Previous close price of the instrument:                 | 108100. rub
| Last deal price of the instrument:                      | 108100. rub
| Changes between last deal price and last close  %       | 0.00%
| Current limit price, min / max:                         | 0. rub / 0. rub
| Actual price, sell / buy:                               | N/A rub / N/A rub
| Minimum lot to buy:                                     | 1

TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 00:01:49,085] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 00:01:49,085] TKSBrokerAPI module work duration: [0:00:01.036968]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 00:01:49,086] TKSBrokerAPI module finished: [2022-07-26 21:01:49] (UTC), it is [2022-07-27 00:01:49] local time
```

</details>

#### –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≥–ª—É–±–∏–Ω–æ–π

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--price`, –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –¥–≤—É—Ö: —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–∫–ª—é—á `--ticker` –∏–ª–∏ `-t`), –ª–∏–±–æ –µ–≥–æ FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (–∫–ª—é—á `--figi` –∏–ª–∏ `-f`) —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--depth` –¥–ª—è –∑–∞–¥–∞–Ω–∏—è "–≥–ª—É–±–∏–Ω—ã —Å—Ç–∞–∫–∞–Ω–∞" —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ —Ü–µ–Ω–∞–º–∏. –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–¥–∞–≤–∞–µ–º–∞—è –≥–ª—É–±–∏–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏ –±—Ä–æ–∫–µ—Ä–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, –æ–Ω–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ–º–æ–π.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞–∫–∞–Ω–∞ —Ü–µ–Ω</summary>

```commandline
$ tksbrokerapi --ticker IBM --depth=5 --price

TKSBrokerAPI.py     L:871  INFO    [2022-07-27 00:11:35,189] Current prices in order book:

Orders book actual at [2022-07-26 21:11:35] (UTC)
Ticker: [IBM], FIGI: [BBG000BLNNH6], Depth of Market: [5]
----------------------------------------
 Orders of Buyers   | Orders of Sellers
----------------------------------------
 Sell prices (vol.) | Buy prices (vol.)
----------------------------------------
                    | 129.2 (1)
                    | 129.0 (9)
                    | 128.96 (21)
                    | 128.7 (1)
                    | 128.65 (150)
         127.67 (1) |
         127.66 (1) |
        127.65 (60) |
         127.53 (2) |
          127.5 (5) |
----------------------------------------
     Total sell: 69 | Total buy: 182
----------------------------------------
```

</details>

#### –ó–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–∞–±–ª–∏—Ü—É –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ü–µ–Ω –¥–ª—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--prices` (`-p`), –∞ —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å —Ç–∏–∫–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–ª–∏ –∏—Ö FIGI –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã, —Ä–∞–∑–¥–µ–ª—è—è –ø—Ä–æ–±–µ–ª–æ–º. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Ü–µ–Ω –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `prices.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ —Ü–µ–Ω —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤</summary>

```commandline
$ tksbrokerapi --prices EUR IBM MSFT GOOGL UNKNOWN_TICKER TCS00A101YV8 POSI BBG000000001 PTZ2 --output some-prices.md

TKSBrokerAPI.py     L:977  WARNING [2022-07-27 00:25:43,224] Instrument [UNKNOWN_TICKER] not in list of available instruments for current token!
TKSBrokerAPI.py     L:1018 INFO    [2022-07-27 00:25:43,606] Only unique instruments are shown:
# Actual prices at: [2022-07-26 21:25 UTC]

| Ticker       | FIGI         | Type       | Prev. close | Last price  | Chg. %   | Day limits min/max  | Actual sell / buy   | Curr.
|--------------|--------------|------------|-------------|-------------|----------|---------------------|---------------------|------
| EUR_RUB__TOM | BBG0013HJJ31 | Currencies |       59.22 |       61.68 |   +4.16% |       55.82 / 62.47 |           N/A / N/A | rub
| IBM          | BBG000BLNNH6 | Shares     |      128.08 |      128.36 |   +0.22% |     126.64 / 129.96 |     128.18 / 128.65 | usd
| MSFT         | BBG000BPH459 | Shares     |      251.90 |      252.23 |   +0.13% |     248.74 / 254.96 |     252.01 / 252.35 | usd
| GOOGL        | BBG009S39JX6 | Shares     |      105.02 |      108.00 |   +2.84% |       97.78 / 119.3 |     107.55 / 107.94 | usd
| RU000A101YV8 | TCS00A101YV8 | Bonds      |      101.00 |      101.00 |    0.00% |      60.51 / 141.17 |           N/A / N/A | rub
| POSI         | TCS00A103X66 | Shares     |      910.00 |      910.00 |    0.00% |      533.2 / 1243.6 |           N/A / N/A | rub
| TRUR         | BBG000000001 | Etfs       |        5.45 |        5.45 |    0.00% |          4.8 / 5.94 |           N/A / N/A | rub
| PTZ2         | FUTPLT122200 | Futures    |      940.40 |      930.00 |   -1.11% |      831.4 / 1024.2 |           N/A / N/A | rub

TKSBrokerAPI.py     L:1024 INFO    [2022-07-27 00:25:43,611] Price list for all instruments saved to file: [some-prices.md]
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–æ–≤

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--overview` (`-o`). –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –∏ –∑–∞–¥–∞—Ç—å –∏–º—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø–æ—Ä—Ç—Ñ–µ–ª—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `overview.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏). –ö–ª—é—á `--verbosity=10` –≤—ã–≤–µ–¥–µ—Ç –≤—Å—é –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –∫–æ–Ω—Å–æ–ª—å (–º–æ–∂–Ω–æ –µ–≥–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å).

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</summary>

```commandline
$ tksbrokerapi --verbosity=10 --overview --output portfolio.md

TKSBrokerAPI.py     L:2898 DEBUG   [2022-08-10 22:06:22,087] TKSBrokerAPI module started at: [2022-08-10 19:06:22] (UTC), it is [2022-08-10 22:06:22] local time
TKSBrokerAPI.py     L:205  DEBUG   [2022-08-10 22:06:22,087] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:217  DEBUG   [2022-08-10 22:06:22,087] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:247  DEBUG   [2022-08-10 22:06:22,087] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:307  DEBUG   [2022-08-10 22:06:22,113] Local cache with raw instruments data is used: [dump.json]
TKSBrokerAPI.py     L:308  DEBUG   [2022-08-10 22:06:22,114] Dump file was modified [2022-08-10 12:02:58] UTC
TKSBrokerAPI.py     L:1207 DEBUG   [2022-08-10 22:06:22,114] Request portfolio of a client...
TKSBrokerAPI.py     L:1095 DEBUG   [2022-08-10 22:06:22,114] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1101 DEBUG   [2022-08-10 22:06:22,499] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1112 DEBUG   [2022-08-10 22:06:22,499] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1118 DEBUG   [2022-08-10 22:06:22,854] Records about current open positions successfully received
TKSBrokerAPI.py     L:1129 DEBUG   [2022-08-10 22:06:22,854] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1135 DEBUG   [2022-08-10 22:06:23,192] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1146 DEBUG   [2022-08-10 22:06:23,193] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1152 DEBUG   [2022-08-10 22:06:23,807] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:23,824] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,152] Requesting current prices for instrument with ticker [1810] and FIGI [BBG00KVTBY91]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,571] Requesting current prices for instrument with ticker [288] and FIGI [BBG00699M8Q7]...
TKSBrokerAPI.py     L:858  DEBUG   [2022-08-10 22:06:24,843] Requesting current prices for instrument with ticker [9988] and FIGI [BBG006G2JVL2]...
TKSBrokerAPI.py     L:1821 INFO    [2022-08-10 22:06:27,150] Statistics of client's portfolio:
# Client's portfolio

* **Actual date:** [2022-08-10 19:06:27] (UTC)
* **Portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Open positions

| Ticker [FIGI]               | Volume (blocked)                | Lots     | Curr. price  | Avg. price   | Current volume cost | Profit (%)
|-----------------------------|---------------------------------|----------|--------------|--------------|---------------------|----------------------
| Ruble                       |                 5.62 (0.00) rub |          |              |              |                     |
|                             |                                 |          |              |              |                     |
| **Currencies:**             |                                 |          |              |              |        13886.03 RUB |
| EUR_RUB__TOM [BBG0013HJJ31] |                 5.29 (0.00) eur | 0.0053   |    62.75 rub |    61.41 rub |          331.96 rub | +7.10 rub (+2.19%)
| CNYRUB_TOM [BBG0013HRTL0]   |               928.93 (0.00) cny | 0.9289   |     9.09 rub |     8.95 rub |         8443.97 rub | +134.69 rub (+1.62%)
| CHFRUB_TOM [BBG0013HQ5K4]   |                 1.00 (0.00) chf | 0.0010   |    60.54 rub |    64.00 rub |           60.54 rub | -3.46 rub (-5.41%)
| GBPRUB_TOM [BBG0013HQ5F0]   |                10.00 (0.00) gbp | 0.0100   |    74.39 rub |    75.88 rub |          743.85 rub | -14.94 rub (-1.97%)
| TRYRUB_TOM [BBG0013J12N1]   |               100.00 (0.00) try | 0.1000   |     3.42 rub |     3.41 rub |          342.00 rub | +0.65 rub (+0.19%)
| USD000UTSTOM [BBG0013HGFT4] |                34.42 (0.05) usd | 0.0344   |    60.66 rub |    60.33 rub |         2088.09 rub | +11.44 rub (+0.55%)
| HKDRUB_TOM [BBG0013HSW87]   |               237.75 (0.00) hkd | 0.2378   |     7.89 rub |     7.83 rub |         1875.61 rub | +14.27 rub (+0.77%)
|                             |                                 |          |              |              |                     |
| **Shares:**                 |                                 |          |              |              |       199987.52 RUB |
| POSI [TCS00A103X66]         |                           3 (0) | 3        |  1161.80 rub |  1120.20 rub |         3485.40 rub | +124.60 rub (+3.71%)
| 288 [BBG00699M8Q7]          |                         800 (0) | 8        |     5.53 hkd |     5.69 hkd |         4424.00 hkd | -128.00 hkd (-2.81%)
| YNDX [BBG006L8G4H1]         |                           4 (0) | 4        |  1971.80 rub |  1958.80 rub |         7887.20 rub | +52.22 rub (+0.67%)
| IBM [BBG000BLNNH6]          |                           1 (1) | 1        |   131.03 usd |   131.13 usd |          131.03 usd | -0.10 usd (-0.08%)
| 1810 [BBG00KVTBY91]         |                        1100 (0) | 11       |    11.79 hkd |    11.76 hkd |        12969.00 hkd | +30.00 hkd (+0.23%)
| 9988 [BBG006G2JVL2]         |                          60 (0) | 6        |    91.80 hkd |    91.05 hkd |         5508.00 hkd | +45.50 hkd (+0.83%)
|                             |                                 |          |              |              |                     |
| **Bonds:**                  |                                 |          |              |              |        56240.33 RUB |
| RU000A105104 [TCS00A105104] |                           5 (0) | 5        |  1012.00 cny |  1013.00 cny |         5064.80 cny | -5.00 cny (-0.10%)
| RU000A101YV8 [TCS00A101YV8] |                          10 (0) | 10       |  1015.40 rub |  1011.21 rub |        10201.30 rub | +41.90 rub (+0.41%)
|                             |                                 |          |              |              |                     |
| **Etfs:**                   |                                 |          |              |              |       135586.27 RUB |
| TGLD [BBG222222222]         |                       30000 (0) | 300      |     0.07 usd |     0.07 usd |         2235.00 usd | -3.39 usd (-0.15%)
|                             |                                 |          |              |              |                     |
| **Futures:** no trades      |                                 |          |              |              |                     |

## Opened pending limit-orders: 1

| Ticker [FIGI]               | Order ID       | Lots (exec.) | Current price (% delta) | Target price  | Action    | Type      | Create date (UTC)
|-----------------------------|----------------|--------------|-------------------------|---------------|-----------|-----------|---------------------
| IBM [BBG000BLNNH6]          | ************   | 1 (0)        |     131.02 usd (-4.36%) |    137.00 usd | ‚Üì Sell    | Limit     | 2022-08-10 22:02:44

## Opened stop-orders: 3

| Ticker [FIGI]               | Stop order ID                        | Lots   | Current price (% delta) | Target price  | Limit price   | Action    | Type        | Expire type  | Create date (UTC)   | Expiration (UTC)
|-----------------------------|--------------------------------------|--------|-------------------------|---------------|---------------|-----------|-------------|--------------|---------------------|---------------------
| 1810 [BBG00KVTBY91]         | ********-****-****-****-************ | 11     |         N/A hkd (0.00%) |     14.00 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:24:57 | Undefined
| 288 [BBG00699M8Q7]          | ********-****-****-****-************ | 8      |         N/A hkd (0.00%) |      5.80 hkd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 11:06:28 | Undefined
| IBM [BBG000BLNNH6]          | ********-****-****-****-************ | 1      |     130.99 usd (-4.49%) |    137.15 usd |        Market | ‚Üì Sell    | Take profit | Until cancel | 2022-08-10 19:02:21 | Undefined

# Analytics

* **Current total portfolio cost:** 405705.77 RUB
* **Changes:** +2098.76 RUB (+0.52%)

## Portfolio distribution by assets

| Type       | Uniques | Percent | Current cost
|------------|---------|---------|-----------------
| Ruble      | 1       | 0.00%   | 5.62 rub
| Currencies | 7       | 3.42%   | 13886.03 rub
| Shares     | 6       | 49.29%  | 199987.52 rub
| Bonds      | 2       | 13.86%  | 56240.33 rub
| Etfs       | 1       | 33.42%  | 135586.27 rub

## Portfolio distribution by companies

| Company                                     | Percent | Current cost
|---------------------------------------------|---------|-----------------
| All money cash                              | 3.42%   | 13891.65 rub
| [POSI] Positive Technologies                | 0.86%   | 3485.40 rub
| [288] WH Group                              | 8.60%   | 34900.94 rub
| [YNDX] Yandex                               | 1.94%   | 7887.20 rub
| [IBM] IBM                                   | 1.96%   | 7948.93 rub
| [1810] Xiaomi                               | 25.22%  | 102312.44 rub
| [9988] Alibaba                              | 10.71%  | 43452.61 rub
| [RU000A105104] –†–£–°–ê–õ –≤—ã–ø—É—Å–∫ 5               | 11.35%  | 46039.03 rub
| [RU000A101YV8] –ü–æ–∑–∏—Ç–∏–≤ –¢–µ–∫–Ω–æ–ª–æ–¥–∂–∏–∑ –≤—ã–ø—É—Å–∫ 1 | 2.51%   | 10201.30 rub
| [TGLD] –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ó–æ–ª–æ—Ç–æ                      | 33.42%  | 135586.28 rub

## Portfolio distribution by sectors

| Sector         | Percent | Current cost
|----------------|---------|-----------------
| All money cash | 3.42%   | 13891.65 rub
| it             | 30.55%  | 123948.08 rub
| consumer       | 19.31%  | 78353.55 rub
| telecom        | 1.94%   | 7887.20 rub
| materials      | 11.35%  | 46039.03 rub
| other          | 33.42%  | 135586.28 rub

## Portfolio distribution by currencies

| Instruments currencies   | Percent | Current cost
|--------------------------|---------|-----------------
| [rub] –†–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å   | 5.32%   | 21579.52 rub
| [hkd] –ì–æ–Ω–∫–æ–Ω–≥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä | 44.99%  | 182541.60 rub
| [usd] –î–æ–ª–ª–∞—Ä –°–®–ê         | 35.89%  | 145623.30 rub
| [cny] –Æ–∞–Ω—å               | 13.43%  | 54483.01 rub
| [eur] –ï–≤—Ä–æ               | 0.08%   | 331.96 rub
| [chf] –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫  | 0.01%   | 60.54 rub
| [gbp] –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤    | 0.18%   | 743.85 rub
| [try] –¢—É—Ä–µ—Ü–∫–∞—è –ª–∏—Ä–∞      | 0.08%   | 342.00 rub

## Portfolio distribution by countries

| Assets by country                  | Percent | Current cost
|------------------------------------|---------|-----------------
| All other countries                | 36.84%  | 149472.30 rub
| [RU] –†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è          | 16.67%  | 67612.93 rub
| [CN] –ö–∏—Ç–∞–π—Å–∫–∞—è –ù–∞—Ä–æ–¥–Ω–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞ | 44.53%  | 180665.99 rub
| [US] –°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏     | 1.96%   | 7948.93 rub

TKSBrokerAPI.py     L:1827 INFO    [2022-08-10 22:06:27,153] Client's portfolio is saved to file: [portfolio.md]
TKSBrokerAPI.py     L:3132 DEBUG   [2022-08-10 22:06:27,153] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3137 DEBUG   [2022-08-10 22:06:27,153] TKSBrokerAPI module work duration: [0:00:05.066358]
TKSBrokerAPI.py     L:3138 DEBUG   [2022-08-10 22:06:27,154] TKSBrokerAPI module finished: [2022-08-10 19:06:27] (UTC), it is [2022-08-10 22:06:27] local time
```

</details>

#### –ü–æ–ª—É—á–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--deals` (`-d`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –¥–≤–µ –¥–∞—Ç—ã: –Ω–∞—á–∞–ª—å–Ω—É—é –∏ –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—ã –æ—Ç—á—ë—Ç–∞. –û–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d` –∏ —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –ø—Ä–æ–±–µ–ª–æ–º, –Ω–∞–ø—Ä–∏–º–µ—Ä, `--deals 2022-07-01 2022-07-27`. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –≤ –æ—Ç—á—ë—Ç –≤–æ–π–¥—É—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å 0:00:00 —á–∞—Å–æ–≤ –ø–µ—Ä–≤–æ–π –¥–∞—Ç—ã –∏ –¥–æ 23:59:59 –≤—Ç–æ—Ä–æ–π –¥–∞—Ç—ã.

–í–º–µ—Å—Ç–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω–æ–µ —á–∏—Å–ª–æ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω–µ–π –æ—Ç —Ç–µ–∫—É—â–µ–π –¥–∞—Ç—ã (`--deals -1`, `-d -2`, `-d -3`, ...), —Ç–æ–≥–¥–∞ –∫–æ–Ω–µ—á–Ω—É—é –¥–∞—Ç—É —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ. –¢–∞–∫–∂–µ –≤–º–µ—Å—Ç–æ –Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤: `today`, `yesterday` (-1 –¥–µ–Ω—å), `week` (-7 –¥–Ω–µ–π), `month` (-30 –¥–Ω–µ–π), `year` (-365 –¥–Ω–µ–π). –í–æ –≤—Å–µ—Ö —ç—Ç–∏—Ö —Å–ª—É—á–∞—è—Ö –±—É–¥–µ—Ç –≤—ã–¥–∞–Ω –æ—Ç—á—ë—Ç –∑–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω–µ–π –∏ –≤–ø–ª–æ—Ç—å –¥–æ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–≥–æ —á–∏—Å–ª–∞ –∏ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--output` –¥–ª—è —É–∫–∞–∑–∞–Ω–∏—è —Ñ–∞–π–ª–∞, –∫—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –æ—Ç—á—ë—Ç –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `deals.md` –≤ —Ç–µ–∫—É—â–µ–π —Ä–∞–±–æ—á–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏).
 
<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –º–µ–∂–¥—É –¥–≤—É–º—è —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏</summary>

```commandline
$ tksbrokerapi --deals 2022-07-01 2022-07-28 --output deals.md

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:13:18,960] # Client's operations

* **Period:** from [2022-07-01] to [2022-07-28]

## Summary (operations executed only)

| 1                          | 2                             | 3                            | 4                    | 5
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------
| **Actions:**               | Operations executed: 35       | Trading volumes:             |                      |
|                            |   Buy: 19 (54.3%)             |   rub, buy: -25907.12        |                      |
|                            |   Sell: 16 (45.7%)            |   rub, sell: +11873.86       |                      |
|                            |                               |   usd, buy: -664.45          |                      |
|                            |                               |   usd, sell: +281.03         |                      |
|                            |                               |                              |                      |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01
|                            |                               |                              |                      |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections:
|                            |   rub: -75.85                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00
|                            |   usd: -0.30                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî
|                            |                               |                              |                      |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-22 14:48:50 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-22 14:48:49 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.14 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-21 17:21:21 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:17:06 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:16:17 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:11:30 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-21 17:11:29 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.74 usd | ‚àö Executed | Buy securities
|                     |              |              |            |           |                 |            |
| 2022-07-19 07:08:11 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.22 rub | ‚àö Executed | Operation fee deduction
| 2022-07-19 07:08:10 | TCS00A103X66 | POSI         | Shares     | 1         |     -864.00 rub | ‚àö Executed | Buy securities
|                     |              |              |            |           |                 |            |
| 2022-07-15 07:00:05 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.22 rub | ‚àö Executed | Operation fee deduction
| 2022-07-15 07:00:04 | TCS00A103X66 | POSI         | Shares     | 1         |     +860.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-11 07:46:13 | BBG222222222 | TGLD         | Etfs       | 300       |      -21.45 usd | ‚àö Executed | Buy securities
| 2022-07-08 18:04:04 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-08 18:04:03 | BBG00JN4FXG8 | SLDB         | Shares     | 25        |      +16.26 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-06 17:15:05 | BBG00JN4FXG8 | SLDB         | Shares     | 27        |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-06 14:58:23 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:58:22 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.16 usd | ‚àö Executed | Sell securities
| 2022-07-06 14:46:40 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:46:39 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.68 usd | ‚àö Executed | Sell securities
| 2022-07-06 14:40:39 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-06 14:40:38 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.66 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-05 14:24:15 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-05 13:26:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:26:55 | BBG00JN4FXG8 | SLDB         | Shares     | 6         |       -3.59 usd | ‚àö Executed | Buy securities
| 2022-07-05 13:26:31 | BBG222222222 | TGLD         | Etfs       | 300       |      -22.29 usd | ‚àö Executed | Buy securities
| 2022-07-05 13:24:45 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |       -5.38 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:24:44 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 29        |    -1792.56 rub | ‚àö Executed | Buy securities
| 2022-07-05 13:24:26 | BBG00V9V16J8 | GOLD         | Etfs       | ‚Äî         |       -0.45 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 13:24:25 | BBG00V9V16J8 | GOLD         | Etfs       | 1972      |    +1797.68 rub | ‚àö Executed | Sell securities
| 2022-07-05 13:21:59 | BBG222222222 | TGLD         | Etfs       | 100       |       -7.44 usd | ‚àö Executed | Buy securities
| 2022-07-05 10:12:22 | BBG00V9V16J8 | GOLD         | Etfs       | ‚Äî         |       -0.01 rub | ‚àö Executed | Operation fee deduction
| 2022-07-05 10:12:21 | BBG00V9V16J8 | GOLD         | Etfs       | 11        |      +10.18 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-01 19:32:46 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 19:32:45 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.58 usd | ‚àö Executed | Sell securities
| 2022-07-01 18:13:04 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 18:13:03 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.56 usd | ‚àö Executed | Buy securities
| 2022-07-01 17:46:57 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Buy securities
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 17:46:56 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-01 17:46:55 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 17:46:55 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       +0.55 usd | ‚àö Executed | Sell securities
| 2022-07-01 09:22:15 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -0.34 rub | ‚àö Executed | Operation fee deduction
| 2022-07-01 09:22:14 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 13        |     -111.98 rub | ‚àö Executed | Buy securities
| 2022-07-01 09:20:21 | BBG222222222 | TGLD         | Etfs       | 200       |      -14.88 usd | ‚àö Executed | Buy securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:13:18,975] History of a client's operations are saved to file: [deals.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –∑–∞ —Ç—Ä–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω—è</summary>

```commandline
$ tksbrokerapi -d -3

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:29:15,026] # Client's operations

* **Period:** from [2022-07-25] to [2022-07-28]

## Summary (operations executed only)

| 1                          | 2                             | 3                            | 4                    | 5
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------
| **Actions:**               | Operations executed: 13       | Trading volumes:             |                      |
|                            |   Buy: 9 (69.2%)              |   rub, buy: -23138.58        |                      |
|                            |   Sell: 4 (30.8%)             |   rub, sell: +9206.00        |                      |
|                            |                               |   usd, buy: -593.50          |                      |
|                            |                               |   usd, sell: +256.90         |                      |
|                            |                               |                              |                      |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01
|                            |                               |                              |                      |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections:
|                            |   rub: -69.23                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00
|                            |   usd: -0.18                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî
|                            |                               |                              |                      |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:29:15,032] History of a client's operations are saved to file: [deals.md]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç—á—ë—Ç–∞ –ø–æ –æ–ø–µ—Ä–∞—Ü–∏—è–º –∑–∞ –ø—Ä–æ—à–ª—É—é –Ω–µ–¥–µ–ª—é</summary>

```commandline
$ tksbrokerapi -d week

TKSBrokerAPI.py     L:1972 INFO    [2022-07-28 18:29:59,035] # Client's operations

* **Period:** from [2022-07-21] to [2022-07-28]

## Summary (operations executed only)

| 1                          | 2                             | 3                            | 4                    | 5
|----------------------------|-------------------------------|------------------------------|----------------------|------------------------
| **Actions:**               | Operations executed: 15       | Trading volumes:             |                      |
|                            |   Buy: 10 (66.7%)             |   rub, buy: -23138.58        |                      |
|                            |   Sell: 5 (33.3%)             |   rub, sell: +9206.00        |                      |
|                            |                               |   usd, buy: -594.24          |                      |
|                            |                               |   usd, sell: +259.04         |                      |
|                            |                               |                              |                      |
| **Payments:**              | Deposit on broker account:    | Withdrawals:                 | Dividends income:    | Coupons income:
|                            |   rub: +14000.00              |   ‚Äî                          |   ‚Äî                  |   rub: +86.01
|                            |                               |                              |                      |
| **Commissions and taxes:** | Broker commissions:           | Service commissions:         | Margin commissions:  | All taxes/corrections:
|                            |   rub: -69.23                 |   ‚Äî                          |   ‚Äî                  |   rub: -11.00
|                            |   usd: -0.20                  |   ‚Äî                          |   ‚Äî                  |   ‚Äî
|                            |                               |                              |                      |

## All operations

| Date and time       | FIGI         | Ticker       | Asset      | Value     | Payment         | Status     | Operation type
|---------------------|--------------|--------------|------------|-----------|-----------------|------------|--------------------------------------------------------------------
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      -11.00 rub | ‚àö Executed | Withholding personal income tax on bond coupons
| 2022-07-28 05:00:08 | TCS00A101YV8 | RU000A101YV8 | Bonds      | ‚Äî         |      +86.01 rub | ‚àö Executed | Coupons income
|                     |              |              |            |           |                 |            |
| 2022-07-27 20:30:12 | BBG000BLNNH6 | IBM          | Shares     | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 20:26:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:26:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -129.28 usd | ‚àö Executed | Buy securities
| 2022-07-27 20:25:41 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 20:25:40 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.89 usd | ‚àö Executed | Sell securities
| 2022-07-27 19:18:43 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 19:18:42 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.80 usd | ‚àö Executed | Buy securities
| 2022-07-27 19:13:29 | BBG000BLNNH6 | IBM          | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 16:00:39 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 16:00:38 | BBG000BLNNH6 | IBM          | Shares     | 1         |     +128.01 usd | ‚àö Executed | Sell securities
| 2022-07-27 15:56:46 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-27 15:56:45 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.10 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:10:38 | TCS00A101YV8 | RU000A101YV8 | Bonds      | 2         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-27 13:06:38 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | ‚Äî         |       -6.47 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:06:37 | BBG0013HRTL0 | CNYRUB_TOM   | Currencies | 241       |    -2156.28 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:05:42 | BBG222222222 | TGLD         | Etfs       | 1100      |      -78.43 usd | ‚àö Executed | Buy securities
| 2022-07-27 13:04:26 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -35.66 rub | ‚àö Executed | Operation fee deduction
| 2022-07-27 13:04:25 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 200       |   -11885.50 rub | ‚àö Executed | Buy securities
| 2022-07-27 13:03:46 | ‚Äî            | ‚Äî            | ‚Äî          | ‚Äî         |   +14000.00 rub | ‚àö Executed | Deposit on broker account
|                     |              |              |            |           |                 |            |
| 2022-07-26 14:46:08 | BBG000BLNNH6 | IBM          | Shares     | ‚Äî         |       -0.03 usd | ‚àö Executed | Operation fee deduction
| 2022-07-26 14:46:07 | BBG000BLNNH6 | IBM          | Shares     | 1         |     -128.89 usd | ‚àö Executed | Buy securities
| 2022-07-26 09:43:05 | TCS00A103X66 | POSI         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-26 09:37:47 | BBG0013HGFT4 | USD000UTSTOM | Currencies | ‚Äî         |      -24.57 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 09:37:46 | BBG0013HGFT4 | USD000UTSTOM | Currencies | 140       |    -8190.00 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:58:02 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -0.23 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:58:01 | TCS00A103X66 | POSI         | Shares     | 1         |     -906.80 rub | ‚àö Executed | Buy securities
| 2022-07-26 08:56:25 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.13 rub | ‚àö Executed | Operation fee deduction
| 2022-07-26 08:56:24 | TCS00A103X66 | POSI         | Shares     | 5         |    +4530.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-25 08:25:59 | TCS00A103X66 | POSI         | Shares     | ‚Äî         |       -1.17 rub | ‚àö Executed | Operation fee deduction
| 2022-07-25 08:25:58 | TCS00A103X66 | POSI         | Shares     | 5         |    +4676.00 rub | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-22 14:48:50 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-22 14:48:49 | BBG00JN4FXG8 | SLDB         | Shares     | 3         |       +2.14 usd | ‚àö Executed | Sell securities
|                     |              |              |            |           |                 |            |
| 2022-07-21 17:21:21 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:17:06 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:16:17 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |               ‚Äî | √ó Canceled | Sell securities
| 2022-07-21 17:11:30 | BBG00JN4FXG8 | SLDB         | Shares     | ‚Äî         |       -0.01 usd | ‚àö Executed | Operation fee deduction
| 2022-07-21 17:11:29 | BBG00JN4FXG8 | SLDB         | Shares     | 1         |       -0.74 usd | ‚àö Executed | Buy securities

TKSBrokerAPI.py     L:1978 INFO    [2022-07-28 18:29:59,045] History of a client's operations are saved to file: [deals.md]
```

</details>

#### –°–æ–≤–µ—Ä—à–∏—Ç—å —Å–¥–µ–ª–∫—É –ø–æ —Ä—ã–Ω–∫—É

–í –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--ticker` –∏–ª–∏ `--figi`, —á—Ç–æ–±—ã –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä. –î–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è —Å–¥–µ–ª–∫–∏ "–ø–æ —Ä—ã–Ω–∫—É", —Ç–æ –µ—Å—Ç—å –ø–æ —Ç–µ–∫—É—â–∏–º —Ü–µ–Ω–∞–º –≤ —Å—Ç–∞–∫–∞–Ω–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ–±—â–∏–π –∫–ª—é—á `--trade`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 1 –¥–æ 5 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

- –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `Buy`–∏–ª–∏ `Sell` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1;
  - —É—Ä–æ–≤–µ–Ω—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
  - —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è —Å–æ–≤–µ—Ä—à–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –ø–æ–∫—É–ø–∫–∏ –∏ –ø—Ä–æ–¥–∞–∂–∏ –ø–æ —Ä—ã–Ω–∫—É `--buy` –∏–ª–∏ `--sell`, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–æ 4 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1;
- —É—Ä–æ–≤–µ–Ω—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
- —É—Ä–æ–≤–µ–Ω—å —Å—Ç–æ–ø-–ª–æ—Å—Å, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–µ –±—É–¥–µ—Ç);
- –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.
 
<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å</summary>

```commandline
$ tksbrokerapi --ticker IBM --trade Buy 1 131.5 125.1 "2022-07-28 12:00:00"

TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 18:56:49,032] [Buy] market order [447445558780] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1]. Total order price: [128.1000 usd] (with commission: [0.04 usd]). Average price of lot: [128.10 usd]
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 18:56:49,389] Stop-order [182892f7-9533-4817-94d9-613545a01ee1] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [131.50 usd], limit price [131.50 usd], stop-order type [Take profit] and expiration date in UTC [2022-07-28 09:00:00]
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 18:56:49,683] Stop-order [4ca044e8-607a-4636-ad27-3a9139cc964a] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [125.10 usd], limit price [125.10 usd], stop-order type [Stop loss] and expiration date in UTC [2022-07-28 09:00:00]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Ä–∞–Ω–µ–µ –∫—É–ø–ª–µ–Ω–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ (–±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è SL/TP –æ—Ä–¥–µ—Ä–æ–≤, —Å –ø–æ–¥—Ä–æ–±–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --sell 1

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 19:00:39,673] TKSBrokerAPI module started at: [2022-07-27 16:00:39] (UTC), it is [2022-07-27 19:00:39] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 19:00:39,674] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 19:00:39,675] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 19:00:39,676] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 19:00:39,677] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 19:00:39,678] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,682] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 19:00:39,683] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 19:00:40,812] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 19:00:40,922] Opening [Sell] market order: ticker [IBM], FIGI [BBG000BLNNH6], lots [1], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 19:00:41,201] [Sell] market order [447451039340] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1]. Total order price: [128.0100 usd] (with commission: [0.04 usd]). Average price of lot: [128.01 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 19:00:41,203] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 19:00:41,204] TKSBrokerAPI module work duration: [0:00:01.530060]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 19:00:41,204] TKSBrokerAPI module finished: [2022-07-27 16:00:41] (UTC), it is [2022-07-27 19:00:41] local time
```

</details>

#### –û—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –∏–ª–∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä

–í –Ω–∞—á–∞–ª–µ —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å –∫–ª—é—á `--ticker` –∏–ª–∏ `--figi`, —á—Ç–æ–±—ã –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, –¥–ª—è –∫–æ—Ç–æ—Ä–æ–≥–æ –±—É–¥–µ—Ç –≤—ã—Å—Ç–∞–≤–ª–µ–Ω –æ—Ä–¥–µ—Ä. –ß—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –æ—Ä–¥–µ—Ä –ª—é–±–æ–≥–æ —Ç–∏–ø–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π –∫–ª—é—á `--order`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –æ—Ç 4 –¥–æ 7 –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ —Å—Ç—Ä–æ–≥–æ–º –ø–æ—Ä—è–¥–∫–µ –∏—Ö —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:

- –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: `Buy`–∏–ª–∏ `Sell` ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞: `Limit` (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏) –∏–ª–∏ `Stop` (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –æ—Ç–º–µ–Ω—ã, –ª–∏–±–æ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã) ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤: 
  - —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî –≤–º–µ—Å—Ç–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –±—É–¥–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞);
  - —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ `Limit` –∏–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `SL`, `TP`, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–ª–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä–∞;
    - —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ;
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –ª–∏–º–∏—Ç–Ω—ã—Ö –æ—Ä–¥–µ—Ä–æ–≤ (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –∫–æ–Ω—Ü–∞ —Ç–æ—Ä–≥–æ–≤–æ–π —Å–µ—Å—Å–∏–∏) `--buy-limit` –∏–ª–∏ `--sell-limit`, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
  - –¥–ª—è –æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ `--buy-limit` —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –Ω–∏–∂–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, –∞ –µ—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –≤—ã—à–µ, —Ç–æ –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –ø–æ–∫—É–ø–∫—É, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª–Ω–∏–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞ `--buy`;
  - –¥–ª—è –æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ `--sell-limit` —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, –∞ –µ—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –Ω–∏–∂–µ, —Ç–æ –±—Ä–æ–∫–µ—Ä –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ—Ç–∫—Ä–æ–µ—Ç —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –ø—Ä–æ–¥–∞–∂—É, –∫–∞–∫ –µ—Å–ª–∏ –±—ã –∏—Å–ø–æ–ª–Ω–∏–ª–∞—Å—å –∫–æ–º–∞–Ω–¥–∞ `--sell`.

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç—ã–µ –∫–ª—é—á–∏ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–æ–≤ (–¥–µ–π—Å—Ç–≤—É—é—Ç –¥–æ –æ—Ç–º–µ–Ω—ã, –ª–∏–±–æ –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∞—Ç—ã) `--buy-stop` (–Ω–∞ –ø–æ–∫—É–ø–∫—É) –∏–ª–∏ `--sell-stop` (–Ω–∞ –ø—Ä–æ–¥–∞–∂—É), –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ 2 –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ 3 –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö:

- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ—Ç–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ >= 1 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- —Ü–µ–ª–µ–≤–∞—è —Ü–µ–Ω–∞ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0 ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä;
- –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
  - —Ü–µ–Ω–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞, –¥—Ä–æ–±–Ω–æ–µ —á–∏—Å–ª–æ >= 0, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–µ—Å–ª–∏ 0 ‚Äî –≤–º–µ—Å—Ç–æ –ª–∏–º–∏—Ç–Ω–æ–≥–æ –±—É–¥–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞);
  - —Ç–∏–ø –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–≥–æ –ø–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —ç—Ç–æ —Å—Ç—Ä–æ–∫–∞ `Limit` –∏–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å `SL`, `TP`, –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å –∏–ª–∏ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –æ—Ä–¥–µ—Ä–∞;
    - —Å—Ç–æ–ø-–ª–æ—Å—Å –æ—Ä–¥–µ—Ä –≤—Å–µ–≥–¥–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ;
  - –¥–∞—Ç–∞ –æ—Ç–º–µ–Ω—ã –æ—Ä–¥–µ—Ä–æ–≤ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∏ —Å—Ç–æ–ø-–ª–æ—Å—Å, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∫–∞ `Undefined` (–≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –æ—Ä–¥–µ—Ä–∞ –±—É–¥—É—Ç –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –¥–æ –æ—Ç–º–µ–Ω—ã) –∏–ª–∏ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –¥–∞—Ç—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ `%Y-%m-%d %H:%M:%S`.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ —Ç–∏–ø–∞ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –Ω–∞ –ø—Ä–æ–¥–∞–∂—É, —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –¥–∞—Ç—ã –æ—Ç–º–µ–Ω—ã</summary>

```commandline
$ tksbrokerapi -v 10 --ticker IBM --order Sell Stop  1 130.2 130.1 TP  "2022-07-28 12:20:00"

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 22:15:20,137] TKSBrokerAPI module started at: [2022-07-27 19:15:20] (UTC), it is [2022-07-27 22:15:20] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 22:15:20,138] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 22:15:20,139] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 22:15:20,141] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 22:15:20,141] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 22:15:20,142] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:15:20,148] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 22:15:21,400] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2443 DEBUG   [2022-07-27 22:15:21,500] Creating stop-order: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [130.20 usd], limit price [130.10 usd], stop-order type [TP] and local expiration date [2022-07-28 12:20:00]. Wait, please...
TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 22:15:21,671] Stop-order [********-****-****-****-************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [1], target price [130.20 usd], limit price [130.10 usd], stop-order type [Take profit] and expiration date in UTC [2022-07-28 09:20:00]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 22:15:21,673] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 22:15:21,674] TKSBrokerAPI module work duration: [0:00:01.535746]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 22:15:21,675] TKSBrokerAPI module finished: [2022-07-27 19:15:21] (UTC), it is [2022-07-27 22:15:21] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ —Å –ø—Ä–æ–¥–∞–∂–µ–π –ø–æ —Ä—ã–Ω–æ—á–Ω–æ–π —Ü–µ–Ω–µ, –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ —Ü–µ–ª–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è</summary>

```commandline
$ tksbrokerapi -t IBM --sell-stop 2 140 0 TP

TKSBrokerAPI.py     L:2476 INFO    [2022-07-27 23:29:29,614] Stop-order [********-****-****-****-************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Sell], lots [2], target price [140.00 usd], limit price [140.00 usd], stop-order type [Take profit] and expiration date in UTC [Undefined]
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∏—è –ª–∏–º–∏—Ç–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ –Ω–∞ –ø–æ–∫—É–ø–∫—É</summary>

```commandline
$ tksbrokerapi --debug-level=10 --ticker IBM --buy-limit 1 128.8

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 22:18:41,111] TKSBrokerAPI module started at: [2022-07-27 19:18:41] (UTC), it is [2022-07-27 22:18:41] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 22:18:41,111] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 22:18:41,111] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 22:18:41,111] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 22:18:41,111] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 22:18:41,111] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,118] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,119] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 22:18:41,120] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 22:18:42,032] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2398 DEBUG   [2022-07-27 22:18:42,134] Creating pending limit-order: ticker [IBM], FIGI [BBG000BLNNH6], action [Buy], lots [1] and the target price [128.80 usd]. Wait, please...
TKSBrokerAPI.py     L:2417 INFO    [2022-07-27 22:18:42,358] Limit-order [************] was created: ticker [IBM], FIGI [BBG000BLNNH6], action [Buy], lots [1], target price [128.80 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 22:18:42,359] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 22:18:42,359] TKSBrokerAPI module work duration: [0:00:01.248221]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 22:18:42,359] TKSBrokerAPI module finished: [2022-07-27 19:18:42] (UTC), it is [2022-07-27 22:18:42] local time
```

</details>

#### –û—Ç–º–µ–Ω–∏—Ç—å –æ—Ä–¥–µ—Ä–∞ –∏ –∑–∞–∫—Ä—ã—Ç—å –ø–æ–∑–∏—Ü–∏–∏

–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤ –∏ —Ç–∏–∫–µ—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –ø–æ –∫–æ—Ç–æ—Ä—ã–º –æ—Ç–∫—Ä—ã—Ç—ã –ø–æ–∑–∏—Ü–∏–∏, –º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å –≤ –ø–æ—Ä—Ç—Ñ–µ–ª–µ –∫–ª–∏–µ–Ω—Ç–∞, –∑–∞–ø—É—Å—Ç–∏–≤ –∫–æ–º–∞–Ω–¥—É `tksbrokerapi --overview`. –û–Ω–∏ –±—É–¥—É—Ç –Ω—É–∂–Ω—ã –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∏–∂–µ.

–î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ–¥–Ω–æ–≥–æ –æ—Ä–¥–µ—Ä–∞ –ª—é–±–æ–≥–æ —Ç–∏–ø–∞ –ø–æ –µ–≥–æ ID –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--close-order` (`--cancel-order`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —É–∫–∞–∑–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ä–¥–µ—Ä–∞. –î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –æ—Ä–¥–µ—Ä–æ–≤ –ø–æ —Å–ø–∏—Å–∫—É, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–ª—é—á `--close-orders` (`--cancel-orders`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –≤—Å–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –æ—Ä–¥–µ—Ä–æ–≤.

–î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è —Ä–∞–Ω–µ–µ –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏ (–∫–∞–∫ –≤ "–ª–æ–Ω–≥", —Ç–∞–∫ –∏ –≤ "—à–æ—Ä—Ç") –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–ª—é—á `--close-trade` (`--cancel-trade`), –ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä—ã–º —Å–ª–µ–¥—É–µ—Ç —É–∫–∞–∑–∞—Ç—å —Ç–∏–∫–µ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –∫–ª—é—á–æ–º `--ticker`. –ü–æ —Ñ–∞–∫—Ç—É –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Ä—ã–Ω–æ—á–Ω—ã–π –æ—Ä–¥–µ—Ä —Å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º, –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–º –æ—Ç–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏. –î–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π –∫–ª—é—á `--close-trades` (`--cancel-trades`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Ç–∏–∫–µ—Ä—ã (–∫–ª—é—á `--ticker` —É–∂–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è).

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ –æ–±—â–∏–π –∫–ª—é—á `--close-all` (`--cancel-all`). –ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, —Ç–æ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –æ—Ä–¥–µ—Ä–æ–≤, –∫—Ä–æ–º–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤. –°–Ω–∞—á–∞–ª–∞ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã –≤—Å–µ –æ—Ä–¥–µ—Ä–∞, –∏–Ω–∞—á–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–∏–º–∏—Ç–Ω—ã–µ –æ—Ä–¥–µ—Ä–∞ –º–æ–≥—É—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫—Ä—ã—Ç–∏–µ —á–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤ —É –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤. –ó–∞—Ç–µ–º –ø–æ-–ø–æ—Ä—è–¥–∫—É –±—É–¥—É—Ç –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤—Å–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º: –∞–∫—Ü–∏—è–º, –æ–±–ª–∏–≥–∞—Ü–∏—è–º, —Ñ–æ–Ω–¥–∞–º –∏ —Ñ—å—é—á–µ—Ä—Å–∞–º. –≠—Ç–æ—Ç –∫–ª—é—á –±–æ–ª–µ–µ —É–¥–æ–±–µ–Ω, –∫–æ–≥–¥–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏, —á–µ–º –≤—ã–ø–æ–ª–Ω—è—Ç—å —ç—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ –æ—á–µ—Ä–µ–¥–∏.

‚ùó –í–∞–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ TKSBrokerAPI –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º –Ω–µ –±—É–¥—É—Ç –∑–∞–∫—Ä—ã—Ç—ã —Å –∫–ª—é—á–æ–º `--close-all` (`--cancel-all`). –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –±–∞–∑–æ–≤—ã–µ –≤–∞–ª—é—Ç—ã. –ö—Ä–æ–º–µ —Ç–æ–≥–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–µ —Ö–æ—Ç–µ—Ç—å —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è —Å–≤–æ–∏—Ö –≤–∞–ª—é—Ç–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —á—Ç–æ–±—ã –ø–æ–∫—É–ø–∞—Ç—å –Ω–∞ —ç—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –¥—Ä—É–≥–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ –±—É–¥—É—â–µ–º. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º –º–æ–∂–Ω–æ –∑–∞–∫—Ä—ã—Ç—å –≤—Ä—É—á–Ω—É—é, –∏—Å–ø–æ–ª—å–∑—É—è –∫–ª—é—á–∏ `--buy`, `--sell`, `--close-trade` –∏–ª–∏ `--close-trades`.

–î–ª—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–π, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–ª—é—á `--close-all` (`--cancel-all`), –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –æ–¥–∏–Ω –∏–ª–∏ –±–æ–ª–µ–µ —Ç–∏–ø–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö –ø—Ä–æ–±–µ–ª–∞–º–∏:
- `orders` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –æ—Ä–¥–µ—Ä–∞ (–∏ –ª–∏–º–∏—Ç–Ω—ã–µ, –∏ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞),
- `shares` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –∞–∫—Ü–∏—è–º,
- `bonds` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –æ–±–ª–∏–≥–∞—Ü–∏—è–º,
- `etfs` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥–∞–º,
- `futures` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ—å—é—á–µ—Ä—Å–∞–º,
- –Ω–æ, –Ω–µ–ª—å–∑—è —É–∫–∞–∑—ã–≤–∞—Ç—å `currencies` ‚Äî –∑–∞–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏ –ø–æ –≤–∞–ª—é—Ç–∞–º, –∏–∑-–∑–∞ –ø—Ä–∏—á–∏–Ω, –æ–ø–∏—Å–∞–Ω–Ω—ã—Ö –≤—ã—à–µ.

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–º–µ–Ω—ã –æ–¥–Ω–æ–≥–æ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä–∞ –ø–æ –µ–≥–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É</summary>

```commandline
$ tksbrokerapi -v 10 --cancel-order ********-****-****-****-************

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:16:55,978] TKSBrokerAPI module started at: [2022-07-27 20:16:55] (UTC), it is [2022-07-27 23:16:55] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:16:55,979] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:16:55,980] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:16:55,981] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:16:55,982] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:16:55,983] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:16:55,989] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:16:56,959] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:16:57,077] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:16:57,078] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:16:57,187] [6] records about stop orders successfully received
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:16:57,188] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:16:57,317] Success time marker received from server: [2022-07-27T20:16:57.288786707Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:16:57,318] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:16:57,319] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:16:57,319] TKSBrokerAPI module work duration: [0:00:01.340621]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:16:57,320] TKSBrokerAPI module finished: [2022-07-27 20:16:57] (UTC), it is [2022-07-27 23:16:57] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–æ —Ñ–æ–Ω–¥—É (–ø—Ä–∏–º–µ—Ä –Ω–µ—É–¥–∞—á–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏, —Ç–∞–∫ –∫–∞–∫ —Ä—ã–Ω–æ–∫ —É–∂–µ –∑–∞–∫—Ä—ã—Ç)</summary>

```commandline
$ tksbrokerapi -v 10 --ticker TGLD --close-trade

TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:20:32,745] TKSBrokerAPI module started at: [2022-07-27 20:20:32] (UTC), it is [2022-07-27 23:20:32] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:20:32,746] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:20:32,746] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:20:32,746] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:20:32,747] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:20:32,747] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,751] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,751] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:20:32,752] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1035 DEBUG   [2022-07-27 23:20:34,316] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1041 DEBUG   [2022-07-27 23:20:34,468] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1052 DEBUG   [2022-07-27 23:20:34,469] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1058 DEBUG   [2022-07-27 23:20:34,582] Records about current open positions successfully received
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:20:34,583] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:20:34,682] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:20:34,683] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:20:34,793] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,805] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,907] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:34,993] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,077] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,192] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2264 DEBUG   [2022-07-27 23:20:35,285] All opened instruments by it's tickers names: ['EUR_RUB__TOM', 'CNYRUB_TOM', 'CHFRUB_TOM', 'GBPRUB_TOM', 'TRYRUB_TOM', 'USD000UTSTOM', 'HKDRUB_TOM', 'POSI', 'IBM', 'RU000A101YV8', 'TGLD']
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:20:35,286] Closing trade of instrument: ticker [TGLD], FIGI[BBG222222222], lots [2700]. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:20:35,286] Requesting current prices for instrument with ticker [TGLD] and FIGI [BBG222222222]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:20:35,386] Opening [Sell] market order: ticker [TGLD], FIGI [BBG222222222], lots [27.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please... TKSBrokerAPI.py     L:358  DEBUG   [2022-07-27 23:20:35,485]     - not oK status code received: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:368  ERROR   [2022-07-27 23:20:35,486] Not `oK` status received from broker server!
TKSBrokerAPI.py     L:369  ERROR   [2022-07-27 23:20:35,486]     - message: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:2206 WARNING [2022-07-27 23:20:35,487] Not `oK` status received! Market order not created. See full debug log or try again and open order later.
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:20:35,488] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:20:35,488] TKSBrokerAPI module work duration: [0:00:02.742544]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:20:35,488] TKSBrokerAPI module finished: [2022-07-27 20:20:35] (UTC), it is [2022-07-27 23:20:35] local time
```

</details>

<details>
  <summary>–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è –æ—Ç–º–µ–Ω—ã –≤—Å–µ—Ö –æ—Ä–¥–µ—Ä–æ–≤ –∏ –∑–∞–∫—Ä—ã—Ç–∏—è –ø–æ–∑–∏—Ü–∏–π –ø–æ –Ω–µ–∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∞–∫—Ü–∏—è–º</summary>

```commandline
$ tksbrokerapi --debug-level=10 --close-all orders shares
TKSBrokerAPI.py     L:2804 DEBUG   [2022-07-27 23:25:36,481] TKSBrokerAPI module started at: [2022-07-27 20:25:36] (UTC), it is [2022-07-27 23:25:36] local time
TKSBrokerAPI.py     L:198  DEBUG   [2022-07-27 23:25:36,482] Bearer token for Tinkoff OpenApi set up from environment variable `TKS_API_TOKEN`. See https://tinkoff.github.io/investAPI/token/
TKSBrokerAPI.py     L:210  DEBUG   [2022-07-27 23:25:36,483] String with user's numeric account ID in Tinkoff Broker set up from environment variable `TKS_ACCOUNT_ID`
TKSBrokerAPI.py     L:240  DEBUG   [2022-07-27 23:25:36,484] Broker API server: https://invest-public-api.tinkoff.ru/rest
TKSBrokerAPI.py     L:411  DEBUG   [2022-07-27 23:25:36,485] Requesting all available instruments from broker for current user token. Wait, please...
TKSBrokerAPI.py     L:412  DEBUG   [2022-07-27 23:25:36,485] CPU usages for parallel requests: [7]
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Currencies] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Shares] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Bonds] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Etfs] list. Wait, please...
TKSBrokerAPI.py     L:389  DEBUG   [2022-07-27 23:25:36,492] Requesting available [Futures] list. Wait, please...
TKSBrokerAPI.py     L:1035 DEBUG   [2022-07-27 23:25:37,568] Requesting current actual user's portfolio. Wait, please...
TKSBrokerAPI.py     L:1041 DEBUG   [2022-07-27 23:25:37,742] Records about user's portfolio successfully received
TKSBrokerAPI.py     L:1052 DEBUG   [2022-07-27 23:25:37,743] Requesting current open positions in currencies and instruments. Wait, please...
TKSBrokerAPI.py     L:1058 DEBUG   [2022-07-27 23:25:37,831] Records about current open positions successfully received
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:25:37,832] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:25:37,934] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:25:37,934] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:25:38,049] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:38,058] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:38,165] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:2663 DEBUG   [2022-07-27 23:25:38,534] Closing all available ['orders', 'shares']. Currency positions you must closes manually using buy or sell operations! Wait, please...
TKSBrokerAPI.py     L:1069 DEBUG   [2022-07-27 23:25:38,535] Requesting current actual pending orders. Wait, please...
TKSBrokerAPI.py     L:1075 DEBUG   [2022-07-27 23:25:38,639] [1] records about pending orders successfully received
TKSBrokerAPI.py     L:1086 DEBUG   [2022-07-27 23:25:38,639] Requesting current actual stop orders. Wait, please...
TKSBrokerAPI.py     L:1092 DEBUG   [2022-07-27 23:25:38,774] [5] records about stop orders successfully received
TKSBrokerAPI.py     L:2636 INFO    [2022-07-27 23:25:38,775] Found: [1] opened pending and [5] stop orders. Let's trying to cancel it all. Wait, please...
TKSBrokerAPI.py     L:2591 DEBUG   [2022-07-27 23:25:38,776] Cancelling pending order with ID: [************]. Wait, please...
TKSBrokerAPI.py     L:2599 DEBUG   [2022-07-27 23:25:38,939] Success time marker received from server: [2022-07-27T20:25:38.908221Z] (UTC)
TKSBrokerAPI.py     L:2600 INFO    [2022-07-27 23:25:38,940] Pending order with ID [************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:38,941] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,201] Success time marker received from server: [2022-07-27T20:25:39.171270508Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,202] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,202] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,336] Success time marker received from server: [2022-07-27T20:25:39.306369844Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,337] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,337] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,438] Success time marker received from server: [2022-07-27T20:25:39.410229318Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,439] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,439] Cancelling stop order with ID: [********-****-****-****-************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,565] Success time marker received from server: [2022-07-27T20:25:39.534114123Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,566] Stop order with ID [********-****-****-****-************] successfully cancel
TKSBrokerAPI.py     L:2606 DEBUG   [2022-07-27 23:25:39,567] Cancelling stop order with ID: [************]. Wait, please...
TKSBrokerAPI.py     L:2614 DEBUG   [2022-07-27 23:25:39,745] Success time marker received from server: [2022-07-27T20:25:39.714517992Z] (UTC)
TKSBrokerAPI.py     L:2615 INFO    [2022-07-27 23:25:39,746] Stop order with ID [************] successfully cancel
TKSBrokerAPI.py     L:2325 DEBUG   [2022-07-27 23:25:39,747] Instrument tickers with type [Shares] that will be closed: ['POSI', 'IBM']
TKSBrokerAPI.py     L:2264 DEBUG   [2022-07-27 23:25:39,747] All opened instruments by it's tickers names: ['EUR_RUB__TOM', 'CNYRUB_TOM', 'CHFRUB_TOM', 'GBPRUB_TOM', 'TRYRUB_TOM', 'USD000UTSTOM', 'HKDRUB_TOM', 'POSI', 'IBM', 'RU000A101YV8', 'TGLD']
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:25:39,748] Closing trade of instrument: ticker [POSI], FIGI[TCS00A103X66], lots [1]. Wait, please...
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:39,749] Requesting current prices for instrument with ticker [POSI] and FIGI [TCS00A103X66]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:25:39,855] Opening [Sell] market order: ticker [POSI], FIGI [TCS00A103X66], lots [1.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:358  DEBUG   [2022-07-27 23:25:39,947]     - not oK status code received: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:368  ERROR   [2022-07-27 23:25:39,948] Not `oK` status received from broker server!
TKSBrokerAPI.py     L:369  ERROR   [2022-07-27 23:25:39,948]     - message: [400] {"code":3,"message":"instrument is not available for trading","description":"30079"}
TKSBrokerAPI.py     L:2206 WARNING [2022-07-27 23:25:39,949] Not `oK` status received! Market order not created. See full debug log or try again and open order later.
TKSBrokerAPI.py     L:2290 DEBUG   [2022-07-27 23:25:39,949] Closing trade of instrument: ticker [IBM], FIGI[BBG000BLNNH6], lots [2], blocked [1]. Wait, please...
TKSBrokerAPI.py     L:2300 WARNING [2022-07-27 23:25:39,950] Just for your information: there are [1] lots blocked for instrument [IBM]! Available only [1.0] lots to closing trade.
TKSBrokerAPI.py     L:798  DEBUG   [2022-07-27 23:25:39,950] Requesting current prices for instrument with ticker [IBM] and FIGI [BBG000BLNNH6]...
TKSBrokerAPI.py     L:2184 DEBUG   [2022-07-27 23:25:40,042] Opening [Sell] market order: ticker [IBM], FIGI [BBG000BLNNH6], lots [1.0], TP [0.0000], SL [0.0000], expiration date of TP/SL orders [Undefined]. Wait, please...
TKSBrokerAPI.py     L:2202 INFO    [2022-07-27 23:25:40,685] [Sell] market order [447747151970] was executed: ticker [IBM], FIGI [BBG000BLNNH6], lots [1.0]. Total order price: [128.8900 usd] (with commission: [0.04 usd]). Average price of lot: [128.89 usd]
TKSBrokerAPI.py     L:3034 DEBUG   [2022-07-27 23:25:40,686] All operations with Tinkoff Server using Open API are finished success (summary code is 0).
TKSBrokerAPI.py     L:3039 DEBUG   [2022-07-27 23:25:40,686] TKSBrokerAPI module work duration: [0:00:04.204806]
TKSBrokerAPI.py     L:3042 DEBUG   [2022-07-27 23:25:40,687] TKSBrokerAPI module finished: [2022-07-27 20:25:40] (UTC), it is [2022-07-27 23:25:40] local time
```

</details>

### –ö–∞–∫ python API —á–µ—Ä–µ–∑ –∏–º–ø–æ—Ä—Ç –º–æ–¥—É–ª—è TKSBrokerAPI

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –≤—Å–µ–º –¥–æ—Å—Ç—É–ø–Ω—ã–º —Å–≤–æ–π—Å—Ç–≤–∞–º –∏ –º–µ—Ç–æ–¥–∞–º –∫–ª–∞—Å—Å–∞ `TKSBrokerAPI.TinkoffBrokerServer()` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è [–ø–æ —Å—Å—ã–ª–∫–µ](https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html). –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–π –∏ –º–µ—Ç–æ–¥–æ–≤ —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ —Ä–∞–∑–¥–µ–ª–µ ["–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏"](#–û—Å–Ω–æ–≤–Ω—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏).

–° –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è TKSBrokerAPI –≤—ã –º–æ–∂–µ—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ —è–∑—ã–∫–µ Python –ª—é–±–æ–π —Ç–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π. –ß—Ç–æ–±—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–æ—Å—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã –ø—Ä–∏–Ω—è—Ç–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ä–µ—à–µ–Ω–∏–π –æ –ø–æ–∫—É–ø–∫–µ –∏–ª–∏ –ø—Ä–æ–¥–∞–∂–µ (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑, –Ω–µ–π—Ä–æ—Å–µ—Ç–∏, –ø–∞—Ä—Å–∏–Ω–≥ –æ—Ç—á—ë—Ç–æ–≤ –∏–ª–∏ —Å–ª–µ–∂–µ–Ω–∏–µ –∑–∞ —Å–¥–µ–ª–∫–∞–º–∏ –¥—Ä—É–≥–∏—Ö —Ç—Ä–µ–π–¥–µ—Ä–æ–≤), –≤—Å—ë —Ä–∞–≤–Ω–æ –≤–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–æ—Ä–≥–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏: –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ä–¥–µ—Ä–∞, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å —Å–¥–µ–ª–∫–∏. –ú–æ–¥—É–ª—å `TKSBrokerAPI` –±—É–¥–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –∫–∞–∫ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫ –º–µ–∂–¥—É –∫–æ–¥–æ–º —Å –ª–æ–≥–∏–∫–æ–π —Ç–æ—Ä–≥–æ–≤ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –±—Ä–æ–∫–µ—Ä–∞ –¢–∏–Ω—å–∫–æ—Ñ—Ñ –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä—É—Ç–∏–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –æ—Ç –≤–∞—à–µ–≥–æ –∏–º–µ–Ω–∏ –≤ [–±—Ä–æ–∫–µ—Ä—Å–∫–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ](http://tinkoff.ru/sl/AaX1Et1omnH).

‚ùó **–í–∞–∂–Ω–æ–µ –∑–∞–º–µ—á–∞–Ω–∏–µ**: –º–æ–¥—É–ª—å TKSBrokerAPI –Ω–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω–æ–π (HFT) —Ç–æ—Ä–≥–æ–≤–ª–∏, –∏–∑-–∑–∞ —Å–∏—Å—Ç–µ–º—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π TINKOFF INVEST API (–ø–æ–¥—Ä–æ–±–Ω–µ–µ [–ø–æ —Å—Å—ã–ª–∫–µ](https://tinkoff.github.io/investAPI/limits/)). –í —Å—Ä–µ–¥–Ω–µ–º, —ç—Ç–æ 50-300 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É, –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∏—Ö —Ç–∏–ø–∞, —á—Ç–æ –æ—á–µ–Ω—å –º–∞–ª–æ –¥–ª—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ —Å–∫–æ—Ä–æ—Å—Ç—è–º HFT (–µ—Å—Ç—å [–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π](https://tinkoff.github.io/investAPI/speedup/) –ø–æ —É—Å–∫–æ—Ä–µ–Ω–∏—é –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Ä—É—á–µ–Ω–∏–π). –û–¥–Ω–∞–∫–æ –≤—ã –≤–ø–æ–ª–Ω–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Å–≤–æ–∏—Ö –∏–Ω—Ç—Ä–∞–¥–µ–π, –∫—Ä–∞—Ç–∫–æ-, —Å—Ä–µ–¥–Ω–µ- –∏ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.

#### –ü—Ä–∏–º–µ—Ä —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

–í –¥–∞–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –Ω–µ —Ö–æ—á–µ—Ç—Å—è –∞–∫—Ü–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö, –∞ —Ç–æ–ª—å–∫–æ –ª–∏—à—å —É–∫–∞–∑–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∏—Ö –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏. –ü–æ—ç—Ç–æ–º—É, –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –æ–¥–∏–Ω –ø—Ä–æ—Å—Ç–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ –æ–±—ä—ë–º–æ–≤ —Ç–µ–∫—É—â–∏—Ö –ø–æ–∫—É–ø–æ–∫ –∏ –ø—Ä–æ–¥–∞–∂, –∏ —Ä–µ–∞–ª–∏–∑—É–µ–º –µ–≥–æ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –º–æ–¥—É–ª—è TKSBrokerAPI, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞. –î–µ–π—Å—Ç–≤–∏—è –±—É–¥—É—Ç —Å–ª–µ–¥—É—é—â–∏–µ:

- –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—É—â–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—å –∫–ª–∏–µ–Ω—Ç–∞ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å—Ä–µ–¥—Å—Ç–≤;
- –∑–∞–ø—Ä–æ—Å–∏—Ç—å —Å—Ç–∞–∫–∞–Ω —Ü–µ–Ω —Å –≥–ª—É–±–∏–Ω–æ–π 20 –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–∫—Ü–∏–∏ —Å —Ç–∏–∫–µ—Ä–∞–º–∏ `YNDX`, `IBM` and `GOOGLE`;
- –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–Ω–µ–µ –µ—â—ë –Ω–µ –±—ã–ª –∫—É–ø–ª–µ–Ω, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
  - –µ—Å–ª–∏ —Ä–µ–∑–µ—Ä–≤ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤ (—Å–≤–æ–±–æ–¥–Ω—ã–π –∫–µ—à) –≤ –≤–∞–ª—é—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –±–æ–ª—å—à–µ, —á–µ–º 5% –æ—Ç –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –≤—Å–µ—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –≤ —ç—Ç–æ–π –≤–∞–ª—é—Ç–µ, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
    - –µ—Å–ª–∏ –≤ —Å—Ç–∞–∫–∞–Ω–µ –æ–±—ä—ë–º—ã –Ω–∞ –ø–æ–∫—É–ø–∫—É –±–æ–ª—å—à–µ –æ–±—ä—ë–º–æ–≤ –Ω–∞ –ø—Ä–æ–¥–∞–∂—É –º–∏–Ω–∏–º—É–º –Ω–∞ 10%, —Ç–æ –∫—É–ø–∏—Ç—å 1 –∞–∫—Ü–∏—é –ø–æ —Ä—ã–Ω–∫—É –∏ –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç –∫–∞–∫ —Å—Ç–æ–ø-–æ—Ä–¥–µ—Ä –Ω–∞ 3% –≤—ã—à–µ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã –ø–æ–∫—É–ø–∫–∏ —Å–æ —Å—Ä–æ–∫–æ–º –¥–µ–π—Å—Ç–≤–∏—è 1 —á–∞—Å;
- –µ—Å–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏–º–µ–µ—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π, —Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
   - –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ —É–∂–µ –≤—ã—à–µ —Å—Ä–µ–¥–Ω–µ–π —Ü–µ–Ω—ã –ø–æ–∑–∏—Ü–∏–∏ —Ö–æ—Ç—è –±—ã –Ω–∞ 2.5%, —Ç–æ –≤—ã—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–π –ª–∏–º–∏—Ç–Ω—ã–π –æ—Ä–¥–µ—Ä –Ω–∞ –≤–µ—Å—å –æ–±—ä—ë–º, –Ω–æ –µ—â—ë —á—É—Ç—å-—á—É—Ç—å –≤—ã—à–µ (–Ω–∞ 0.1%) –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã, —á—Ç–æ–±—ã –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å —Å –ø—Ä–æ—Ñ–∏—Ç–æ–º —Å –±–æ–ª—å—à–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é –≤ —Ç–µ—á–µ–Ω–∏–∏ —Ç–µ–∫—É—â–µ–π —Å–µ—Å—Å–∏–∏.
- –ø–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–ø–µ—á–∞—Ç–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ—Ä—Ç—Ñ–µ–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–î–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –ø—Ä–∏–º–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ø–æ–¥ —Å–ø–æ–π–ª–µ—Ä–æ–º –Ω–∏–∂–µ. –ù–µ –∑–∞–±—É–¥—å—Ç–µ –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –ø–æ–ª—É—á–∏—Ç—å token –∏ —É–∑–Ω–∞—Ç—å —Å–≤–æ–π accountId (—Å–º. —Ä–∞–∑–¥–µ–ª ["–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è"](#–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)).

<details>
  <summary>–¢–æ—Ä–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞ python —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥—É–ª—è TKSBrokerAPI</summary>

–°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–æ–∂–Ω–æ –∑–¥–µ—Å—å: [./docs/examples/scenario1.py](./docs/examples/scenario1.py)

```python
# -*- coding: utf-8 -*-
# Author: Timur Gilmullin

"""
This is simple trade scenario using TKSBrokerAPI module, without using additional technical analysis.
See: https://github.com/Tim55667757/TKSBrokerAPI/blob/master/README_EN.md#Abstract-scenario-implementation-example

The actions will be the following:

- request the client's current portfolio and determining funds available for trading;
- request for a Depth of Market with a depth of 20 for the selected instruments, e.g. shares with the tickers
  `YNDX`, `IBM` and `GOOGLE`;
- if the instrument was not purchased earlier, then checking:
  - if the reserve of funds (free cash) in the currency of the instrument more than 5% of the total value
    of all instruments in this currency, then check:
    - if the buyers volumes in the DOM are at least 10% higher than the sellers volumes, then buy 1 share on the market
      and place the take profit as a stop order 3% higher than the current buy price with expire in 1 hour;
- if the instrument is in the list of open positions, then checking:
   - if the current price is 2.5% already higher than the average position price, then place pending limit order
     with all volumes 0.1% higher than the current price so that the position is closed with a profit with a high
     probability during the current session.
- request the current user's portfolio after all trades and show changes.

To understand the example, just save and run this script. Before doing this, don't forget to get a token and find out
your accountId and set up their as environment variables (see the section "Auth" in README_EN.md).
"""

# Copyright (c) 2022 Gilmillin Timur Mansurovich
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.


# --- Import, constants and variables initialization section -----------------------------------------------------------

from datetime import datetime, timedelta
from dateutil.tz import tzlocal, tzutc
from math import ceil
from tksbrokerapi.TKSBrokerAPI import TinkoffBrokerServer, uLogger  # main module for trading operations

uLogger.level = 10  # DEBUG (10) log level recommended by default for file `TKSBrokerAPI.log
uLogger.handlers[0].level = 20  # log level for STDOUT, INFO (20) recommended by default

start = datetime.now(tzutc())

uLogger.debug("=--=" * 20)
uLogger.debug("Trading scenario started at: [{}] (UTC), it is [{}] local time".format(
    start.strftime("%Y-%m-%d %H:%M:%S"),
    start.astimezone(tzlocal()).strftime("%Y-%m-%d %H:%M:%S"),
))

# Set here any constants you need for trading:
TICKERS_LIST_FOR_TRADING = ["YNDX", "IBM", "GOOGL"]  # You can define the list of instruments in any way: by enumeration directly or as a result of a filtering function according to some analytic algorithm
RESERVED_MONEY = 0.05  # We reserve some money when open positions, 5% by default
LOTS = 1  # Minimum lots to buy or sell
TP_STOP_DIFF = 0.03  # 3% TP by default for stop-orders
TP_LIMIT_DIFF = 0.025  # 2.5% TP by default for pending limit-orders
TOLERANCE = 0.001  # Tolerance for price deviation around target orders prices, 0.1% by default
DEPTH_OF_MARKET = 20  # How deep to request a list of current prices for an instruments to analyze volumes, >= 1
VOLUME_DIFF = 0.1  # Enough volumes difference to open position, 10% by default

# Main trader object init, TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.__init__
trader = TinkoffBrokerServer(
    token="",  # Attention! Set your token here or use environment variable `TKS_API_TOKEN`
    accountId="",  # Attention! Set your accountId here or use environment variable `TKS_ACCOUNT_ID`
    iList=None,  # Do not use previous saved dictionaries with instruments from broker server
    useCache=True,  # Use auto-updated local cache from `dump.json`
)


# --- Trading scenario section -----------------------------------------------------------------------------------------

for ticker in TICKERS_LIST_FOR_TRADING:
    uLogger.info("--- Ticker [{}], data analysis...".format(ticker))

    # - Step 1: request the client's current portfolio and determining funds available for trading

    # User's portfolio is a dictionary with some sections: {"raw": {...}, "stat": {...}, "analytics": {...}}
    portfolio = trader.Overview(showStatistics=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview

    uLogger.info("Total portfolio cost: {:.2f} rub; blocked: {:.2f} rub; changes: {}{:.2f} rub ({}{:.2f}%)".format(
        portfolio["stat"]["portfolioCostRUB"],
        portfolio["stat"]["blockedRUB"],
        "+" if portfolio["stat"]["totalChangesRUB"] >= 0 else "-", portfolio["stat"]["totalChangesRUB"],
        "+" if portfolio["stat"]["totalChangesPercentRUB"] >= 0 else "-", portfolio["stat"]["totalChangesPercentRUB"],
    ))

    # How much money in different currencies do we have (total - blocked)?
    funds = portfolio["stat"]["funds"]  # dict, e.g. {"rub": {"total": 10000.99, "totalCostRUB": 10000.99, "free": 1234.56, "freeCostRUB": 1234.56}, "usd": {"total": 250.55, "totalCostRUB": 15375.80, "free": 125.05, "freeCostRUB": 7687.50}, ...}

    uLogger.info("Available funds free for trading: {}".format("; ".join(["{:.2f} {}".format(funds[currency]["free"], currency) for currency in funds.keys()])))

    # - Step 2: request a Depth of Market for the selected instruments

    trader.ticker = ticker
    trader.figi = ""  # We don't know FIGI for every ticker, so empty string means to determine it automatically
    trader.depth = DEPTH_OF_MARKET

    # Getting broker's prices on that instrument:
    ordersBook = trader.GetCurrentPrices(showPrice=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetCurrentPrices

    if not (ordersBook["buy"] and ordersBook["sell"]):
        uLogger.warning("Not possible to trade an instrument with the ticker [{}]! Try again later.".format(trader.ticker))

    else:

        # - Step 3: if the instrument was not purchased earlier, then checking:
        #   - if the reserve of funds (free cash) in the currency of the instrument more than 5% of the total value
        #     of all instruments in this currency, then check:
        #     - if the buyers volumes in the DOM are at least 10% higher than the sellers volumes, then buy 1 share on the market
        #       and place the take profit as a stop order 3% higher than the current buy price with expire in 1 hour;

        # Checks if instrument is in portfolio:
        isInPortfolio = trader.IsInPortfolio(portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.IsInPortfolio

        if not isInPortfolio:
            uLogger.info("Ticker [{}]: no open positions with that instrument, checking opens rules...".format(trader.ticker))

            # Getting instrument's data and it currency:
            rawIData = trader.SearchByTicker(requestPrice=False, showInfo=False, debug=False)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SearchByTicker
            iCurr = rawIData["currency"]  # currency of current instrument

            # Getting distribution by currencies, cost of previously purchased assets and free money in that currency:
            distrByCurr = portfolio["analytics"]["distrByCurrencies"]  # asset distribution by currencies, cost in rub
            assetsCostInRuble = distrByCurr[iCurr]["cost"]  # cost of all assets in that currency recalc in rub
            currencyFreeCostInRuble = funds[iCurr]["freeCostRUB"]  # free money in that currency recalc in rub

            # Checking reserve and volumes diff before buy:
            if currencyFreeCostInRuble / assetsCostInRuble >= RESERVED_MONEY:
                sumSellers = sum([x["quantity"] for x in ordersBook["buy"]])  # current sellers volumes in the DOM
                sumBuyers = sum([x["quantity"] for x in ordersBook["sell"]])  # current buyers volumes in the DOM

                if sumBuyers >= sumSellers * (1 + VOLUME_DIFF):
                    # Getting current price, then calculating take profit price and validity for stop-order:
                    currentPriceToBuy = ordersBook["buy"][0]["price"]  # 1st price in the list of sellers orders is the actual price that you can buy
                    target = currentPriceToBuy * (1 + TP_STOP_DIFF)  # take profit price target
                    targetStop = ceil(target / rawIData["step"]) * rawIData["step"]  # real target for placing stop-order
                    aliveTo = (datetime.now(tzutc()) + timedelta(hours=1)).strftime("%Y-%m-%d %H:%M:%S")  # current time + 1 hour

                    uLogger.info("Opening BUY position... (Buyers volumes [{}] >= {} * sellers volumes [{}] and current price to buy: [{:.2f} {}])".format(
                        sumBuyers, 1 + VOLUME_DIFF, sumSellers, currentPriceToBuy, iCurr,
                    ))

                    # Opening BUY market position and creating take profit stop-order:
                    trader.Buy(lots=LOTS, tp=targetStop, sl=0, expDate=aliveTo)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Buy

                else:
                    uLogger.info("BUY position not opened, because buyers volumes [{}] < {} * sellers volumes [{}]".format(sumBuyers, 1 + VOLUME_DIFF, sumSellers))

            else:
                uLogger.info("BUY position not opened, because the reserves in [{}] will be less than {:.2f}% of free funds".format(iCurr, RESERVED_MONEY * 100))

        else:

            # - Step 4: if the instrument is in the list of open positions, then checking:
            #   - if the current price is 2.5% already higher than the average position price, then place pending
            #     limit order with all volumes 0.1% higher than the current price so that the position is closed
            #     with a profit with a high probability during the current session.

            uLogger.info("Ticker [{}]: there is an open position with that instrument, checking closure rules...".format(trader.ticker))

            # Getting instrument from list of instruments in user portfolio:
            iData = trader.GetInstrumentFromPortfolio(portfolio)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.GetInstrumentFromPortfolio

            # Calculating available lots for sell, average price and current price of instrument:
            lotsToSell = iData["volume"] - iData["blocked"]  # not blocked lots of current instrument, available for trading
            averagePrice = iData["average"]  # average price by all lots
            curPriceToSell = ordersBook["sell"][0]["price"]  # 1st price in the list of buyers orders is the actual price that you can sell

            # Calculating price to close position without waiting for the take profit:
            target = curPriceToSell * (1 + TOLERANCE)  # enough price target to sell
            targetLimit = ceil(target / iData["step"]) * iData["step"]  # real target for placing pending limit order

            # Checking for a sufficient price difference:
            if (curPriceToSell - averagePrice) / averagePrice >= TP_LIMIT_DIFF:
                uLogger.info("The current price is [{:.2f} {}] and enough price target is [{:.2f} {}], so profit more than target +{:.2f}%. Opening SELL pending limit order...".format(
                    curPriceToSell, iData["currency"],
                    targetLimit, iData["currency"],
                    TP_LIMIT_DIFF * 100,
                ))

                # Opening SELL pending limit order:
                trader.SellLimit(lots=lotsToSell, targetPrice=targetLimit)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.SellLimit

            else:
                uLogger.info("The price did not reach enough price target [{} {}]. Current price is [{:.2f} {}], so profit less than target +{:.2f}%.".format(
                    targetLimit, iData["currency"],
                    curPriceToSell, iData["currency"],
                    TP_LIMIT_DIFF * 100,
                ))

# - Step 5: request the current user's portfolio after all trades and show changes

uLogger.info("--- All trade operations finished. Let's show what we got in the user's portfolio after all trades.")

# Showing detailed user portfolio information:
trader.Overview(showStatistics=True)  # TKSBrokerAPI: https://tim55667757.github.io/TKSBrokerAPI/docs/tksbrokerapi/TKSBrokerAPI.html#TinkoffBrokerServer.Overview


# --- Operations finalization section ----------------------------------------------------------------------------------

finish = datetime.now(tzutc())
uLogger.debug("Trading scenario work duration: [{}]".format(finish - start))
uLogger.debug("Trading scenario finished: [{}] (UTC), it is [{}] local time".format(
    finish.strftime("%Y-%m-%d %H:%M:%S"),
    finish.astimezone(tzlocal()).strftime("%Y-%m-%d %H:%M:%S"),
))
uLogger.debug("=--=" * 20)
```
</details>

<details>
  <summary>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∑–∞–ø—É—Å–∫–∞ —Å—Ü–µ–Ω–∞—Ä–∏—è</summary>

```commandline

```

</details>


–ù–∞ —ç—Ç–æ–º –≤—Å—ë, –≤–æ–ø—Ä–æ—Å—ã –∑–∞–¥–∞–≤–∞–π—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª–µ üëâ [**Issues**](https://github.com/Tim55667757/TKSBrokerAPI/issues/new) üëà, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞.

üöÄ –£—Å–ø–µ—Ö–æ–≤ –≤–∞–º –≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±–∏—Ä–∂–µ–≤–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏! –ò –ø—Ä–æ—Ñ–∏—Ç–∞!

[![gift](https://badgen.net/badge/gift/donate/green)](https://yoomoney.ru/quickpay/shop-widget?writer=seller&targets=%D0%94%D0%BE%D0%BD%D0%B0%D1%82%20(%D0%BF%D0%BE%D0%B4%D0%B0%D1%80%D0%BE%D0%BA)%20%D0%B4%D0%BB%D1%8F%20%D0%B0%D0%B2%D1%82%D0%BE%D1%80%D0%BE%D0%B2%20%D0%BF%D1%80%D0%BE%D0%B5%D0%BA%D1%82%D0%B0%20TKSBrokerAPI&default-sum=999&button-text=13&payment-type-choice=on&successURL=https%3A%2F%2Ftim55667757.github.io%2FTKSBrokerAPI%2F&quickpay=shop&account=410015019068268)
